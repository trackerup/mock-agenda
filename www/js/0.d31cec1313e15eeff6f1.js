webpackJsonp([0],{"+ROd":function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+DQo8cmVjdCB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIGZpbGw9InVybCgjcGF0dGVybjApIi8+DQo8ZGVmcz4NCjxwYXR0ZXJuIGlkPSJwYXR0ZXJuMCIgcGF0dGVybkNvbnRlbnRVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIHdpZHRoPSIxIiBoZWlnaHQ9IjEiPg0KPHVzZSB4bGluazpocmVmPSIjaW1hZ2UwIiB0cmFuc2Zvcm09InNjYWxlKDAuMDIwODMzMykiLz4NCjwvcGF0dGVybj4NCjxpbWFnZSBpZD0iaW1hZ2UwIiB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHhsaW5rOmhyZWY9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBREFBQUFBd0NBWUFBQUJYQXZtSEFBQUFCR2RCVFVFQUFMR1BDL3hoQlFBQUFDQmpTRkpOQUFCNkpnQUFnSVFBQVBvQUFBQ0E2QUFBZFRBQUFPcGdBQUE2bUFBQUYzQ2N1bEU4QUFBQUJtSkxSMFFBQUFBQUFBRDVRN3QvQUFBQUNYQklXWE1BQUFCZ0FBQUFZQUR3YTBMUEFBQUEwa2xFUVZSbzN1Mlp3UXFDUUJSRmorSzJQNmgxMzU0SXJWdjBSeVhvRDlnaUJRdkZrWnF1US9mQUxJUjV6ajA4ZERFUGpERUFCNkFDV3FCYldMRlpPcjhGenNCeEhQNGVVTGdWZ1dIVmZYYXFGVVZiRXVpQU11dGJzbHR4UVBZRGdWRGFiS0lnZHNDdkN1YnFOSjlpQVRWRndKNjViNlNiZVNady85cjNUNUo4Qnl5Z3BtRDcvLzEzWHZJbTN3RUxxTEdBR2d1b3NZQWFDNml4Z0JvTHFDbnd2WkFXQzZqeDNhZ2FDNmhKZmNEUjVNQTFjcUNZWE9BNTdhdEpiMFoyQS9aRDBRRW9nU1lCZ1FZNGpjTWI4ODg4QU0rRGZibzNwQm9GQUFBQUpYUkZXSFJrWVhSbE9tTnlaV0YwWlFBeU1ESXhMVEEwTFRFNVZESXhPakExT2pNM0t6QXdPakF3T2ZnbFRBQUFBQ1YwUlZoMFpHRjBaVHB0YjJScFpua0FNakF5TVMwd05DMHhPVlF5TVRvd05Ub3pOeXN3TURvd01FaWxuZkFBQUFBQVNVVk9SSzVDWUlJPSIvPg0KPC9kZWZzPg0KPC9zdmc+DQo="},"0NOe":function(e,t){},"162o":function(e,t,a){(function(e){var s=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function n(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new n(i.call(setTimeout,s,arguments),clearTimeout)},t.setInterval=function(){return new n(i.call(setInterval,s,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(s,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},a("mypn"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(t,a("DuR2"))},"1gkJ":function(e,t,a){"use strict";var s=a("UdET"),i=a("7+uW"),n={name:"InputImageList",extends:s.a,data:function(){return{camHTML:"",images:[]}},beforeMount:function(){Array.isArray(this.value)&&(this.images=this.value)},created:function(){this.camHTML=window.localStorage.getItem("camHTMLService")||"disabled"},methods:{takePic:function(){var e=this;cordova.plugins.backgroundMode.enable();try{"enabled"==this.camHTML?(i.default.camHTML(function(t){e.images.push("data:image/jpeg;base64,"+t),e.$emit("input",e.images,e.id)},function(t){e.$bus.$emit("showErrorEmitted",{msg:e.$t(e.categorizeCameraErrorMessage(t.toString()))})}),null!==document.querySelector("#dialog-photo")&&(this.$dialogPolyfill.doDialog("dialog-photo"),document.querySelector("#dialog-photo").showModal())):navigator.camera.getPicture(function(t){cordova.plugins.backgroundMode.disable(),e.images.push("data:image/jpeg;base64,"+t),e.$emit("input",e.images,e.id)},function(t){e.$bus.$emit("showErrorEmitted",{msg:e.$t(e.categorizeCameraErrorMessage(t.toString()))})},{quality:50,destinationType:navigator.camera.DestinationType.DATA_URL,sourceType:navigator.camera.PictureSourceType.CAMERA,targetHeight:800,targetWidth:800,correctOrientation:!0})}catch(e){console.log(e),cordova.plugins.backgroundMode.disable()}},deleteImage:function(e){this.images.splice(e,1),this.$emit("input",this.images,this.id)},categorizeCameraErrorMessage:function(e){var t="dialog";return!(e=e.toLowerCase()).includes("in use")&&!e.includes("use")||e.includes("max")?e.includes("disabled")?e="A câmera do dispositivo está desabilitada por alguma política do dispositivo e não pode ser aberta":e.includes("disconnected")?e="A câmera do dispositivo encontra-se desconectada":e.includes("notfound")?e="A câmera do dispositivo não foi encontrada":e.includes("20")||e.includes("permission")?e="É necessário aceitar as permissões para acesso à câmera e armazenamento":e.includes("no image")?(e="Nenhuma imagem selecionada",t="snack"):e="Erro ao abrir a câmera - Error: "+e:e="Outro aplicativo está bloqueando o uso da câmera",[e,t]}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.readOnly?e._e():a("div",{staticClass:"container-fotoConjunto"},[a("label",{staticClass:"orange"},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),a("div",{staticClass:"mdl-layout"},[e._l(e.images,function(t,s){return a("div",{key:s,staticClass:"imageThumb mdl-layout-item mdl-size-33"},[a("div",{staticClass:"image"},[a("img",{attrs:{src:t}})]),e._v(" "),a("button",{staticClass:"mdl-button mdl-button--fab mdl-button--mini-fab cancel grey",on:{click:function(t){return e.deleteImage(s)}}},[a("i",{staticClass:"material-icons"},[e._v("close")])])])}),e._v(" "),a("div",{staticClass:"mdl-layout-item mdl-size-33 cameraButton"},[a("button",{staticClass:"mdl-button mdl-button--fab grey",on:{click:e.takePic}},[a("i",{staticClass:"material-icons"},[e._v("camera_enhance")])])])],2),e._v(" "),e._l(e.errors,function(t,s){return a("span",{key:s,staticClass:"mdl-error",domProps:{innerHTML:e._s(t)}})})],2),e._v(" "),e.readOnly?a("div",{staticClass:"readOnly"},[a("label",{staticClass:"orange"},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),a("span",{staticClass:"value"},e._l(e.images,function(e,t){return a("div",{key:t,staticClass:"imageThumb mdl-layout-item mdl-size-33"},[a("div",{staticClass:"image"},[a("img",{attrs:{src:e}})])])}),0)]):e._e()])},staticRenderFns:[]},o=a("VU/8")(n,r,!1,null,null,null);t.a=o.exports},"2/7y":function(e,t,a){"use strict";var s={name:"Orientacao",extends:a("UdET").a,data:function(){return{}}},i={render:function(){var e=this.$createElement,t=this._self._c||e;return this.readOnly?this._e():t("div",{staticClass:"orientacao",domProps:{innerHTML:this._s(this.texto)}})},staticRenderFns:[]},n=a("VU/8")(s,i,!1,null,null,null);t.a=n.exports},"2hzV":function(e,t,a){"use strict";var s=a("//Fk"),i=a.n(s),n=a("Xxa5"),r=a.n(n),o=a("exGp"),l=a.n(o),c=a("T75j"),u=a("IcnI"),d=a("7K8a");var m=a("DtRx"),p=a.n(m);t.d=function(){c.a.getAll("registro_ponto").then(function(e){var t=u.a.getters["user/user"],a={};if(e&&e.length>0&&(1===e[e.length-1].tipo||3===e[e.length-1].tipo)){var s=new Date;s.setTime(e[e.length-1].timeBatida?e[e.length-1].timeBatida:1e3*e[e.length-1].timeServer),s.setHours(0,0,0,0);var i=new Date;if(i.setHours(0,0,0,0),i.getTime()!==s.getTime()){var n=new Date;n.setDate(i.getDate()-1),n.setHours(23,59,59,0);var r={tipo:2};r.timeBatida=n.getTime(),r.origemBatida="entradaSemSaida",r.idUsuario=t.id,v(r).then(function(e){r.idOnApp=e}),a.tipo=3,a.timeBatida=(new Date).getTime(),a.origemBatida="registrarEntrada",a.idUsuario=t.id,v(a).then(function(e){a.idOnApp=e})}}else a.tipo=3,a.timeBatida=(new Date).getTime(),a.origemBatida="registrarEntrada",a.idUsuario=t.id,v(a).then(function(e){a.idOnApp=e})})},t.a=function(e){e.pullTracker={act:"registerFolhaPonto"},1===e.tipo||3===e.tipo?e.tipo=3:e.tipo=4;e.origem="atualizaPonto",e.timeEnvio=(new Date).getTime(),function(e){var t,a=this;return new i.a((t=l()(r.a.mark(function t(s,i){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.b.post("/?registerFolhaPonto",e).then(function(e){var t=e.data;s(t)}).catch(function(e){var t={data:{success:!1,error:e.message}};i(t)});case 2:case"end":return t.stop()}},t,a)})),function(e,a){return t.apply(this,arguments)}))}(e).then(function(e){"ok"==e.status&&function(e){var t=u.a.getters["user/user"],a={hashTempo:e.hashTempo,idServer:e.id,idRegistro:e.idRegistro,idUsuario:t.id,sinc:1,timeBatida:Date.parse(e.timeBatida),timeEnvio:Date.parse(e.timeEnvio),timeServer:Date.parse(e.timeServer),tipo:e.tipo,uuid:e.uuid?e.uuid:p()()};e.idOnApp&&(a.id=parseInt(e.idOnApp));c.b.setOne("registro_ponto",a)}(e.registro)}).catch(function(e){var t=e.data,a=t.mensagem||t.error;console.log(a)})},t.b=function(){return new i.a(function(e,t){c.a.getAll("registro_ponto").then(function(t){for(var a=[],s=0;s<t.length;s++){var i=t[s];0!==i.sinc&&"0"!==i.sinc||(i.idOnApp=i.id,a.push(i))}e(a)})})},t.e=function(e){var t=this;return new i.a((a=l()(r.a.mark(function a(s,i){var n,o;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=4;break}i(e),t.next=14;break;case 4:return e.sinc=1,t.next=7,c.a.searchItembyIndex("registro_ponto","uuid",e.uuid);case 7:if(n=t.sent){t.next=13;break}return o={hashTempo:e.hashTempo,idServer:e.id,idRegistro:e.idRegistro,idUsuario:e.idUsuario,sinc:e.sinc,timeBatida:Date.parse(e.timeBatida),timeEnvio:Date.parse(e.timeEnvio),timeServer:Date.parse(e.timeServer),tipo:e.tipo,uuid:e.uuid?e.uuid:p()()},t.next=12,c.b.setOne("registro_ponto",o);case 12:s(o);case 13:s(n);case 14:case"end":return t.stop()}},a,t)})),function(e,t){return a.apply(this,arguments)}));var a},t.c=function(e){var t=u.a.getters["user/user"];(function(e){var t,a=this;return new i.a((t=l()(r.a.mark(function t(s,i){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.b.post("/",e).then(function(e){var t=e.data;s(t)}).catch(function(e){var t={data:{success:!1,error:e.message}};i(t)});case 2:case"end":return t.stop()}},t,a)})),function(e,a){return t.apply(this,arguments)}))})({pullTracker:{act:e.act},user:t.id,token:t.token,extra:e}).then(function(e){console.log(e)}).catch(function(e){var t=e.data,a=t.mensagem||t.error;console.log(a)})};var h,v=(h=l()(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.b.setOneWithInsertId("registro_ponto",{idUsuario:t.idUsuario,timeBatida:t.timeBatida,tipo:t.tipo,origem:t.origemBatida,sinc:0,uuid:p()()}).then(function(){var e=l()(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},"35fZ":function(e,t,a){"use strict";var s=a("PJh5"),i=a.n(s),n={name:"Inicio",props:{texto:{type:String,required:!1},value:{type:String,required:!1,default:function(){return""}}},created:function(){this.componentValue=i()((new Date).toISOString()).format("YYYY-MM-DD HH:mm:ss")},data:function(){return{componentValue:this.value}},mounted:function(){this.$emit("input",this.componentValue)},methods:{getValue:function(){return this.$emit("input",this.componentValue),this.componentValue}}},r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"readOnly"},[t("label",{domProps:{innerHTML:this._s(this.texto)}}),this._v(" "),t("span",{staticClass:"value"},[this._v("\n      "+this._s(this.componentValue)+"\n    ")])])},staticRenderFns:[]},o=a("VU/8")(n,r,!1,null,null,null).exports,l={name:"InicioHora",props:{texto:{type:String,required:!1},value:{type:String,required:!1,default:function(){return""}}},created:function(){this.componentValue=i()((new Date).toISOString()).format("HH:mm")},data:function(){return{componentValue:this.value}},mounted:function(){this.$emit("input",this.componentValue)},methods:{getValue:function(){return this.$emit("input",this.componentValue),this.componentValue}}},c={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"readOnly"},[t("label",{domProps:{innerHTML:this._s(this.texto)}}),this._v(" "),t("span",{staticClass:"value"},[this._v("\n      "+this._s(this.componentValue)+"\n    ")])])},staticRenderFns:[]},u=a("VU/8")(l,c,!1,null,null,null).exports,d={name:"Termino",props:{texto:{type:String,required:!1},value:{type:String,required:!1,default:function(){return""}}},created:function(){},destroyed:function(){},data:function(){return{componentValue:this.value}},mounted:function(){this.$emit("input",this.componentValue)},methods:{getValue:function(){return this.componentValue=i()((new Date).toISOString()).format("YYYY-MM-DD HH:mm:ss"),this.$emit("input",this.componentValue),this.componentValue}}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.readOnly?a("div",{staticClass:"readOnly"},[a("label",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{staticClass:"value"},[e._v("\n      "+e._s(e.componentValue)+"\n    ")])]):e._e()},staticRenderFns:[]},p=a("VU/8")(d,m,!1,null,null,null).exports,h={name:"TerminoHora",props:{texto:{type:String,required:!1},value:{type:String,required:!1,default:function(){return""}},readOnly:{type:Boolean,required:!1,default:function(){return!0}}},created:function(){this.componentValue=i()((new Date).toISOString()).format("HH:mm")},data:function(){return{componentValue:this.value}},mounted:function(){this.$emit("input",this.componentValue)},methods:{getValue:function(){return this.componentValue=i()((new Date).toISOString()).format("YYYY-MM-DD HH:mm"),this.$emit("input",this.componentValue),this.componentValue}}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.readOnly?a("div",{staticClass:"readOnly"},[a("label",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{staticClass:"value"},[e._v("\n      "+e._s(e.componentValue)+"\n    ")])]):e._e()},staticRenderFns:[]},f=a("VU/8")(h,v,!1,null,null,null).exports,_={name:"InicioTarefa",props:{texto:{type:String,required:!1},value:{type:String,required:!1,default:function(){return""}}},data:function(){return{}},mounted:function(){this.$emit("input",this.value)},methods:{getValue:function(){return this.$emit("input",this.value),this.value}}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.readOnly?a("div",{staticClass:"readOnly"},[a("label",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{staticClass:"value"},[e._v("\n      "+e._s(e.value)+"\n    ")])]):e._e()},staticRenderFns:[]},b=a("VU/8")(_,g,!1,null,null,null).exports,C={name:"FimTarefa",props:{texto:{type:String,required:!1},value:{type:String,required:!1,default:function(){return""}}},data:function(){return{}},mounted:function(){this.$emit("input",this.value)},methods:{getValue:function(){return this.$emit("input",this.value),this.value}}},y={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{staticClass:"readOnly"},[t("label",{domProps:{innerHTML:this._s(this.texto)}}),this._v(" "),t("span",{staticClass:"value"},[this._v("\n      "+this._s(this.value)+"\n    ")])])])},staticRenderFns:[]},x=a("VU/8")(C,y,!1,null,null,null).exports,k=a("Xxa5"),w=a.n(k),$=a("exGp"),V=a.n($),T={name:"PontoGeo",props:{texto:{type:String,required:!1},value:{type:Object,required:!0}},data:function(){return{componentValue:this.value,textValue:"",errorImage:!1}},watch:{value:{handler:function(){var e=V()(w.a.mark(function e(t){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.componentValue=t,e.next=3,this.handleValue();case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),immediate:!0,deep:!0}},beforeMount:function(){var e=this;return V()(w.a.mark(function t(){return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.handleValue();case 1:case"end":return t.stop()}},t,e)}))()},mounted:function(){this.$emit("input",this.componentValue)},methods:{handleValue:function(){var e=this;return V()(w.a.mark(function t(){var a;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.textValue="","number"==typeof e.componentValue.lat&&"number"==typeof e.componentValue.lng){t.next=4;break}return t.abrupt("return",!1);case 4:return a=!1,e.componentValue.lat&&(e.textValue+=e.componentValue.lat,a=!0),e.componentValue.lng&&(a&&(e.textValue+=", "),e.textValue+=e.componentValue.lng,a=!0),e.componentValue.endereco?(a&&(e.textValue+=", "),e.textValue+=e.componentValue.endereco,a=!0):a=!1,t.next=10,e.imageExists(e.componentValue,e,e.setImage);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),e.componentValue="-";case 15:case"end":return t.stop()}},t,e,[[0,12]])}))()},getValue:function(){return this.$emit("input",this.componentValue),this.componentValue},setImage:function(e){this.componentValue=e},imageExists:function(e,t,a){var s="http://maps.googleapis.com/maps/api/staticmap?size=300x169&maptype=roadmap&markers=color:red%7Clabel:.%7C"+e.lat+","+e.lng+"&key=AIzaSyBD1aOJIDLTR81Cwv_B_aI8am_R7aCujLA",i=new Image;return i.onload=function(){a(s)},i.onerror=function(){t.setErrorImage()},i.src=s,i},setErrorImage:function(){this.errorImage=!0}}},S={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"inputPredefinedPontogeo"},[s("label",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),s("div",{staticClass:"pontoGeoValue"},[e.errorImage?s("img",{attrs:{src:a("MYjn")}}):s("img",{attrs:{src:e.componentValue}}),e._v(" "),s("p",[e._v(e._s(e.textValue))])])])},staticRenderFns:[]};var O=a("VU/8")(T,S,!1,function(e){a("iOID")},"data-v-6d0ead5c",null).exports,I={name:"Agent",props:{texto:{type:String,required:!0}},data:function(){return{}},computed:{value:function(){return this.$store.getters["user/user"].nome}},mounted:function(){this.$emit("input",this.value)},methods:{getValue:function(){return this.$emit("input",this.value),this.value}}},P={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"readOnly"},[t("label",{domProps:{innerHTML:this._s(this.texto)}}),this._v(" "),t("span",{staticClass:"value"},[this._v("\n      "+this._s(this.value)+"\n    ")])])},staticRenderFns:[]},R=a("VU/8")(I,P,!1,null,null,null).exports,N=a("Dd8w"),D=a.n(N),L=a("NYxO"),F={name:"Local",props:{value:{required:!0}},data:function(){return{}},computed:D()({},Object(L.b)({locals:"locals/locais",coords:"user/coords"})),beforeMount:function(){var e=this;return V()(w.a.mark(function t(){return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("locals/getLocals",{});case 2:case"end":return t.stop()}},t,e)}))()},mounted:function(){var e=this.$store.getters["user/coords"];if(e){var t=this.$store.getters["locals/locais"],a=this.buscaLocalProximo(e,t);a&&this.$emit("input",a.id)}},methods:{getValue:function(){return this.$emit("input",this.value),this.value},onInput:function(e){this.$emit("input",e,this.id)},buscaLocalProximo:function(e,t){for(var a=null,s=null,i=0;i<t.length;i++){var n=t[i],r=this.$routeService.medir(e.latitude,e.longitude,n.lat,n.lng);(0==i||r<a)&&(a=r,s=n)}return s}}},M={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"inputPredefinedLocal"})},staticRenderFns:[]};var E=a("VU/8")(F,M,!1,function(e){a("orix")},"data-v-6c2e5243",null).exports;a.d(t,"c",function(){return o}),a.d(t,"d",function(){return u}),a.d(t,"h",function(){return p}),a.d(t,"i",function(){return f}),a.d(t,"e",function(){return b}),a.d(t,"b",function(){return x}),a.d(t,"g",function(){return O}),a.d(t,"a",function(){return R}),a.d(t,"f",function(){return E})},"3IxF":function(e,t){},"3KnT":function(e,t,a){"use strict";var s=a("woOf"),i=a.n(s),n=a("fZjL"),r=a.n(n),o=a("mvHQ"),l=a.n(o),c=a("//Fk"),u=a.n(c),d=a("gRE1"),m=a.n(d),p=a("Dd8w"),h=a.n(p),v=a("hlPV"),f=a("UdET"),_=a("9VIl"),g=a("NYxO"),b=a("aHUH"),C=a("T75j"),y=a("T8Nv"),x={name:"InputSku",components:{Money:_.Money,InputBarcode:b.a},directives:{mask:v.mask},extends:f.a,data:function(){return{currentValue:{sku:"",eng:"",serie:""},thisErrors:{sku:[],serie:[],eng:[]}}},computed:h()({},Object(g.b)({defaultPreResp:"task/defaultPreResp"}),{catalogoDisponivel:function(){return"true"==this.preResp.catalago_disponivel},preResp:function(){return this.defaultPreResp?this.defaultPreResp:JSON.parse(m()(this.currentTask.metaDados).find(function(e){return"__pre_resp"==e.meta_key}).meta_value)}}),props:{fieldMetadados:{},currentTask:"",maxInputSku:"",maxInputEng:"",maxInputSerie:""},watch:{value:function(e){"string"==typeof e?this.currentValue=JSON.parse(e):this.value&&(this.currentValue=e)},errors:function(e){this.currentValue.sku||(this.thisErrors.sku=e),this.currentValue.serie||(this.thisErrors.serie=e),this.currentValue.eng||(this.thisErrors.eng=e)}},mounted:function(){this.$dialogPolyfill.doDialog("dialogLoaderCatalog"),void 0!=this.value?"string"==typeof this.value?this.currentValue=JSON.parse(this.value):this.currentValue=this.value:(this.currentValue.sku=this.preResp.sku,this.currentValue.eng=this.preResp.versao,this.preResp&&this.preResp.versao&&(this.preResp.versao.length>this.maxInputEng&&(this.currentValue.eng=this.preResp.versao.substr(this.preResp.versao.length-this.maxInputEng)),this.preResp.versao.length<this.maxInputEng&&(this.currentValue.eng="0"+this.preResp.versao)),this.currentValue.serie=this.preResp.serie),this.validar(),this.$store.getters["task/defaultPreResp"]&&this.$store.getters["task/defaultPreResp"].catalago_disponivel||this.pesquisarModelo(this.currentValue.sku)},methods:{isValid:function(){this.errors=[],this.hasErrors=!1;var e=!1;return this.currentValue.sku&&this.currentValue.sku.length==this.maxInputSku&&this.currentValue.eng&&this.currentValue.eng.length==this.maxInputEng&&this.currentValue.serie&&this.currentValue.serie.length<=this.maxInputSerie&&(e=!0),!("1"==this.obrigatorio&&!e)||(this.errors.push(this.$t("Este field é obrigatório")),this.hasErrors=!0,!1)},setMask:function(e){return new u.a(function(t){e.mask||t(!1),e.mask.vmask=null,e.mask.campo||(e.mask={matriz:e.mask.lista,campo:e.mask.mascara,tipo:"texto",grupo:"1",mascara:"texto"}),t("text")})},getTextMask:function(e,t){var a=e;return new u.a(function(e,t){a.mask.vmask="",""!=a.mask.vmask&&(a.showMasks=!0),e(!0)})},getTextFromBarcode:function(){var e=this;this.$root.getTextFromBarcode().then(function(t){e.$emit("input",t,e.id)}).catch(function(t){e.$bus.$emit("showSnackBar",{message:e.$t(t.msg),duration:2e3})})},onInput:function(e){if("barcode"==e.target.origin&&"_sku"==e.target.id.substr(-4)){var t=RegExp("^\\*?(\\w{10})(\\w{2})$");if(t.test(e.target.value)){var a=t.exec(e.target.value);this.currentValue.sku=a[1],this.currentValue.eng=a[2]}else this.$bus.$emit("showSnackBar",{message:this.$t("Etiqueta fora do padrão! Por favor digite as informações."),duration:5e3})}else"_sku"==e.target.id.substr(-4)?this.currentValue.sku=e.target.value.substr(0,this.maxInputSku):"_eng"==e.target.id.substr(-4)?this.currentValue.eng=e.target.value.substr(0,this.maxInputEng):"_serie"==e.target.id.substr(-6)&&(this.currentValue.serie=e.target.value.substr(0,this.maxInputSerie));this.validar(e)},validar:function(e){this.thisErrors={sku:[],serie:[],eng:[]},this.hasErrors=!1;var t=["Este campo é obrigatório","Etiqueta fora do padrão! Este campo deve conter exatamente "+this.maxInputSku+" caracteres","Etiqueta fora do padrão! Este campo deve conter exatamente "+this.maxInputEng+" caracteres","Este campo deve conter no máximo "+this.maxInputSerie+" caracteres"];if(this.currentValue&&""!=this.currentValue.sku&&null!=this.currentValue.sku||(this.thisErrors.sku.push(this.$t(t[0])),this.hasErrors=!0),this.currentValue&&""!=this.currentValue.eng&&null!=this.currentValue.eng||(this.thisErrors.eng.push(this.$t(t[0])),this.hasErrors=!0),this.currentValue&&""!=this.currentValue.serie&&null!=this.currentValue.serie||(this.thisErrors.serie.push(this.$t(t[0])),this.hasErrors=!0),this.currentValue&&void 0!=this.currentValue.sku&&this.maxInputSku&&this.currentValue.sku.length!=this.maxInputSku&&""!=this.currentValue.sku.length&&(this.thisErrors.sku.push(this.$t(t[1])),this.hasErrors=!0),this.currentValue&&void 0!=this.currentValue.eng&&this.maxInputEng&&this.currentValue.eng.length!=this.maxInputEng&&""!=this.currentValue.eng.length&&(this.thisErrors.eng.push(this.$t(t[2])),this.hasErrors=!0),this.currentValue&&void 0!=this.currentValue.serie&&this.maxInputSerie&&this.currentValue.serie.length>this.maxInputSerie&&""!=this.currentValue.serie.length&&(this.thisErrors.serie.push(this.$t(t[3])),this.hasErrors=!0),this.currentValue.sku&&this.currentValue.sku.length==this.maxInputSku&&this.currentValue.eng&&this.currentValue.eng.length==this.maxInputEng&&this.currentValue.serie&&this.currentValue.serie.length<=this.maxInputSerie){var a=this.$store.getters["task/defaultPreResp"];if(a&&a.catalago_disponivel&&a.sku.toUpperCase()==this.currentValue.sku.toUpperCase()||this.pesquisarModelo(this.currentValue.sku),this.hasErrors)return!1;this.$emit("updatePreResp",{key:"sku",value:this.currentValue.sku}),this.$emit("updatePreResp",{key:"versao",value:this.currentValue.eng}),this.$emit("updatePreResp",{key:"serie",value:this.currentValue.serie}),this.$emit("input",l()(this.currentValue),this.id)}else this.$emit("input",null,this.id)},pesquisarModelo:function(e){var t=this;t.modelo=e,t.searching=!0,t.$bus.$emit("showSnackBar",{message:t.$t("Aguarde..."),duration:1e3}),t.dialogIsOpen("dialogTentarNovamente")&&t.closeDialog("dialogTentarNovamente"),t.fieldMetadados&&t.$emit("updatePreResp",{key:"sku",value:e});var a=JSON.parse(t.currentTask.metaDados.find(function(e){return"__appliances"==e.meta_key}).meta_value).applianceLineCode;C.a.getOne("task_download",t.currentTask.id).then(function(s){s&&s.jsonValue&&s.jsonValue.catalogo&&s.jsonValue.catalogo.pecas&&r()(s.jsonValue.catalogo.pecas).length>0&&s.jsonValue.catalogo.sku==e?(t.closeDialog("dialogLoaderCatalog"),t.$emit("updatePreResp",{key:"catalago_disponivel",value:"true"}),t.$bus.$emit("showSnackBar",{message:t.$t("Catalogo encontrado!"),duration:3e3})):(t.openDialog("dialogLoaderCatalog"),Object(y.c)("?pullTracker[act]=whirpool_get_dados_by_modelo&modelo="+e+"&applianceLineCode="+a).then(function(e){if("catalogo"in e.data&&r()(e.data.catalogo.pecas).length>0){var a={pullTracker:{act:"update_tarefa_meta"},tarefa:t.currentTask,meta:[{meta_key:"__pre_resp",meta_value:l()(t.preResp)},{meta_key:"__blockDownload",meta_value:"true"}]};Object(y.f)(a).then(function(e){}),i()(s.jsonValue.catalogo,e.data.catalogo),i()(s.jsonValue.defeitos,e.data.defeitos),C.b.setOne("task_download",s).then(function(){}),t.closeDialog("dialogLoaderCatalog"),t.$emit("updatePreResp",{key:"catalago_disponivel",value:"true"})}else t.closeDialog("dialogLoaderCatalog"),t.openDialog("dialogTentarNovamente"),t.$bus.$emit("showSnackBar",{message:t.$t("Nenhum modelo encontrado!"),duration:3e3})}).catch(function(e){console.log(e),t.$bus.$emit("showSnackBar",{message:t.$t("Catalogo indisponível! Sem conexão."),duration:3e3}),t.closeDialog("dialogLoaderCatalog"),t.openDialog("dialogTentarNovamente")}))})},openDialog:function(e){this.$el.querySelector("#"+e).open?(this.$el.querySelector("#"+e).close(),this.$el.querySelector("#"+e).showModal()):this.$el.querySelector("#"+e).showModal()},closeDialog:function(e){this.$el.querySelector("#"+e).close()},dialogIsOpen:function(e){return this.$el.querySelector("#"+e).open},closeDialogRetry:function(){this.closeDialog("dialogTentarNovamente"),this.$emit("updatePreResp",{key:"catalago_disponivel",value:"false"})}}},k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.readOnly?a("div",{staticClass:"readOnly"},[a("label",{staticClass:"orange",domProps:{innerHTML:e._s(e.texto)}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),a("span",{staticClass:"value"},[e._v("\n      "+e._s(e.currentValue.sku)+"\n    ")]),e._v(" "),a("label",{staticClass:"orange",domProps:{innerHTML:e._s("Versão")}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),a("span",{staticClass:"value"},[e._v("\n      "+e._s(e.currentValue.eng)+"\n    ")]),e._v(" "),a("label",{staticClass:"orange",domProps:{innerHTML:e._s("Serie")}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),a("span",{staticClass:"value"},[e._v("\n      "+e._s(e.currentValue.serie)+"\n    ")])]):a("div",[a("InputBarcode",{attrs:{texto:e.texto,id:e.id+"_sku",value:e.currentValue.sku,maxLength:"10",obrigatorio:e.obrigatorio},on:{input:e.onInput,change:e.validar}}),e._v(" "),e._l(e.thisErrors.sku,function(t,s){return a("span",{key:"sku"+s,staticClass:"mdl-error",attrs:{id:"sku"+s},domProps:{innerHTML:e._s(t)}})}),e._v(" "),a("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label textfield-with-icon",class:[{"is-dirty":""!=e.value}]},[a("input",{staticClass:"mdl-textfield__input",attrs:{id:e.id+"_eng"},domProps:{value:e.currentValue.eng},on:{input:e.onInput,change:e.validar}}),e._v(" "),a("label",{staticClass:"mdl-textfield__label",attrs:{for:e.id+"_eng"}},[a("span",{domProps:{innerHTML:e._s(e.$t("Versão Engenharia"))}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])])]),e._v(" "),e._l(e.thisErrors.eng,function(t,s){return a("span",{key:"eng"+s,staticClass:"mdl-error",attrs:{id:"eng"+s},domProps:{innerHTML:e._s(t)}})}),e._v(" "),a("InputBarcode",{attrs:{texto:"Serie",id:e.id+"_serie",value:e.currentValue.serie,maxLength:"9",obrigatorio:e.obrigatorio},on:{input:e.onInput,change:e.validar}}),e._v(" "),e._l(e.thisErrors.serie,function(t,s){return a("span",{key:"serie"+s,staticClass:"mdl-error",attrs:{id:"serie"+s},domProps:{innerHTML:e._s(t)}})}),e._v(" "),e.catalogoDisponivel?e._e():a("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-card",class:[{"is-dirty":""!=e.value}]},[a("center",[e._v(e._s(e.$t("Catalogo indisponível")))]),e._v(" "),a("button",{staticClass:"mdl-button orange full-width",attrs:{type:"button"},on:{click:function(t){return e.pesquisarModelo(e.currentValue.sku)}}},[e._v("\n          "+e._s(e.$t("Buscar catalogo"))+"\n      ")])],1)],2),e._v(" "),e._l(e.errors.eng,function(t,s){return a("span",{key:s,staticClass:"mdl-error",domProps:{innerHTML:e._s(t)}})}),e._v(" "),a("dialog",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-dialog",attrs:{id:"dialogTentarNovamente"}},[a("h6",{staticClass:"mdl-dialog__title"},[e._v(e._s(e.$t("Falha ao buscar catálogo")))]),e._v(" "),a("div",{staticClass:"mdl-dialog__content"},[a("p",[e._v("\n        "+e._s(e.$t("Deseja tentar novamente"))+"\n      ")])]),e._v(" "),a("div",{staticClass:"mdl-dialog__actions"},[a("button",{staticClass:"mdl-button orange",attrs:{type:"button"},on:{click:function(t){return e.pesquisarModelo(e.currentValue.sku)}}},[e._v("\n        "+e._s(e.$t("Tentar novamente"))+"\n      ")]),e._v(" "),a("button",{staticClass:"mdl-button grey close",attrs:{type:"button"},on:{click:e.closeDialogRetry}},[e._v("\n        "+e._s(e.$t("Cancelar"))+"\n      ")])])]),e._v(" "),a("dialog",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-dialog",attrs:{id:"dialogLoaderCatalog"}},[a("h6",{staticClass:"mdl-dialog__title"},[e._v(e._s(e.$t("Carregando catálogo")))]),e._v(" "),a("div",{staticClass:"mdl-dialog__content"},[a("div",{staticClass:"tiny-loader"}),e._v(" "),a("p",[e._v(e._s(e.$t("Aguarde")))])])])],2)},staticRenderFns:[]};var w=a("VU/8")(x,k,!1,function(e){a("JcoZ")},"data-v-5e5c3caa",null);t.a=w.exports},"3uXF":function(e,t,a){"use strict";var s={name:"HourSeparator",data:function(){return{}},props:{showreorder:!1,model:{type:Object,required:!0,default:function(){return{name:"",time:"",period:"",reorder:""}}}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mdl-grid hour-item"},[a("div",{staticClass:"mdl-toolbar-section-start body-1"},[e._v("\n    "+e._s(e.model.period)+"\n  ")]),e._v(" "),this.$parent.allowOrder&&this.showreorder?a("div",{staticClass:"reordernar"},[a("button",{directives:[{name:"show",rawName:"v-show",value:""==this.$parent.orderName||this.$parent.orderName==e.model.name,expression:"this.$parent.orderName == '' || this.$parent.orderName == model.name"}],staticClass:"mdl-button mdl-button--raised mld-button-small mdl-button--colored orange",class:[this.$parent.orderName==e.model.name?"green":""],on:{click:function(t){return e.$emit("reorder",e.model.name)}}},[a("span",{directives:[{name:"show",rawName:"v-show",value:""==this.$parent.orderName,expression:"this.$parent.orderName == ''"}]},[e._v("\n          "+e._s(e.$t("Reordenar"))+"\n        ")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:this.$parent.orderName==e.model.name,expression:"this.$parent.orderName == model.name"}]},[e._v("\n            "+e._s(e.$t("Salvar"))+"\n        ")])])]):e._e(),e._v(" "),a("div",{staticClass:"mdl-toolbar-section-end mdl-caption"})])},staticRenderFns:[]},n=a("VU/8")(s,i,!1,null,null,null);t.a=n.exports},"4zFs":function(e,t,a){"use strict";t.a=function(e){var t=this;return new l.a((a=r()(i.a.mark(function a(s,n){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.b.post("/login.php",e).then(function(e){var t={data:e.data};s(t)}).catch(function(e){var t={data:{success:!1,error:e.message}};n(t)});case 2:case"end":return t.stop()}},a,t)})),function(e,t){return a.apply(this,arguments)}));var a},t.c=function(e){var t=this;return u.a.dispatch("user/setStartBackground",{status:!1}),new l.a((a=r()(i.a.mark(function a(s,n){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.b.post("/?pullTracker[act]=encerrarRastreamento",e).then(function(e){var t={data:e.data};s(t)}).catch(function(e){var t={data:{success:!1,error:e.message}};n(t)});case 2:case"end":return t.stop()}},a,t)})),function(e,t){return a.apply(this,arguments)}));var a},t.b=function(e){var t=this;return e.notId=window.localStorage.getItem("notificationId"),u.a.dispatch("user/setStartBackground",{status:!0}),new l.a((a=r()(i.a.mark(function a(s,n){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.b.post("/?pullTracker[act]=initRastreamento",e).then(function(e){var t={data:e.data};s(t)}).catch(function(e){var t={data:{success:!1,error:e.message}};n(t)});case 2:case"end":return t.stop()}},a,t)})),function(e,t){return a.apply(this,arguments)}));var a};var s=a("Xxa5"),i=a.n(s),n=a("exGp"),r=a.n(n),o=a("//Fk"),l=a.n(o),c=a("7K8a"),u=a("IcnI")},"6sG6":function(e,t,a){"use strict";var s=a("Xxa5"),i=a.n(s),n=a("exGp"),r=a.n(n),o=a("woOf"),l=a.n(o),c=a("fZjL"),u=a.n(c),d=a("Dd8w"),m=a.n(d),p=a("gRE1"),h=a.n(p),v=a("mvHQ"),f=a.n(v),_=a("UdET"),g=a("0xDb"),b=a("8HIX"),C=a("aHUH"),y=a("zqAa"),x={name:"InputChip",props:{id:{required:!0},texto:{type:String},default:{type:String,required:!1,default:""},obrigatorio:{type:String,required:!1,default:""},destaque:{type:String,required:!1,default:"0"},value:{required:!0},readOnly:{required:!1,default:!1},blocked:{type:Boolean,required:!1,default:!1},messageError:{type:String,required:!1,default:""},itens:{required:!1,default:!1}},data:function(){return{itemValue:"",itemLabel:"",options:[]}},beforeMount:function(){var e=this;return r()(i.a.mark(function t(){var a,s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.lista){t.next=6;break}return t.next=3,y.a.getFormList(e.lista);case 3:a=t.sent,s=a.itens,e.options=s;case 6:e.itens&&!e.lista&&(e.options=e.itens),e.getSelected();case 8:case"end":return t.stop()}},t,e)}))()},methods:{getSelected:function(){var e=this;if(this.value){var t=this.options.find(function(t){return t.id==e.value});this.itemLabel=t.titulo,this.itemValue=t.id,this.$emit("change",this.id)}else this.itemLabel=null,this.itemValue=null},setInput:function(e){var t=e;t?(this.itemLabel=t.titulo,this.itemValue=t.id,this.errors=[],this.$emit("input",t,this.id),this.$emit("change",this.id),this.$forceUpdate()):(this.itemLabel=null,this.itemValue=null,this.$emit("input",t,this.id),this.$emit("change",this.id))}}},k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.readOnly?e.itemLabel?a("div",{staticClass:"readOnly"},[a("label",{staticClass:"orange"},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),a("span",{staticClass:"value"},[e._v("\n    "+e._s(e.itemLabel)+"\n  ")])]):e._e():a("div",[a("label",{staticClass:"orange"},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),e._l(e.options,function(t){return a("span",{key:t.id,staticClass:"mdl-chip",class:[{"orange mdl-chip--deletable mdl-chip--deletable-right":t.id==e.itemValue}],on:{click:function(a){return e.setInput(t)}}},[t.id==e.itemValue?a("button",{staticClass:"mdl-chip__action",attrs:{type:"button"}},[a("i",{staticClass:"material-icons"},[e._v("done")])]):e._e(),e._v(" "),a("span",{staticClass:"mdl-chip__text"},[e._v(e._s(t.titulo)+" ")])])})],2)])},staticRenderFns:[]},w=a("VU/8")(x,k,!1,null,null,null).exports,$={name:"PartsSelectionDialog",components:{TheSnackBar:b.a,InputBarcode:C.a,InputChip:w},data:function(){return{searchTerm:"",farol:!0,ativaFiltroDeSerie:!1,serieDate:!1,snackshow:!1,pecaLivre:{peca:"",ocorrencia:"",fctao:""},messagePecaLivre:"",listFctao:[{fctaoId:"A",fctaoDescription:"Aplicado"},{fctaoId:"C",fctaoDescription:"Consertado"},{fctaoId:"F",fctaoDescription:"Faltante"},{fctaoId:"O",fctaoDescription:"Orientação de uso"},{fctaoId:"T",fctaoDescription:"Trocado"}],listFctaoItens:[{id:"A",titulo:"Aplicado"},{id:"C",titulo:"Consertado"},{id:"F",titulo:"Faltante"},{id:"O",titulo:"Orientação de uso"},{id:"T",titulo:"Trocado"}]}},props:{id:{required:!0},texto:{required:!0},pecas:{required:!0},jsonPath:{default:function(){return["modelos","material","pecas","ocorrencia","fcta"]}},currentValue:{required:!0},preResp:{required:!0},mascara:{default:""},livre:{type:Boolean,default:!1}},beforeMount:function(){this.clear()},mounted:function(){this.livre&&this.clear()},beforeUpdate:function(){this.preResp&&(this.serieDate=this.getDateFromSerie(this.preResp.serie),this.serieDate&&(this.ativaFiltroDeSerie=!0))},computed:{lastDepth:function(){return this.jsonPath?this.jsonPath[this.jsonPath.length-1]:""}},methods:{recarrega:function(){this.$bus.$emit("tasks-sync",!0),this.$el.querySelector("#tentar_novamente").innerHTML="Aguarde",this.$el.querySelector("#tentar_novamente").disabled=!0},clear:function(){this.searchTerm="",this.pecaLivre={peca:"",ocorrencia:"",fctao:""}},codBarReturn:function(e,t){var a=this;this.searchTerm=e.target.value,""!=e.target.value&&h()(this.pecas).forEach(function(e){if(e.partId&&a.searchTerm&&e.partId==a.searchTerm)for(var t in e.isOpen=!0,e.ocorrencia)e.ocorrencia.hasOwnProperty(t)&&(e.ocorrencia[t].isOpen=!1);else e.isOpen=!1})},isVisible:function(e){var t="",a=this,s=this.getEngVersion(this.preResp.versao);for(var i in e)"string"==typeof e[i]&&(t+=e[i].replace(/\s\s+/g," ")+" ");var n=!0,r=!0;return this.farol&&this.preResp.sku&&this.preResp.versao&&this.preResp.serie&&(s&&h()(e.versao).length>0&&(n=h()(e.versao).filter(function(e){return parseInt(e.versionId)==parseInt(s)}).length>0),a.serieDate&&h()(e.serie).length>0?(r=h()(e.serie).filter(function(e){var t=a.getDateFromSerie(e.serialNumberFrom),s=a.getDateFromSerie(e.serialNumberTo);return a.serieDate>=t&&a.serieDate<=s}).length>0)&&(a.filtroSerieNumber=r):a.ativaFiltroDeSerie&&(r=!0)),n&&r&&(!this.searchTerm||""==this.searchTerm||Object(g.d)("%"+this.searchTerm.toUpperCase()+"%",t.toUpperCase()))},getEngVersion:function(e){return!(!e||3!=e.length||!e.match(/^\w{3}$/gim))&&e},getDateFromSerie:function(e){var t=new Date;if(">>>"==e)return t;if(!e||e.length<3||!e.substr(0,3).match(/[A-Z]{2}\d/gim))return!1;var a=e.substr(1,1).toUpperCase().charCodeAt(0)-65;if(a>12)return!1;var s=parseInt((t.getFullYear()+"").substr(0,3)+e.substr(2,1));return(s>t.getFullYear()||s==t.getFullYear()&&a>t.getMonth())&&(s-=10),new Date(s,a,1,0,0,0)},setValueLivre:function(e,t,a){var s=this;if(e){this.messagePecaLivre="";var i={peca:{codigo:e,nome:e},ocorrencia:{codigo:t,nome:t},fctao:{codigo:a.fctaoId,nome:a.fctaoDescription},quantidade:1};this.pecaLivre.isClicked=!0,this.setValueGeneric(i),setTimeout(function(){s.$forceUpdate(),s.pecaLivre.isClicked=!1},500)}else this.messagePecaLivre=this.$t("Nome da peça é obrigatório!")},setValue:function(e,t,a){var s=this,i={peca:{codigo:e.partId,nome:e.partDescription},ocorrencia:{codigo:t.claimedDefectId,nome:t.claimedDefectDescription},fctao:{codigo:a.fctaoId,nome:a.fctaoDescription},quantidade:1};e.isClicked=!0,a.isClicked=!0,this.snackshow=!0,this.setValueGeneric(i),setTimeout(function(){s.$forceUpdate(),e.isClicked=!1,a.isClicked=!1},500)},setValueGeneric:function(e){var t=this;this.snackshow=!0,this.$root.dialogOpen=!1,this.$root.cardContent=!1,this.$emit("input",e),this.livre&&this.clear(),this.$forceUpdate(),setTimeout(function(){t.$forceUpdate(),t.snackshow=!1},1500)},showMessageNoOcorrencies:function(){this.$bus.$emit("showSnackBar",{message:this.$t("Nenhuma Ocorrencia para essa Peça!"),duration:1500})},clickHandler:function(e){e.isOpen=!e.isOpen,this.$forceUpdate(),setTimeout(function(){window.checkDirty()},100)},clickCodSub:function(e){e.codSub&&(this.searchTerm=e.codSub)},getDescription:function(e){var t="";for(var a in e)"string"==typeof e[a]&&this.$t(e[a])&&(t+=t?"applicability"==a?"<small><b>"+this.$t(a)+": </b> "+this.$t("applicability-"+e[a])+"</small><br>":"<small><b>"+this.$t(a)+": </b> "+this.$t(e[a])+"</small><br>":"codSub"==a?'<button class="mdl-button  searchSubPart">'+this.$t("Cod Sub")+":  "+this.$t(e[a])+'<i class="material-icons">search</i></button><br>':"statusDesc"==a?"":"<b>"+this.$t(a)+":  "+this.$t(e[a])+"</b><br>");return t},validFctao:function(e,t){return 3!=e.applicability||"O"==t.fctaoId||"C"==t.fctaoId}}},V={render:function(){var e=this,t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("div",{staticClass:"mdl-dialog full full-fixed dialogPartSelection",attrs:{id:"partsSelectionDialog"}},[s("div",{staticClass:"mdl-layout mdl-js-layout mdl-layout--fixed-header"},[s("header",{staticClass:"mdl-layout__header"},[s("div",{staticClass:"mdl-layout__header-row"},[s("div",{staticClass:"flex-start"},[s("button",{staticClass:"mdl-button mld-button-icon-text button-back",on:{click:function(e){return t.$emit("cancel")}}},[s("i",{staticClass:"material-icons"},[t._v("keyboard_arrow_left")]),t._v("\n                            "+t._s(t.$t("Voltar"))+"\n                        ")])]),t._v(" "),s("h5",{staticClass:"pageTitle"},[t._v(t._s(t.$t("Seleção de Peças")))]),t._v(" "),s("div",{staticClass:"flex-end"})])]),t._v(" "),s("main",{staticClass:"mdl-layout__content"},[s("div",{staticClass:"page-content"},[t.livre?s("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-tabs mdl-js-tabs "},[t.pecas&&Object.values(t.pecas).length?s("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-tabs mdl-js-tabs livre"},[s("div",{staticClass:"mdl-tabs__panel is-active"},[s("div",{staticClass:"mdl-card livre firstNivel"},[t._m(2),t._v(" "),s("InputBarcode",{attrs:{id:this.id+"searchTerm",showClear:"true",value:t.searchTerm},on:{input:t.codBarReturn}}),t._v(" "),t._l(t.pecas,function(e,a){return[t.isVisible(e)?s("div",{key:a,staticClass:"mdl-card"},[s("div",{staticClass:"recursive-accordion",on:{click:function(e){t.pecaLivre.peca=a}}},[s("div",{staticClass:"recursive-accordion__item",class:[{active:t.pecaLivre.peca==a}]},[s("span",[s("span",{staticClass:"recursive-accordion__title",staticStyle:{border:"0"}},[s("span",{staticClass:"descricaoItem"},[t._v("\n                                                                "+t._s(a)+"\n                                                            ")])])])])]),t._v(" "),t.pecaLivre.peca==a&&"pecas"!=t.lastDepth?s("div",{staticClass:"recursive-accordion__children"},[t._m(3,!0),t._v(" "),s("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label",class:[{"is-dirty":""!=t.pecaLivre.ocorrencia}]},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.pecaLivre.ocorrencia,expression:"pecaLivre.ocorrencia"}],staticClass:"mdl-textfield__input",attrs:{type:"text",id:"pecaLivreOcorrencia"},domProps:{value:t.pecaLivre.ocorrencia},on:{input:function(e){e.target.composing||t.$set(t.pecaLivre,"ocorrencia",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"pecaLivre-fctao"},[s("InputChip",{staticClass:"listaChip",attrs:{id:"inputChip",value:t.pecaLivre.fctao.fctaoId,itens:t.listFctaoItens,texto:"Selecione a ocorrência da peça"},on:{input:function(e,a){t.pecaLivre.fctao={fctaoId:e.id,fctaoDescription:e.titulo}}}})],1)]):t._e(),t._v(" "),s("div",{staticClass:"text-center"},[t.pecaLivre.peca==a?s("span",{staticStyle:{"border-bottom":"0"}},[t.pecaLivre.isClicked?t._e():s("button",{staticClass:"mdl-button mdl-button--raised orange",on:{click:function(e){return t.setValueLivre(t.pecaLivre.peca,t.pecaLivre.ocorrencia,t.pecaLivre.fctao)}}},[s("i",{staticClass:"material-icons",staticStyle:{"margin-right":"4px"}},[t._v("add_circle_outline")]),t._v(t._s(t.$t("Adicionar"))+"\n                                                    ")]),t._v(" "),e.isClicked?s("button",{staticClass:"mdl-button mdl-button--raised green"},[s("i",{staticClass:"material-icons",staticStyle:{"margin-right":"4px"}},[t._v("check")]),t._v(t._s(t.$t("Peça Adicionada"))+"\n                                                    ")]):t._e()]):t._e()])]):t._e()]})],2)])]):s("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-tabs mdl-js-tabs "},[s("div",{staticClass:"mdl-tabs__panel is-active"},[s("div",{staticClass:"mdl-card livre firstNivel"},[t._m(0),t._v(" "),s("InputBarcode",{attrs:{id:"searchTerm",showClear:"true",value:t.pecaLivre.peca},on:{input:function(t,a){e.pecaLivre.peca=t.target.value}}}),t._v(" "),s("div",{staticClass:"mdl-error"},[t._v(t._s(t.messagePecaLivre))]),t._v(" "),"pecas"!=t.lastDepth?s("div",[t._m(1),t._v(" "),s("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label",class:[{"is-dirty":""!=t.pecaLivre.ocorrencia}]},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.pecaLivre.ocorrencia,expression:"pecaLivre.ocorrencia"}],staticClass:"mdl-textfield__input",attrs:{type:"text",id:"pecaLivreOcorrencia"},domProps:{value:t.pecaLivre.ocorrencia},on:{input:function(e){e.target.composing||t.$set(t.pecaLivre,"ocorrencia",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"pecaLivre-fctao"},[s("InputChip",{staticClass:"listaChip",attrs:{id:"inputChip",value:t.pecaLivre.fctao.fctaoId,itens:t.listFctaoItens,texto:"Selecione a ocorrência da peça"},on:{input:function(e,a){t.pecaLivre.fctao={fctaoId:e.id,fctaoDescription:e.titulo}}}})],1)]):t._e(),t._v(" "),s("div",{staticClass:"text-center"},[s("span",{staticStyle:{"border-bottom":"0"}},[t.pecaLivre.isClicked?t._e():s("button",{staticClass:"mdl-button mdl-button--raised orange",on:{click:function(e){return t.setValueLivre(t.pecaLivre.peca,t.pecaLivre.ocorrencia,t.pecaLivre.fctao)}}},[s("i",{staticClass:"material-icons",staticStyle:{"margin-right":"4px"}},[t._v("add_circle_outline")]),t._v(t._s(t.$t("Adicionar Peça"))+"\n                                            ")]),t._v(" "),t.pecaLivre.isClicked?s("button",{staticClass:"mdl-button mdl-button--raised green"},[s("i",{staticClass:"material-icons",staticStyle:{"margin-right":"4px"}},[t._v("check")]),t._v(t._s(t.$t("Peça Adicionada"))+"\n                                            ")]):t._e()])])],1)])])]):s("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-tabs mdl-js-tabs"},[s("div",{staticClass:"mdl-tabs__panel is-active accordion__pecas"},[s("div",{staticClass:"recursive-accordion__item title barcode",class:[{" active":!0}]},[s("span",{staticClass:"recursive-accordion__title pad"},[s("div",{staticClass:"full accordionSearch"},[s("InputBarcode",{attrs:{texto:"Pesquisar",id:this.id+"searchTerm",showClear:"true",value:t.searchTerm},on:{input:t.codBarReturn}})],1)])]),t._v(" "),t._l(t.pecas,function(e,a){return s("div",{key:a},[t.isVisible(e)?s("div",{staticClass:"mdl-card firstNivel"},[s("div",{staticClass:"recursive-accordion",on:{click:function(a){0==e.ocorrencia.length?t.showMessageNoOcorrencies():t.clickHandler(e)}}},[s("div",{staticClass:"recursive-accordion__item"},[s("span",[s("span",{staticClass:"recursive-accordion__title"},[s("span",{staticClass:"descricaoItem",domProps:{innerHTML:t._s(t.getDescription(e))}}),t._v(" "),t._l(e.codSub,function(e,a){return s("span",{key:a,staticClass:"codSubHolder"},[s("span",{staticClass:"codSub",domProps:{innerHTML:t._s(t.getDescription(e))},on:{click:function(a){return t.clickCodSub(e)}}})])}),t._v(" "),0!=e.ocorrencia.length?s("i",{staticClass:"material-icons recursive-accordion__icon"},[t._v("\n                                                        "+t._s(e.isOpen?"arrow_drop_up":"arrow_drop_down")+"\n                                                    ")]):t._e(),t._v(" "),t.farol?s("div",{staticClass:"applicability",class:"applicability-"+e.applicability}):t._e()],2)])])]),t._v(" "),e.isOpen&&"pecas"!=t.lastDepth?s("div",{staticClass:"recursive-accordion__children",staticStyle:{marginLeft:"16px"}},t._l(e.ocorrencia,function(a,i){return s("span",{key:i,staticClass:"secondNivel"},[s("div",{staticClass:"recursive-accordion"},[s("div",{staticClass:"recursive-accordion__item",on:{click:function(e){return t.clickHandler(a)}}},[s("span",[s("span",{staticClass:"recursive-accordion__title"},[s("span",{staticClass:"descricaoItem",domProps:{innerHTML:t._s(t.getDescription(a))}}),t._v(" "),s("i",{staticClass:"material-icons recursive-accordion__icon"},[t._v("\n                                                                "+t._s(a.isOpen?"arrow_drop_up":"arrow_drop_down")+"\n                                                            ")])])])]),t._v(" "),a.isOpen?s("div",{staticClass:"recursive-accordion__children",staticStyle:{marginLeft:"16px"}},t._l(a.fcta,function(i,n){return s("span",{key:n,staticClass:"secondNivel"},[t.validFctao(e,i)?s("div",{staticClass:"recursive-accordion"},[s("div",{staticClass:"recursive-accordion__item",on:{click:function(e){return t.clickHandler(i)}}},[s("span",[s("span",{staticClass:"recursive-accordion__title"},[i.isClicked?t._e():s("button",{staticClass:"mdl-button add-peca",on:{click:function(s){return t.setValue(e,a,i)}}},[t._v("\n                                                                            "+t._s(i.fctaoDescription)),s("i",{staticClass:"material-icons"},[t._v("add")])]),t._v(" "),s("div",{staticClass:"garantia-description"},[i.partWarranty?s("small",[s("b",[t._v("Garantia :")]),t._v(" "+t._s(i.partWarranty)+" ")]):t._e()]),t._v(" "),i.isClicked?s("button",{staticClass:"mdl-button green add-peca"},[t._v("\n                                                                            "+t._s(t.$t("Peça Adicionada"))),s("i",{staticClass:"material-icons"},[t._v("check")])]):t._e()])])])]):s("div",{staticClass:"recursive-accordion"},[s("div",{staticClass:"recursive-accordion__item"},[s("span",[s("span",{staticClass:"recursive-accordion__title"},[s("button",{staticClass:"mdl-button  add-peca red ",staticStyle:{"text-transform":"underline"}},[t._v("\n                                                                            "+t._s(i.fctaoDescription)+"\n                                                                            "),s("span")])])])])])])}),0):t._e()])])}),0):s("div",[e.isOpen?s("span",{staticClass:"recursive-accordion__title"},[e.isClicked?t._e():s("button",{staticClass:"mdl-button add-peca",on:{click:function(a){return t.setValue(e,[],[])}}},[t._v("\n                                                "+t._s(t.$t("Adicionar Peça"))),s("i",{staticClass:"material-icons"},[t._v("add")])]),t._v(" "),e.isClicked?s("button",{staticClass:"mdl-button green add-peca"},[t._v("\n                                                "+t._s(t.$t("Peça Adicionada"))),s("i",{staticClass:"material-icons"},[t._v("check")])]):t._e()]):t._e()])]):t._e()])}),t._v(" "),t.pecas&&0==t.pecas.length?s("div",{staticClass:"mdl-dialog__content shadow"},[s("h5",{staticClass:"mdl-dialog__title"},[t._v("Falha ao buscar catálogo")]),t._v(" "),s("button",{staticClass:"mdl-button add-peca grey",attrs:{id:"tentar_novamente"},on:{click:t.recarrega}},[t._v(" Tentar novamente ")])]):t._e()],2)])])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("label",{staticClass:"orange"},[t("span",[this._v("Digite o nome da peça")]),this._v(" "),t("span",[this._v("*")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",{staticClass:"orange"},[t("span",[this._v("Digite a ocorrência")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",{staticClass:"orange"},[t("span",[this._v("Pesquisar")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",{staticClass:"orange"},[t("span",[this._v("Digite a ocorrência")])])}]};var T=a("VU/8")($,V,!1,function(e){a("AZXh")},"data-v-058000d1",null).exports,S=a("m45e"),O=a("NYxO"),I=a("162o"),P=a("T75j"),R=a("T8Nv"),N={name:"inputPartsSelection",extends:_.a,components:{PartsSelectionDialog:T,InputSearch:S.a},data:function(){return{dialog:{opened:!1},searchTerm:"",searching:!1,currentValue:null,tab:"",jsonPath:null,oldpreResp:null,modelo:null}},props:{mascara:{type:String,required:!1,default:""},fieldMetadados:{}},mounted:function(){this.defaultPreResp?this.oldpreResp=JSON.parse(f()(this.defaultPreResp)):this.currentTask&&this.currentTask.metaDados&&(this.oldpreResp=JSON.parse(h()(this.currentTask.metaDados).find(function(e){return"__pre_resp"==e.meta_key}).meta_value)),this.mascara?this.jsonPath=this.mascara.split("."):this.jsonPath=["modelos","material","pecas","ocorrencia","fcta"],this.diagnosticTree(),this.value&&"string"==typeof this.value&&""!=this.value&&(this.currentValue=JSON.parse(this.value))},beforeCreate:function(){this.$options.components.RecursiveAccordion=a("Y9Iq").default},computed:m()({},Object(O.b)({currentTask:"task/currentTask",defaultPreResp:"task/defaultPreResp"}),{preResp:function(){return this.defaultPreResp?this.defaultPreResp:this.currentTask&&this.currentTask.metaDados?JSON.parse(h()(this.currentTask.metaDados).find(function(e){return"__pre_resp"==e.meta_key}).meta_value):null},indexPreresp:function(){if(this.fieldMetadados){var e=h()(this.fieldMetadados).find(function(e){return"defaultPreresp"==e.meta_key});if(e)return this.preResp[e.meta_value]}return""},livre:function(){if(this.fieldMetadados){var e=h()(this.fieldMetadados).find(function(e){return"livre"==e.meta_key});if(e)return"1"==e.meta_value}return!1}}),watch:{value:function(e){this.currentValue="string"==typeof e?JSON.parse(e):e}},methods:{emitValue:function(){this.$emit("input",f()(this.currentValue),this.id)},removeItem:function(e){this.$delete(this.currentValue,e),this.$emit("input",f()(this.currentValue),this.id)},removeQuantity:function(e){parseInt(e.quantidade)>1&&(e.quantidade=parseInt(e.quantidade)-1,this.$emit("input",f()(this.currentValue),this.id))},addQuantity:function(e){e.quantidade=parseInt(e.quantidade)+1,this.$emit("input",f()(this.currentValue),this.id)},getTree:function(){return void 0===window.tree&&(window.tree={}),window.tree[this.id]||(window.tree[this.id]={catalogo:{pecas:[]},pecas:{pecas:[]}}),this.jsonPath&&"pecas"==this.jsonPath[0]?window.tree[this.id].pecas.pecas:window.tree[this.id].catalogo.pecas},pesquisarModelo:function(e){var t=this;this.modelo=e,this.searching=!0,this.$bus.$emit("showSnackBar",{message:this.$t("Aguarde..."),duration:1e3}),this.currentValue=null;var a=h()(this.fieldMetadados).find(function(e){return"defaultPreresp"==e.meta_key}),s=h()(this.fieldMetadados).find(function(e){return"__download"==e.meta_key});a&&(this.preResp[a.meta_value]=e);var i=JSON.parse(this.currentTask.metaDados.find(function(e){return"__appliances"==e.meta_key}).meta_value).applianceLineCode;s&&i&&Object(R.c)("?pullTracker[act]=whirpool_get_dados_by_modelo&modelo="+e+"&applianceLineCode="+i).then(function(e){P.a.getOne("task_download",t.currentTask.id).then(function(a){if(u()(e.data.modelos.modelos).length>0){var s={pullTracker:{act:"update_tarefa_meta"},tarefa:t.currentTask,meta:[{meta_key:"__pre_resp",meta_value:f()(t.preResp)},{meta_key:"__blockDownload",meta_value:"true"}]};Object(R.f)(s).then(function(e){}),l()(a.jsonValue.modelos.modelos,e.data.modelos.modelos),a.idTarefa=parseInt(a.idTarefa),P.b.setOne("task_download",a).then(function(){t.diagnosticTree(),t.$bus.$emit("showSnackBar",{message:t.$t("Montando a nova arvore"),duration:1e3})})}else t.$bus.$emit("showSnackBar",{message:t.$t("Nenhum modelo encontrado!"),duration:1e3}),t.searching=!1})})},save:function(){this.dialog.opened=!1;var e=h()(this.fieldMetadados).find(function(e){return"defaultPreresp"==e.meta_key}),t=this.modelo;e&&(this.preResp[e.meta_value]=t,this.$emit("updatePreResp",{key:e.meta_value,modelo:t})),this.$emit("input",f()(this.currentValue),this.id);try{this.$root.dialogOpen=!1,"InputForm"!=this.$parent.$parent.$parent.$parent.$options.name&&(this.$root.cardContent=!1)}catch(e){console.log(e)}},updateValue:function(e){try{null==this.currentValue&&(this.currentValue=[]);var t=this.currentValue.findIndex(function(t){return t.peca.codigo==e.peca.codigo&&t.ocorrencia.codigo==e.ocorrencia.codigo&&t.fctao.codigo==e.fctao.codigo});-1!=t?this.currentValue[t].quantidade+=1:this.currentValue.push(e),this.$emit("input",f()(this.currentValue),this.id),this.$bus.$emit("showSnackBar",{message:this.$t("Peça adicionada com sucesso!"),duration:1e3}),this.$root.dialogOpen=!1,this.dialog.opened=!1}catch(e){this.$bus.$emit("showSnackBar",{message:this.$t("Erro ao adicionar peça"),duration:1e3})}},cancel:function(){this.dialog.opened=!1;try{this.$root.dialogOpen=!1,"InputForm"!=this.$parent.$parent.$parent.$parent.$options.name&&(this.$root.cardContent=!1)}catch(e){console.log(e)}this.$forceUpdate()},showPartsSelectionDialog:function(){this.$forceUpdate();try{this.dialog.opened=!0,this.$root.dialogOpen=!0,this.$root.cardContent=!0}catch(e){console.log(e)}},diagnosticTree:function(){var e=this;return r()(i.a.mark(function t(){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e,void 0===window.tree&&(window.tree={}),!a.currentTask||a.currentTask.id==a.currentTask.uuid){t.next=6;break}P.a.getOne("task_download",e.currentTask.id).then(function(t){window.tree[e.id]=t.jsonValue,"false"==a.preResp.catalago_disponivel&&a.preResp.sku==t.jsonValue.catalogo.sku&&u()(t.jsonValue.catalogo.pecas).length&&(a.$emit("updatePreResp",{key:"catalago_disponivel",value:"true"}),a.$emit("updateForm")),a.mascara?a.jsonPath=a.mascara.split("."):a.jsonPath=["modelos","material","pecas","ocorrencia","fcta"],a.tab=a.jsonPath[0],e.searching=!1}).catch(function(e){e.data;Object(I.setTimeout)(function(){a.diagnosticTree()},1e3)}),t.next=7;break;case 6:return t.abrupt("return",!1);case 7:case"end":return t.stop()}},t,e)}))()},corrigeTituloPagina:function(e){switch(e){case"pecas":return"peças";default:return e}}},beforeDestroy:function(){window.tree[this.id]=null,this.$refs&&(this.$refs.recursiveAccordion&&this.$refs.recursiveAccordion.forEach(function(e){try{e.$forceUpdate(),e.$destroy(),e=null}catch(e){}}),this.$refs.inputRadioButton&&(this.$refs.inputRadioButton.$destroy(),this.$refs.inputRadioButton=null),this.$refs.InputSearch&&(this.$refs.InputSearch.$destroy(),this.$refs.InputSearch=null),this.$refs.partsSelectionDialog&&(this.$refs.partsSelectionDialog.$destroy(),this.$refs.partsSelectionDialog=null))}},D={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.readOnly?a("div",{staticClass:"readOnly"},[a("label",{staticClass:"orange"},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),a("span",{staticClass:"value"},[a("ul",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-list"},e._l(e.currentValue,function(t,s){return a("li",{key:s,staticClass:"mdl-list__item mdl-list__item--two-line"},[a("span",{staticClass:"mdl-list__item-primary-content"},[a("span",[t.quantidade?a("span",[e._v(e._s(t.quantidade)+" x ")]):e._e(),e._v(e._s(t.peca.nome))]),e._v(" "),t.ocorrencia?a("span",{staticClass:"mdl-list__item-sub-title"},[e._v("\n                "+e._s(t.ocorrencia.nome)+" "),""!=t.fctao?a("span",[e._v("-"+e._s(t.fctao.nome))]):e._e()]):e._e()])])}),0)])]):a("div",{staticClass:"section"},[a("label",{staticClass:"orange"},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),a("button",{staticClass:"mdl-button add-peca grey",on:{click:e.showPartsSelectionDialog}},[e._v("\n        Adicionar Peça"),a("i",{staticClass:"material-icons"},[e._v("add")])]),e._v(" "),a("ul",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-list list-pecas"},e._l(e.currentValue,function(t,s){return a("li",{key:s,staticClass:"mdl-list__item mdl-list__item--two-line"},[a("span",{staticClass:"mdl-list__item-primary-content"},[a("span",[e._v(e._s(t.peca.nome))]),e._v(" "),t.ocorrencia?a("span",{staticClass:"mdl-list__item-sub-title"},[e._v("\n              "+e._s(t.ocorrencia.nome)+" "),""!=t.fctao?a("span",[e._v("-"+e._s(t.fctao.nome))]):e._e()]):e._e()]),e._v(" "),a("span",{staticClass:"mdl-list__item-secondary-content"},[a("div",{staticClass:"qtd-actions"},[a("button",{staticClass:"qtd-control",on:{click:function(a){return e.removeQuantity(t)}}},[a("i",{staticClass:"material-icons"},[e._v("remove")])]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.quantidade,expression:"item.quantidade"}],attrs:{type:"number",min:"1"},domProps:{value:t.quantidade},on:{change:e.emitValue,input:function(a){a.target.composing||e.$set(t,"quantidade",a.target.value)}}}),e._v(" "),a("button",{staticClass:"qtd-control",on:{click:function(a){return e.addQuantity(t)}}},[a("i",{staticClass:"material-icons"},[e._v("add")])])]),e._v(" "),a("a",{staticClass:"mdl-list__item-secondary-action",attrs:{href:"#"},on:{click:function(t){return e.removeItem(s)}}},[a("i",{staticClass:"material-icons"},[e._v("remove_circle")])])])])}),0),e._v(" "),a("PartsSelectionDialog",{directives:[{name:"show",rawName:"v-show",value:e.dialog.opened,expression:"dialog.opened"}],ref:"partsSelectionDialog",attrs:{pecas:e.getTree(),texto:e.texto,id:e.id,jsonPath:e.jsonPath,currentValue:e.currentValue,preResp:e.preResp,mascara:e.mascara,livre:e.livre},on:{input:e.updateValue,cancel:e.cancel,recarrega:e.pesquisarModelo}}),e._v(" "),e._l(e.errors,function(t,s){return a("span",{key:s,staticClass:"mdl-error",domProps:{innerHTML:e._s(t)}})})],2)])},staticRenderFns:[]};var L=a("VU/8")(N,D,!1,function(e){a("r0Vh")},"data-v-272e4612",null);t.a=L.exports},"9+hI":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Xxa5"),i=a.n(s),n=a("exGp"),r=a.n(n),o=a("UdET"),l=a("BeRe"),c=a("0xDb"),u=a("SBDe"),d={name:"InputForm",extends:o.a,components:{Form:l.default},props:{idForm:{type:String,required:!0}},data:function(){return{dialog:{opened:!0},currentValue:[],currentEdit:null,form:null,field:null,formLoaded:null}},beforeCreate:function(){this.$options.components.Form=a("BeRe").default},mounted:function(){this.dialog.opened=!0,this.loadValues(),this.$dialogPolyfill.doDialog("dialogForm"),this.$dialogPolyfill.doDialog("dialogFormDelete")},methods:{loadValues:function(){var e=this;return r()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.getOneFormById(e.idForm);case 2:e.formLoaded=t.sent,e.value!=[]&&"[]"==e.value?e.currentValue=JSON.parse(e.value):e.currentValue=e.value;case 4:case"end":return t.stop()}},t,e)}))()},saveSubForm:function(e){null==this.currentEdit&&(void 0!==this.currentValue&&null!=this.currentValue||(this.currentValue=[]),this.currentValue.push(e)),this.$emit("input",this.currentValue,this.id),this.$emit("change",this.id),this.$forceUpdate(),this.currentEdit=null;try{this.$root.cardContent=!1}catch(e){console.log(e)}this.close()},cancel:function(){try{this.$root.cardContent=!1}catch(e){console.log(e)}this.close()},open:function(){this.$el.querySelector("#dialogForm").showModal();try{this.$root.cardContent=!0}catch(e){console.log(e)}},newSubAwnser:function(){this.currentEdit=null,this.$refs.subForm.clear(),this.open(),this.$forceUpdate()},editSubAwnser:function(e){this.currentEdit=e,this.open(),this.$forceUpdate()},deleteSubAwnser:function(e){this.currentEdit=e,this.$el.querySelector("#dialogFormDelete").showModal()},confirmDeleteSubAwnser:function(){var e=this;this._.remove(this.value,function(t){return e.currentEdit==t}),this.$emit("input",this.value,this.id),this.$emit("change",this.id),this.currentEdit=null,this.closeDeleteSubAwnser()},closeDeleteSubAwnser:function(e){this.currentEdit=null,this.$forceUpdate(),this.$el.querySelector("#dialogFormDelete").close()},close:function(){this.$el.querySelector("#dialogForm").close()},responseLabel:function(e){if(!e)return"";if(this.formLoaded&&this.formLoaded.metaDados){var t="",a="";if(!this.form||!this.field){this.form=this.formLoaded;for(var s=this.formLoaded.metaDados,i=0;i<s.length&&!this.field;i++){var n=s[i];if("ancora"==n.meta_key)for(var r=n.meta_value,o=this.formLoaded.perguntas,l=0;l<o.length&&!this.field;l++)for(var u=o[l],d=u.metaDados,m=0;m<d.length&&!this.field;m++){var p=d[m];"ancora"==p.meta_key&&p.meta_value==r&&(this.field=u)}}}if(this.field&&void 0!==e.responses[this.field.id])return t=e.responses[this.field.id].valor,a=this.field.mascara,Object(c.c)(t,a)}return this.$t("Respondido em")+" "+this.$options.filters.formatDateTime(e.data)}},beforeDestroy:function(){this.dialog.opened=!1,this.$refs&&this.$refs.subForm&&("function"==typeof this.$refs.subForm&&this.$refs.subForm.$destroy(),this.$refs.subForm=null)}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.readOnly?a("div",{staticClass:"readOnly"},[a("label",[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),a("span",{staticClass:"value"},[a("div",{staticClass:"box-subrespostas"},[a("ul",e._l(e.currentValue,function(t){return a("li",{key:t.id},[e.dialog.opened?a("Form",{ref:"subForm",refInFor:!0,attrs:{value:t,idForm:e.idForm,backDisabled:!0,title:e.texto,readOnly:e.readOnly,typeForm:"wizardconfirm",readonlyState:!0}}):e._e()],1)}),0)])])]):a("div",[a("div",{staticClass:"section section-form"},[a("button",{staticClass:"mdl-button mdl-button--raised bgGray button-input",domProps:{innerHTML:e._s(e.texto)},on:{click:function(t){return e.newSubAwnser()}}},[a("i",{staticClass:"material-icons"},[e._v("insert_chart_outlined")]),e._v(e._s(e.$t("Responder formulário adicional"))),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),a("ul",{staticClass:"fieldList"},e._l(e.currentValue,function(t){return a("li",{key:t.id},[a("button",{staticClass:"mdl-button mdl-button--icon button-cancelar",on:{click:function(a){return e.deleteSubAwnser(t)}}},[a("i",{staticClass:"material-icons"},[e._v("close")])]),e._v(" "),a("span",{on:{click:function(a){return e.editSubAwnser(t)}}},[e._v("\n          "+e._s(e.responseLabel(t))+"\n          ")]),e._v(" "),a("button",{staticClass:"mdl-button mdl-button--icon button-edit",on:{click:function(a){return e.editSubAwnser(t)}}},[a("i",{staticClass:"material-icons"},[e._v("arrow_right")])])])}),0),e._v(" "),e._l(e.errors,function(t,s){return a("span",{key:s,staticClass:"mdl-error",domProps:{innerHTML:e._s(t)}})}),e._v(" "),a("dialog",{staticClass:"mdl-dialog full",attrs:{id:"dialogForm"}},[a("div",{staticClass:"mdl-dialog__content"},[a("h5",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),e.dialog.opened?a("Form",{ref:"subForm",attrs:{value:e.currentEdit,idForm:e.idForm},on:{save:e.saveSubForm,cancel:e.cancel}}):e._e()],1)]),e._v(" "),a("dialog",{staticClass:"mdl-dialog full",attrs:{id:"dialogFormDelete"}},[a("div",{staticClass:"mdl-dialog__content"},[a("h5",[e._v(e._s(e.$t("Realmente deseja excluir a resposta?")))]),e._v("\n          "+e._s(e.responseLabel(e.currentEdit))+"\n          "),a("div",{staticClass:"mdl-dialog__actions"},[a("button",{staticClass:"mdl-button orange",attrs:{type:"button"},on:{click:function(t){return e.confirmDeleteSubAwnser()}}},[e._v(e._s(e.$t("OK")))]),e._v(" "),a("button",{staticClass:"mdl-button close grey",attrs:{type:"button"},on:{click:function(t){return e.closeDeleteSubAwnser()}}},[e._v(e._s(e.$t("Cancelar")))])])])])],2)])])},staticRenderFns:[]},p=a("VU/8")(d,m,!1,null,null,null);t.default=p.exports},"9FPk":function(e,t){},"9b+F":function(e,t,a){"use strict";var s=a("UdET"),i=a("0xDb"),n={name:"MySignaturePad",props:{value:{type:String,required:!1,default:""}},data:function(){return{isActive:!1,mousePressed:!1,canvas:null,context:null,pixels:[],xyLast:{},calculate:!1,xyAddLast:{},cpixels:[],disableSave:!0}},mounted:function(){if(this.$forceUpdate(),this.canvas=document.getElementById("newSignature"),this.context=this.canvas.getContext("2d"),this.context.canvas.width=window.innerWidth-52,this.context.canvas.height=265,this.context.fillStyle="#fff",Object(i.a)(!this.value)){var e=new Image;e.onload=function(){this.context.drawImage(e,0,0)}.bind(this),e.src=this.value}},methods:{start:function(){this.isActive=!0,this.signatureCapture()},signatureCapture:function(){this.context.fillStyle="#fff",this.context.strokeStyle="#000",this.context.lineWidth=2,this.context.lineCap="round",this.canvas.addEventListener("touchstart",this.on_mousedown,!1),this.canvas.addEventListener("mousedown",this.on_mousedown,!1)},on_mousedown:function(e){e.cancelable&&e.preventDefault(),e.stopPropagation(),this.canvas.addEventListener("mouseup",this.on_mouseup,!1),this.canvas.addEventListener("mousemove",this.on_mousemove,!1),this.canvas.addEventListener("touchend",this.on_mouseup,!1),this.canvas.addEventListener("touchmove",this.on_mousemove,!1),document.body.addEventListener("mouseup",this.on_mouseup,!1),document.body.addEventListener("touchend",this.on_mouseup,!1);var t=this.get_coords(e);this.context.beginPath(),this.pixels.push("moveStart"),this.context.moveTo(t.x,t.y),this.pixels.push(t.x,t.y),this.xyLast=t},on_mousemove:function(e,t){e.cancelable&&e.preventDefault(),e.stopPropagation();var a=this.get_coords(e),s={x:(this.xyLast.x+a.x)/2,y:(this.xyLast.y+a.y)/2};if(this.calculate){var i=(this.xyAddLast.x+this.xyLast.x+s.x)/3,n=(this.xyAddLast.y+this.xyLast.y+s.y)/3;this.pixels.push(i,n)}else this.calculate=!0;this.context.quadraticCurveTo(this.xyLast.x,this.xyLast.y,s.x,s.y),this.pixels.push(s.x,s.y),this.context.stroke(),this.context.beginPath(),this.context.moveTo(s.x,s.y),this.xyAddLast=s,this.xyLast=a},on_mouseup:function(e){this.remove_event_listeners(),this.disableSave=!1,this.context.stroke(),this.pixels.push("e"),this.calculate=!1,this.$emit("input",this.canvas.toDataURL("image/jpeg",1))},get_coords:function(e){var t,a;if(e.changedTouches&&e.changedTouches[0]){var s=this.canvas.getBoundingClientRect();t=e.changedTouches[0].pageX-s.left,a=e.changedTouches[0].pageY-s.top}else e.layerX||0==e.layerX?(t=e.layerX,a=e.layerY):(e.offsetX||0==e.offsetX)&&(t=e.offsetX,a=e.offsetY);return{x:t,y:a}},remove_event_listeners:function(){this.canvas.removeEventListener("mousemove",this.on_mousemove,!1),this.canvas.removeEventListener("mouseup",this.on_mouseup,!1),this.canvas.removeEventListener("touchmove",this.on_mousemove,!1),this.canvas.removeEventListener("touchend",this.on_mouseup,!1),document.body.removeEventListener("mouseup",this.on_mouseup,!1),document.body.removeEventListener("touchend",this.on_mouseup,!1)},save:function(){var e=this.canvas.toDataURL("image/png",1);e&&this.$emit("input",e),this.isActive=!1},clear:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.$emit("input","")},onBegin:function(){this.$refs.signaturePad.resizeCanvas(),document.querySelector("#card-content").style.overflowY="hidden"},onEnd:function(){document.querySelector("#card-content").style.overflowY="scroll";var e=this.$refs.signaturePad.saveSignature(),t=e.isEmpty,a=e.data;t||this.$emit("input",a)}},beforeDestroy:function(){if(this.isActive){var e=this.canvas.toDataURL("image/png",1);this.$emit("input",e)}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-component component-signature"},[a("div",{staticClass:"mdl-grid"},[a("div",{staticClass:"container-button col"},[a("button",{staticClass:"button",class:{inative:e.isActive},on:{click:e.start}},[a("i",{staticClass:"material-icons"},[e._v("check")]),e._v(" "),a("span",[e._v(e._s(e.$t("Colher")))])]),e._v(" "),a("button",{staticClass:"button",class:{inative:!e.isActive},on:{click:e.save}},[a("i",{staticClass:"material-icons"},[e._v("check")]),e._v(" "),a("span",[e._v(e._s(e.$t("Salvar")))])])]),e._v(" "),a("div",{staticClass:"container-button col"},[a("button",{staticClass:"button",on:{click:e.clear}},[a("i",{staticClass:"material-icons"},[e._v("close")]),e._v(" "),a("span",[e._v(e._s(e.$t("Limpar")))])])]),e._v(" "),a("div",{staticClass:"ajsute-layout-legado"})]),e._v(" "),a("div",{staticClass:"scroll-ativo",class:{inative:e.isActive}}),e._v(" "),e._m(0)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"canvas"}},[t("canvas",{staticClass:"signature",attrs:{id:"newSignature"}})])}]};var o=a("VU/8")(n,r,!1,function(e){a("bh7Q")},"data-v-9426f7f2",null).exports,l={name:"InputSing",extends:s.a,components:{MySignaturePad:o},data:function(){return{}},methods:{onInput:function(e){this.$emit("input",e,this.id)},onChange:function(){this.$emit("change",this.id)}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.readOnly?a("div",{staticClass:"readOnly"},[a("label",{staticClass:"orange"},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),a("img",{attrs:{src:e.value}})]):a("div",{staticClass:"signature-content mdl-textfield",class:{"is-invalid":e.obrigatorio}},[a("label",{staticClass:"orange"},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),a("MySignaturePad",{attrs:{value:e.value},on:{input:e.onInput,change:e.onChange}}),e._v(" "),e._l(e.errors,function(t,s){return a("span",{key:s,staticClass:"mdl-error",domProps:{innerHTML:e._s(t)}})})],2)])},staticRenderFns:[]};var u=a("VU/8")(l,c,!1,function(e){a("VyNh")},"data-v-618ed2a3",null);t.a=u.exports},AZXh:function(e,t){},BeRe:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("mvHQ"),i=a.n(s),n=a("gRE1"),r=a.n(n),o=a("Dd8w"),l=a.n(o),c=a("Xxa5"),u=a.n(c),d=a("exGp"),m=a.n(d),p=a("mswI"),h=a("V25Q"),v=a("SGZ6"),f=a("UdET"),_={name:"InputAccordingSimple",extends:f.a,data:function(){return{state:"",classColor:"",md_icon:"",label:""}},mounted:function(){this.value?this.verifyStates(this.value):this.verifyStates(this.padrao)},computed:{tabs:function(){var e=[this.$t("Conforme"),this.$t("Não Conforme"),this.$t("Não se Aplica")];try{var t=JSON.parse(this.mascara);void 0!==t.labels&&(e=t.labels)}catch(t){return e}return e},padrao:function(){var e="";try{e=JSON.parse(this.mascara).padrao}catch(t){e=""}return e}},methods:{setState:function(e){this.state=e,this.$emit("input",e,this.id)},verifyStates:function(e){switch(e){case"verde":this.state="verde",this.classColor="green",this.md_icon="check_circle_outline",this.label=this.tabs[0];break;case"amarelo":this.state="amarelo",this.classColor="red",this.md_icon="cancel",this.label=this.tabs[2];break;case"vermelho":this.state="vermelho",this.classColor="orange",this.md_icon="more_horiz",this.label=this.tabs[1];break;default:this.classColor="grey",this.md_icon=""}}}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.readOnly?a("div",{staticClass:"readOnly"},[a("label",[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),a("div",{staticClass:"labelvalue"},[a("i",{staticClass:"material-icons",class:[e.classColor,e.md_icon]},[e._v(e._s(e.md_icon))]),e._v(" "),"verde"==e.value?a("span",{domProps:{innerHTML:e._s(e.tabs[0])}}):e._e(),e._v(" "),"amarelo"==e.value?a("span",{domProps:{innerHTML:e._s(e.tabs[1])}}):e._e(),e._v(" "),"vermelho"==e.value?a("span",{domProps:{innerHTML:e._s(e.tabs[2])}}):e._e()])]):a("div",{staticClass:"section-trafic-light"},[a("label",{staticClass:"orange"},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),a("div",{staticClass:"trafic-light"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.tabs[0],expression:"tabs[0]"}],staticClass:"green",class:{active:"verde"==e.state},attrs:{href:"//"},on:{click:function(t){return e.setState("verde")}}},[e._v(" ")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.tabs[1],expression:"tabs[1]"}],staticClass:"yellow",class:{active:"amarelo"==e.state},attrs:{href:"//"},on:{click:function(t){return e.setState("amarelo")}}},[e._v(" ")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.tabs[2],expression:"tabs[2]"}],staticClass:"red",class:{active:"vermelho"==e.state},attrs:{href:"//"},on:{click:function(t){return e.setState("vermelho")}}},[e._v(" ")])]),e._v(" "),e._l(e.errors,function(t,s){return a("span",{key:s,staticClass:"mdl-error",domProps:{innerHTML:e._s(t)}})})],2)])},staticRenderFns:[]};var b=a("VU/8")(_,g,!1,function(e){a("Wos8")},null,null).exports,C=a("9+hI"),y=a("xZ6D"),x=a("1gkJ"),k=a("M8gs"),w=a("Ic6h"),$=a("EBc6"),V=a("H9AV"),T=a("9b+F"),S=a("aeih"),O=a("zqAa"),I={name:"InputAutoComplete",extends:f.a,data:function(){return{type:"text",itemValue:"",itemLabel:"",options:[],showComplete:!1}},beforeMount:function(){var e=this;return m()(u.a.mark(function t(){var a,s;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.getFormList(e.lista);case 2:a=t.sent,s=a.itens,e.options=s;case 5:case"end":return t.stop()}},t,e)}))()},computed:{optionsFilter:function(){var e=this;return this.options.filter(function(t){return t.titulo.toLowerCase().indexOf(e.value.toLowerCase())>-1||t.codigo.toLowerCase().indexOf(e.value.toLowerCase())>-1}).slice(0,10)}},methods:{onInput:function(e){this.$emit("input",e.target.value,this.id),this.showComplete=!0},onChange:function(){var e=this;this.$emit("change",this.id),setTimeout(function(){e.showComplete=!1},100)},handleBlur:function(){var e=this;this.$emit("change",this.id),setTimeout(function(){e.showComplete=!1},100)},changeToSelected:function(e){this.$emit("input",e,this.id),this.$emit("change",this.id),this.showComplete=!1},isValid:function(){return this.errors=[],this.hasErrors=!1,"1"!=this.obrigatorio||""!=this.value&&null!=this.value||(this.errors.push(this.$t("Este field é obrigatório")),this.hasErrors=!0,!1)}}},P={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.readOnly?a("div",{staticClass:"readOnly"},[a("label",{staticClass:"orange",domProps:{innerHTML:e._s(e.texto)}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),a("span",{staticClass:"value"},[e._v("\n      "+e._s(e.value?e.value:" - ")+"\n    ")])]):a("div",[a("div",{staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label",class:[{"is-dirty":""!=e.value}]},[a("input",{ref:"autocompleteInput",staticClass:"mdl-textfield__input",attrs:{type:e.type,id:e.id,autocomplete:"off"},domProps:{value:e.value},on:{input:e.onInput,change:e.onChange,blur:e.handleBlur}}),e._v(" "),a("label",{staticClass:"mdl-textfield__label",attrs:{for:e.id}},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])])]),e._v(" "),e.showComplete&&""!=e.value?a("div",{staticClass:"autocomplete-list"},[e._l(e.optionsFilter,function(t){return a("div",{key:t.id,staticClass:"item-list",on:{click:function(a){return e.changeToSelected(t.codigo)}}},[a("span",[e._v("\n            "+e._s(t.codigo)+" - "+e._s(t.titulo)+"\n          ")])])}),e._v(" "),e.showComplete&&""!=e.value&&!e.optionsFilter.length?a("div",{staticClass:"item-list"},[a("span",[e._v("\n              Nada encontrado\n            ")])]):e._e()],2):e._e(),e._v(" "),e._l(e.errors,function(t,s){return a("span",{key:s,staticClass:"mdl-error",domProps:{innerHTML:e._s(t)}})})],2)])},staticRenderFns:[]},R=a("VU/8")(I,P,!1,null,null,null).exports,N=a("3KnT"),D=a("korG"),L=a("vyob"),F=a("qZCB"),M=a("ZBP7"),E=a("2/7y"),A=a("RzjH"),q=a("t+vX"),j=a("F8oN"),U=a("Q2ZQ"),H=a("6sG6"),B={name:"TarefaAutomatica",extends:f.a,data:function(){return{itemValue:"",itemLabel:"",metaValue:"",agentes:[]}},directives:{clickOutside:{bind:function(e,t,a){e.eventSetDrag=function(){e.setAttribute("data-dragging","yes")},e.eventClearDrag=function(){e.removeAttribute("data-dragging")},e.eventOnClick=function(s){var i=e.getAttribute("data-dragging");e==s.target||e.contains(s.target)||i||a.context[t.expression](s)},document.addEventListener("touchstart",e.eventClearDrag),document.addEventListener("touchmove",e.eventSetDrag),document.addEventListener("click",e.eventOnClick),document.addEventListener("touchend",e.eventOnClick)},unbind:function(e){document.removeEventListener("touchstart",e.eventClearDrag),document.removeEventListener("touchmove",e.eventSetDrag),document.removeEventListener("click",e.eventOnClick),document.removeEventListener("touchend",e.eventOnClick),e.removeAttribute("data-dragging")}}},beforeMount:function(){var e=this;return m()(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.metaValue=r()(e.$attrs.metaDados).find(function(e){return"listaAgentes"==e.meta_key}).meta_value,e.agentes="off"!=e.metaValue?JSON.parse(e.metaValue):[],e.getSelected();case 3:case"end":return t.stop()}},t,e)}))()},methods:{getSelected:function(){var e=this;if(this.value){var t=this.agentes.find(function(t){return t.id==e.value});this.itemLabel=t.nome,this.itemValue=t.id}},setInput:function(){var e=this,t=this.agentes.find(function(t){return t.id==e.itemValue});this.itemLabel=t.nome,this.errors=[],this.$emit("input",this.itemValue,this.id),this.$emit("change",this.id)},isValid:function(){return this.errors=[],this.hasErrors=!1,"off"==this.metaValue||("1"!=this.obrigatorio||""!=this.value&&null!=this.value||(this.errors.push(this.$t("Este field é obrigatório")),this.hasErrors=!0,!1))}}},z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.agentes.length>0?a("div",[e.readOnly?a("div",{staticClass:"readOnly"},[a("label",{staticClass:"orange"},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),a("span",{staticClass:"value"},[e._v("\n    "+e._s(e.itemLabel)+"\n  ")])]):a("div",[a("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-select",class:{"is-dirty":""!=e.itemValue}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.itemValue,expression:"itemValue"}],staticClass:"mdl-textfield__input",attrs:{name:"inputlist"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.itemValue=t.target.multiple?a:a[0]},function(t){return e.setInput()}]}},[e.obrigatorio?e._e():a("option"),e._v(" "),e._l(e.agentes,function(t){return a("option",{key:t.id,attrs:{"data-val":t.id},domProps:{value:t.id}},[e._v(e._s(t.nome))])})],2),e._v(" "),a("label",{staticClass:"mdl-textfield__label",attrs:{for:"sample5"}},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])])]),e._v(" "),e._l(e.errors,function(t,s){return a("span",{key:s,staticClass:"mdl-error",domProps:{innerHTML:e._s(t)}})})],2)]):e._e()},staticRenderFns:[]},Q=a("VU/8")(B,z,!1,null,null,null).exports,J=a("//Fk"),Z=a.n(J),G=a("7K8a"),W=a("IcnI");function Y(e,t){var a,s=this,i={pullTracker:{act:"loadValoresMatrizEmpresa"},empresa:W.a.getters["user/user"].empresa,idMatriz:"ancora_matriz"==e.tipoMatrix?e.matrixData.matriz:e.matrixData.conf.destino[0],idCampo:"ancora_matriz"==e.tipoMatrix?e.matrixData.campo:e.matrixData.conf.destino[1],valor:t.trim()};return new Z.a((a=m()(u.a.mark(function e(t,a){var n,r,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!=i.valor){e.next=6;break}a({data:{status:!1}}),e.next=11;break;case 6:return e.next=8,G.b.post("/index.php",i);case 8:n=e.sent,r={data:n.data},"true"==n.data.status?t(r):a(r);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),o={data:{success:!1,error:e.t0.mensagem}},a(o);case 17:case"end":return e.stop()}},e,s,[[0,13]])})),function(e,t){return a.apply(this,arguments)}))}var X={name:"DataMatrix",props:{values:{type:Object,required:!0},form:{type:Array,required:!0}},data:function(){return{fieldsMatrixLocal:null}},methods:{isMatrixDataField:function(e){return["ancora_matriz","proc_matriz","intersecao_matriz"].indexOf(e.tipo)>=0},parseFieldType:function(e,t){if(e.tipo==t)return!0;if(this.isMatrixDataField(e)){void 0!==this.fieldsMatrixLocal&&null!=this.fieldsMatrixLocal||(this.fieldsMatrixLocal={});var a={};try{a=JSON.parse(e.mascara)}catch(t){a=e.mascara}if(void 0===a.tipo)switch(e.tipo){case"intersecao_matriz":a={tipo:"texto",mascara:"",grupo:"default",conf:a,campo:e.mascara,readonly:"on"};break;case"ancora_matriz":a={tipo:"texto",mascara:"",grupo:"default",matriz:e.lista,campo:e.mascara,readonly:"false"};break;default:a={tipo:"texto",mascara:"",grupo:"default",matriz:e.lista,campo:e.mascara,readonly:"on"}}e.matrixData=a,e.mascara=a.mascara,void 0===this.fieldsMatrixLocal[a.grupo]&&(this.fieldsMatrixLocal[a.grupo]={});var s=!1,i=!1;switch(e.tipo){case"intersecao_matriz":s=a.conf.origem[0],i=a.conf.origem[1];break;case"proc_matriz":s=a.matriz,i=a.campo}return 0!=s&&(void 0===this.fieldsMatrixLocal[a.grupo][s]&&(this.fieldsMatrixLocal[a.grupo][s]={}),this.fieldsMatrixLocal[a.grupo][s][i]=e),e.tipoMatrix=e.tipo,e.tipo=a.tipo,e.readOnly="on"==a.readonly,a.tipo==t}return!1},updatedValue:function(e){var t=null;for(var a in this.form)if(this.form[a].id==e){t=this.form[a];break}return void 0!==t.matrixData&&(this.doMatrixData(t).then(function(e){window.checkDirty()}),!0)},matrixData:function(e,t,a){var s,i=this;return new Z.a((s=m()(u.a.mark(function e(s,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:void 0!==t.matrixData?["ancora_matriz","intersecao_matriz"].indexOf(t.tipoMatrix)>=0?Y(t,a).then(function(e){s(e.data.post)}).catch(function(e){n(e)}):n({data:{success:!1}}):n({data:{success:!1}});case 1:case"end":return e.stop()}},e,i)})),function(e,t){return s.apply(this,arguments)}))},doMatrixData:function(e){var t=this,a=e.matrixData,s=this;return this.$bus.$emit("showSnackBar",{message:this.$t("Aguarde..."),duration:1e3}),this.matrixData(s,e,s.values.responses[e.id].valor).then(function(i){i.forEach(function(i){var n="intersecao_matriz"==e.tipoMatrix?a.conf.destino[0]:a.matriz,r=s.fieldsMatrixLocal[a.grupo][n][parseInt(i.id_meta)];void 0!==r&&(s.$emit("input",i.valor,r.id),"intersecao_matriz"==r.tipoMatrix&&r.id!=e.id&&t.doMatrixData(r).then(function(e){window.checkDirty()}))}),s.$emit("forceUpdate")}).catch(function(i){t.$bus.$emit("showSnackBar",{message:t.$t(i.mensagem)?i.mensagem:t.$t("Nenhum valor encontrado."),duration:1e3});var n="intersecao_matriz"==e.tipoMatrix?a.conf.destino[0]:a.matriz,r=s.fieldsMatrixLocal[a.grupo][n];for(var o in r){var l=r[o];s.$emit("input","",l.id),"intersecao_matriz"==l.tipoMatrix&&t.doMatrixData(l)}s.$emit("forceUpdate")})}}},K={render:function(){var e=this.$createElement;return(this._self._c||e)("span",[this._t("default")],2)},staticRenderFns:[]},ee=a("VU/8")(X,K,!1,null,null,null).exports,te=a("pFYg"),ae=a.n(te),se={name:"Conditional",props:{values:{type:Object,required:!0},form:{type:Array,required:!0}},data:function(){return{fieldsConditionLocal:null}},methods:{isFieldCondition:function(e){return e.condicional&&""!=e.condicional&&"false"!=e.condicional},fieldCondition:function(e){if(e.isVisible=!0,this.isFieldCondition(e)){void 0!==this.fieldsConditionLocal&&null!=this.fieldsConditionLocal||(this.fieldsConditionLocal={});var t=e.condicional;e.conditionData=t;var a=t.campo;return this.fieldsConditionLocal[a]=e,this.doConditionData(e)}return e.isVisible},updatedValue:function(e){this.$emit("forceUpdate")},doConditionData:function(e){if(this.isFieldCondition(e)){var t=e.conditionData;if(this.values.responses[t.campo]){var a=this.values.responses[t.campo].valor;a||(a="");var s=t.valor;"field"==t.alvo&&(s=this.values.responses[t.destino].valor),s||(s="");var i=!1;try{switch(t.cond){case"=":"string"!=typeof a&&(a=a.toString()),i=a.toUpperCase()==s.toUpperCase();break;case">":i=parseFloat(a)>parseFloat(s);break;case">=":i=parseFloat(a)>=parseFloat(s);break;case"<":i=parseFloat(a)<parseFloat(s);break;case"<=":i=parseFloat(a)<=parseFloat(s);break;case"!=":i=a!=s;break;case"LIKE":if(""!=a){var n=a;if("object"==(void 0===n?"undefined":ae()(n)))for(var r=0;r<n.length&&!i;r++){i=n[r].indexOf(s)>=0}else i=a.indexOf(s)>=0}break;case"IN":case"NIN":if("object"==(void 0===a?"undefined":ae()(a)))for(var o=0;o<a.length&&!i;o++){var l=a[o];i=""!=l&&(s.indexOf("|")>=0?s.split("|").indexOf(l)>=0:s.indexOf(l)>=0)}else i=""!=a&&(s.indexOf("|")>=0?s.split("|").indexOf(""+a)>=0:s.indexOf(""+a)>=0);i="IN"==t.cond?i:!i}}catch(e){i=!1}switch(t.acao){case"exibe":e.isVisible=i;break;case"exibe_obriga":e.isVisible=i,e.obrigatorio=i?"1":"0";break;case"obriga":e.obrigatorio=i?"1":"0"}}else e.isVisible=!1;this.errors=[],this.hasErrors=!1}return e.isVisible}}},ie={render:function(){var e=this.$createElement;return(this._self._c||e)("span",[this._t("default")],2)},staticRenderFns:[]},ne=a("VU/8")(se,ie,!1,null,null,null).exports,re=a("SBDe"),oe=a("NYxO"),le=a("0xDb"),ce=a("T8Nv"),ue=a("DtRx"),de=a.n(ue),me=a("M4fF"),pe=a.n(me),he={name:"Form",components:{InputConsumption:j.a,InputSelectMultiBox:V.a,DataMatrix:ee,Conditional:ne,InputForm:C.default,InputList:w.a,InputSing:T.a,InputText:S.a,InputAutoComplete:R,InputSku:N.a,InputSum:D.a,InputTextarea:F.a,InputImage:y.a,InputHidden:L.a,InputImageList:x.a,InputJsonValue:k.a,InputPreDefined:$.a,Separador:A.a,Orientacao:E.a,SimNao:q.a,OkOuFoto:M.a,InputAccordingPhoto:p.a,InputAccordingText:v.a,InputAccordingSimple:h.a,InputTraficLight:b,InputStars:U.a,InputPartsSelection:H.a,TarefaAutomatica:Q},props:{idForm:{required:!0},value:{required:!1,default:null},title:{type:String,required:!1,default:""},typeForm:{type:String,required:!1,default:"simple"},backDisabled:{type:Boolean,required:!1,default:!1},readOnly:{type:Boolean,required:!1,default:!1},readonlyState:{type:Boolean,required:!1,default:!1}},data:function(){return{values:{data:null,responses:{}},form:{titulo:"",perguntas:[]},preResp:[],disabledClick:!1,timeoutDisableClick:null}},beforeMount:function(){var e=this;return m()(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadValues();case 2:case"end":return t.stop()}},t,e)}))()},watch:{value:function(e){e&&null!=e&&null!=e.data?(this.values=e,this.populateResponses(),this.$forceUpdate()):this.values={idForm:this.idForm,idTarefa:this.idTarefa,data:new Date,concluida:1,uuid:de()(),responses:{}},ee.values=this.values,ee.form=this.form,ne.values=this.values,ne.form=this.form}},computed:l()({},Object(oe.b)({currentTask:"task/currentTask",defaultPreResp:"task/defaultPreResp"}),{idTarefa:function(){return this.currentTask?this.currentTask.id:null},questions:function(){return this.form?pe.a.orderBy(this.form.perguntas,function(e){return parseInt(e.ordem,10)}):[]}}),methods:{loadValues:function(){var e=this;return m()(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,re.a.getOneFormById(parseInt(e.idForm));case 2:if(e.form=t.sent,e.form){t.next=8;break}return e.$bus.$emit("showSnackBar",{message:e.$t("Aguarde sincronização de formulários!"),duration:4e3}),e.$bus.$emit("auth-user",!0),setTimeout(e.loadValues,3e3),t.abrupt("return");case 8:null==e.value?e.values={idForm:e.idForm,idTarefa:e.idTarefa,data:new Date,uuid:de()(),responses:{}}:e.values=e.value,e.populateResponses(),ee.values=e.values,ee.form=e.form,ne.values=e.values,ne.form=e.form;case 14:case"end":return t.stop()}},t,e)}))()},updatePreResp:function(e){this.$emit("updatePreResp",e)},updatedValue:function(e,t){var a=this,s=r()(a.form.perguntas).find(function(e){return e.id==t}),i=r()(s.metaDados).find(function(e){return"ancora"==e.meta_key});if(e&&("string"!=typeof e||e.indexOf("base64")<0)){i&&a.$emit("updatePreResp",{key:i.meta_value,value:e});var n=r()(s.metaDados).find(function(e){return"updateValuePreresp"==e.meta_key});n&&"undefined"!=a.preResp[n.meta_value]&&a.$emit("updatePreResp",{key:n.meta_value,value:Object(le.c)(e,s.mascara)})}a.values.responses[t]||a.populateResponses(),a.values.responses[t].valor=e,a.$forceUpdate(),a.$emit("input",a.values);try{setTimeout(function(){if(a.$refs&&a.$refs.input){var e=a.$refs.input&&a.$refs.input.find(function(e){return e.id==t});e&&e.isValid();var s=a.$refs.input.filter(function(e){return"soma"==e.tipo});s&&s.forEach(function(e){e.updateSum(a.$refs.input.find(function(e){return e.id==t}))})}},100)}catch(e){console.log("Elementos já destruidos")}},changedValue:function(e){var t=this;this.$refs.DataMatrix.updatedValue(e),this.$refs.Conditional.updatedValue(e),setTimeout(function(){if(t.$refs&&t.$refs.input){var a=t.$refs.input.find(function(t){return t.id==e});a&&a.isValid()}},100)},updateForm:function(){this.$forceUpdate()},parseFieldType:function(e,t){return this.$refs.DataMatrix.parseFieldType(e,t)},doConditional:function(e){return this.$refs.Conditional.fieldCondition(e)},save:function(){if(!this.disabledClick){this.disableClick();var e=!1,t=[];this.$refs.input.forEach(function(a){a.getValue(),a.isValid()||(e=!0,t.push(a))}),e?(t.length>0&&t[0].$el&&t[0].$el.scrollIntoView({behavior:"smooth",block:"center"}),this.$bus.$emit("showSnackBar",{message:this.$t("Formulário não possui valores válidos!"),duration:3e3})):this.$emit("save",this.values)}},getValues:function(){this.$refs.input.forEach(function(e){e.getValue()})},cancel:function(){this.$emit("cancel",this.values)},clear:function(){var e=this;return m()(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.value&&null!=e.value.data?e.values=e.value:e.values={data:null,responses:{}},e.loadValues(),e.populateResponses(),e.$forceUpdate();case 4:case"end":return t.stop()}},t,e)}))()},isReadOnly:function(e){var t=r()(e.metaDados).find(function(e){return"readonly"==e.meta_key});return!!t&&"on"==t.meta_value},updateResponseByPreResp:function(){var e=this;e.form.perguntas.forEach(function(t){if(!e.isReadOnly(t)){var a=r()(t.metaDados).find(function(e){return"ancora"==e.meta_key});if(a&&e.preResp[a.meta_value]){var s=e.preResp[a.meta_value];e.values.responses[t.id].valor=s}}}),e.$forceUpdate()},populateResponses:function(){var e=this;if(!this.form||!this.form.id||!this.values)return this.loadValues();if(this.currentTask&&this.idTarefa!=this.currentTask.uuid)try{var t=this.currentTask.metaDados.find(function(e){return"__OS"==e.meta_key});if(this.defaultPreResp&&t&&t.meta_value&&this.defaultPreResp.OS!=t.meta_value?(this.preResp=JSON.parse(r()(e.currentTask.metaDados).find(function(e){return"__pre_resp"==e.meta_key}).meta_value),this.updateResponseByPreResp()):this.defaultPreResp?this.preResp=this.defaultPreResp:this.preResp=JSON.parse(r()(e.currentTask.metaDados).find(function(e){return"__pre_resp"==e.meta_key}).meta_value),!this.preResp&&""!=this.preResp)throw new Error("oops")}catch(t){return e.$bus.$emit("showSnackBar",{message:e.$t("OS ainda em sincronização!"),duration:3e3}),void Object(ce.e)(e.currentTask.id).then(function(t){e.$bus.$emit("tasks-sync",!0),e.$store.dispatch("task/setCurrentTaskPreResp",{preResp:i()(t.data)}),e.populateResponses()})}for(var a in this.form.perguntas){var s=this.form.perguntas[a];if(void 0===this.values.responses||void 0===this.values.responses[s.id])switch(s.tipo){case"formulario":this.values.responses[s.id]={valor:[],idPergunta:s.id,tipo:s.tipo};break;case"texto":s.default||"money"!=s.mascara||(s.default="0");default:var n=void 0!==s.default&&""!=s.default?s.default:null,o=r()(s.metaDados).find(function(e){return"ancora"==e.meta_key});o&&this.preResp[o.meta_value]&&(n=this.preResp[o.meta_value]);var l=r()(s.metaDados).find(function(e){return"readonly"==e.meta_key});l&&(s.readOnly="on"==l.meta_value),void 0===this.values.responses&&(this.values={idForm:this.form.id,idTarefa:this.currentTask.id,data:new Date,uuid:de()(),responses:{}}),this.values.responses[s.id]={valor:n,idPergunta:s.id,tipo:s.tipo,readonly:s.readonly}}}this.$forceUpdate()},disableClick:function(){var e=this;this.timeoutDisableClick||(this.disabledClick=!0,this.timeoutDisableClick=setTimeout(function(){e.disabledClick=!1,e.timeoutDisableClick=null},2e3))}},beforeDestroy:function(){this.$refs&&(this.$refs.input&&(this.$refs.input.forEach(function(e){try{e.$destroy(),e=null}catch(e){}}),this.$refs.input=null),this.$refs.DataMatrix&&(this.$refs.DataMatrix.$destroy(),this.$refs.DataMatrix=null),this.$refs.Conditional&&(this.$refs.Conditional.$destroy(),this.$refs.Conditional=null)),clearTimeout(this.timeoutDisableClick)},beforeCreate:function(){this.$options.components.InputForm=a("9+hI").default}},ve={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-container",class:[{"wizard-container":"wizardstep"==e.typeForm},{readonlystep:e.readOnly}]},[a("div",{staticClass:"fields-container"},[a("DataMatrix",{ref:"DataMatrix",attrs:{values:e.values,form:e.form.perguntas},on:{input:e.updatedValue,forceUpdate:e.updateForm}},[a("Conditional",{ref:"Conditional",attrs:{values:e.values,form:e.form.perguntas},on:{input:e.updatedValue,forceUpdate:e.updateForm}},e._l(e.questions,function(t){return a("div",{key:t.id,class:{readonlyfield:e.readOnly}},[parseInt(t.formulario)==parseInt(e.form.id)?a("div",[t.blocked?a("div",{staticClass:"input-blocked"},[a("label",{staticClass:"orange"},[e._v("\n                "+e._s(e.$t("Campo oculto para o/a técnico"))+" TÉCNICO\n              ")]),e._v(" "),a("div",{staticClass:"input-pharse"},[a("i",{staticClass:"material-icons"},[e._v("lock")]),e._v("\n                "+e._s(e.$t("Essa Resposta não pode ser lida no app"))+"\n              ")])]):a("div",[e.parseFieldType(t,"texto")?a("InputText",e._b({directives:[{name:"show",rawName:"v-show",value:e.doConditional(t),expression:"doConditional(field)"}],ref:"input",refInFor:!0,staticClass:"texto",attrs:{value:e.values.responses[t.id].valor,readOnly:e.readOnly||e.isReadOnly(t)||"on"==e.values.responses[t.id].readonly},on:{updatePreResp:e.updatePreResp,input:e.updatedValue,change:e.changedValue}},"InputText",t,!1)):e._e(),e._v(" "),e.parseFieldType(t,"sku")?a("InputSku",e._b({directives:[{name:"show",rawName:"v-show",value:e.doConditional(t),expression:"doConditional(field)"}],ref:"input",refInFor:!0,staticClass:"texto",attrs:{currentTask:e.currentTask,fieldMetadados:t.metaDados,value:e.values.responses[t.id].valor,readOnly:e.readOnly||e.isReadOnly(t)||"on"==e.values.responses[t.id].readonly,maxInputSku:"10",maxInputEng:"3",maxInputSerie:"9"},on:{updatePreResp:e.updatePreResp,input:e.updatedValue,change:e.changedValue}},"InputSku",t,!1)):e._e(),e._v(" "),e.parseFieldType(t,"soma")?a("InputSum",e._b({directives:[{name:"show",rawName:"v-show",value:e.doConditional(t),expression:"doConditional(field)"}],ref:"input",refInFor:!0,staticClass:"texto",attrs:{value:e.values.responses[t.id].valor,readOnly:e.readOnly||e.isReadOnly(t)||"on"==e.values.responses[t.id].readonly,responses:e.values.responses,questions:e.questions},on:{updatePreResp:e.updatePreResp,input:e.updatedValue,change:e.changedValue}},"InputSum",t,!1)):e._e(),e._v(" "),e.parseFieldType(t,"textoLongo")?a("InputTextarea",e._b({directives:[{name:"show",rawName:"v-show",value:e.doConditional(t),expression:"doConditional(field)"}],ref:"input",refInFor:!0,staticClass:"textoLongo",attrs:{value:e.values.responses[t.id].valor,readOnly:e.readOnly||e.isReadOnly(t)||"on"==e.values.responses[t.id].readonly},on:{updatePreResp:e.updatePreResp,input:e.updatedValue,change:e.changedValue}},"InputTextarea",t,!1)):e._e(),e._v(" "),e.parseFieldType(t,"assinatura")?a("InputSing",e._b({directives:[{name:"show",rawName:"v-show",value:e.doConditional(t),expression:"doConditional(field)"}],ref:"input",refInFor:!0,staticClass:"assinatura",attrs:{value:e.values.responses[t.id].valor,readOnly:e.readOnly||e.isReadOnly(t)||"on"==e.values.responses[t.id].readonly},on:{updatePreResp:e.updatePreResp,input:e.updatedValue,change:e.changedValue}},"InputSing",t,!1)):e._e(),e._v(" "),e.parseFieldType(t,"formulario")?a("InputForm",e._b({directives:[{name:"show",rawName:"v-show",value:e.doConditional(t),expression:"doConditional(field)"}],ref:"input",refInFor:!0,staticClass:"section-form",attrs:{value:e.values.responses[t.id].valor,idForm:t.lista,readOnly:e.readOnly||e.isReadOnly(t)||"on"==e.values.responses[t.id].readonly},on:{updatePreResp:e.updatePreResp,input:e.updatedValue,change:e.changedValue}},"InputForm",t,!1)):e._e(),e._v(" "),e.parseFieldType(t,"parts_selection")?a("InputPartsSelection",e._b({directives:[{name:"show",rawName:"v-show",value:e.doConditional(t),expression:"doConditional(field)"}],ref:"input",refInFor:!0,staticClass:"input-selecao-pecas",attrs:{value:e.values.responses[t.id].valor,fieldMetadados:t.metaDados,readOnly:e.readOnly||e.isReadOnly(t)||"on"==e.values.responses[t.id].readonly},on:{updatePreResp:e.updatePreResp,updateForm:e.updateForm,input:e.updatedValue,change:e.changedValue}},"InputPartsSelection",t,!1)):e._e(),e._v(" "),e.parseFieldType(t,"predefinido")?a("InputPreDefined",e._b({directives:[{name:"show",rawName:"v-show",value:e.doConditional(t),expression:"doConditional(field)"}],ref:"input",refInFor:!0,staticClass:"predefinido",attrs:{value:e.values.responses[t.id].valor,"id-tarefa":e.idTarefa,readOnly:e.readOnly||e.isReadOnly(t)||"on"==e.values.responses[t.id].readonly},on:{updatePreResp:e.updatePreResp,input:e.updatedValue,change:e.changedValue}},"InputPreDefined",t,!1)):e._e(),e._v(" "),e.parseFieldType(t,"foto")?a("InputImage",e._b({directives:[{name:"show",rawName:"v-show",value:e.doConditional(t),expression:"doConditional(field)"}],ref:"input",refInFor:!0,staticClass:"section-foto",attrs:{value:e.values.responses[t.id].valor,readOnly:e.readOnly||e.isReadOnly(t)||"on"==e.values.responses[t.id].readonly},on:{updatePreResp:e.updatePreResp,input:e.updatedValue,change:e.changedValue}},"InputImage",t,!1)):e._e(),e._v(" "),e.parseFieldType(t,"fotoConjunto")?a("InputImageList",e._b({directives:[{name:"show",rawName:"v-show",value:e.doConditional(t),expression:"doConditional(field)"}],ref:"input",refInFor:!0,staticClass:"section-fotoConjunto",attrs:{value:e.values.responses[t.id].valor,readOnly:e.readOnly||e.isReadOnly(t)||"on"==e.values.responses[t.id].readonly},on:{updatePreResp:e.updatePreResp,input:e.updatedValue,change:e.changedValue}},"InputImageList",t,!1)):e._e(),e._v(" "),e.parseFieldType(t,"json_value")?a("InputJsonValue",e._b({directives:[{name:"show",rawName:"v-show",value:e.doConditional(t),expression:"doConditional(field)"}],ref:"input",refInFor:!0,staticClass:"json_value",attrs:{value:e.values.responses[t.id].valor,fieldMetadados:t.metaDados,readOnly:e.readOnly||e.isReadOnly(t)||"on"==e.values.responses[t.id].readonly},on:{updatePreResp:e.updatePreResp,input:e.updatedValue,change:e.changedValue}},"InputJsonValue",t,!1)):e._e(),e._v(" "),e.parseFieldType(t,"separador")?a("Separador",e._b({directives:[{name:"show",rawName:"v-show",value:e.doConditional(t),expression:"doConditional(field)"}],ref:"input",refInFor:!0,attrs:{texto:t.texto,value:e.values.responses[t.id].valor,readOnly:e.readOnly||e.isReadOnly(t)||"on"==e.values.responses[t.id].readonly},on:{updatePreResp:e.updatePreResp,input:e.updatedValue,change:e.changedValue}},"Separador",t,!1)):e._e(),e._v(" "),e.parseFieldType(t,"orientacao")?a("Orientacao",e._b({directives:[{name:"show",rawName:"v-show",value:e.doConditional(t),expression:"doConditional(field)"}],ref:"input",refInFor:!0,attrs:{texto:t.texto,value:e.values.responses[t.id].valor,readOnly:e.readOnly||e.isReadOnly(t)||"on"==e.values.responses[t.id].readonly},on:{updatePreResp:e.updatePreResp,input:e.updatedValue,change:e.changedValue}},"Orientacao",t,!1)):e._e(),e._v(" "),e.parseFieldType(t,"simounao")?a("SimNao",e._b({directives:[{name:"show",rawName:"v-show",value:e.doConditional(t),expression:"doConditional(field)"}],ref:"input",refInFor:!0,attrs:{texto:t.texto,value:e.values.responses[t.id].valor,readOnly:e.readOnly||e.isReadOnly(t)||"on"==e.values.responses[t.id].readonly},on:{updatePreResp:e.updatePreResp,input:e.updatedValue,change:e.changedValue}},"SimNao",t,!1)):e._e(),e._v(" "),e.parseFieldType(t,"stars")?a("InputStars",e._b({directives:[{name:"show",rawName:"v-show",value:e.doConditional(t),expression:"doConditional(field)"}],ref:"input",refInFor:!0,attrs:{texto:t.texto,value:e.values.responses[t.id].valor,readOnly:e.readOnly||e.isReadOnly(t)||"on"==e.values.responses[t.id].readonly},on:{updatePreResp:e.updatePreResp,input:e.updatedValue,change:e.changedValue}},"InputStars",t,!1)):e._e(),e._v(" "),e.parseFieldType(t,"Ok_ou_foto")?a("OkOuFoto",e._b({directives:[{name:"show",rawName:"v-show",value:e.doConditional(t),expression:"doConditional(field)"}],ref:"input",refInFor:!0,attrs:{field:t,texto:t.texto,value:e.values.responses[t.id].valor,readOnly:e.readOnly||e.isReadOnly(t)||e.values.responses[t.id].readonly},on:{updatePreResp:e.updatePreResp,input:e.updatedValue,change:e.changedValue}},"OkOuFoto",t,!1)):e._e(),e._v(" "),e.parseFieldType(t,"conforme_naoConforme_naoSeAplica_simples")?a("InputAccordingSimple",e._b({directives:[{name:"show",rawName:"v-show",value:e.doConditional(t),expression:"doConditional(field)"}],ref:"input",refInFor:!0,staticClass:"input-according-simple",attrs:{value:e.values.responses[t.id].valor,readOnly:e.readOnly||e.isReadOnly(t)||e.values.responses[t.id].readonly,fieldMetadados:t.metaDados},on:{updatePreResp:e.updatePreResp,input:e.updatedValue,change:e.changedValue}},"InputAccordingSimple",t,!1)):e._e(),e._v(" "),e.parseFieldType(t,"conforme_naoConforme_naoSeAplica_semFoto")?a("InputAccordingText",e._b({directives:[{name:"show",rawName:"v-show",value:e.doConditional(t),expression:"doConditional(field)"}],ref:"input",refInFor:!0,staticClass:"input-according-text",attrs:{value:e.values.responses[t.id].valor,readOnly:e.readOnly||e.isReadOnly(t)||e.values.responses[t.id].readonly},on:{updatePreResp:e.updatePreResp,input:e.updatedValue,change:e.changedValue}},"InputAccordingText",t,!1)):e._e(),e._v(" "),e.parseFieldType(t,"conforme_naoConforme_naoSeAplica")?a("InputAccordingPhoto",e._b({directives:[{name:"show",rawName:"v-show",value:e.doConditional(t),expression:"doConditional(field)"}],ref:"input",refInFor:!0,staticClass:"input-according-photo",attrs:{value:e.values.responses[t.id].valor,readOnly:e.readOnly||e.isReadOnly(t)||e.values.responses[t.id].readonly},on:{updatePreResp:e.updatePreResp,input:e.updatedValue,change:e.changedValue}},"InputAccordingPhoto",t,!1)):e._e(),e._v(" "),e.parseFieldType(t,"semaforo")?a("InputTraficLight",e._b({directives:[{name:"show",rawName:"v-show",value:e.doConditional(t),expression:"doConditional(field)"}],ref:"input",refInFor:!0,staticClass:"input-trafic-light",attrs:{value:e.values.responses[t.id].valor,readOnly:e.readOnly||e.isReadOnly(t)||e.values.responses[t.id].readonly},on:{updatePreResp:e.updatePreResp,input:e.updatedValue,change:e.changedValue}},"InputTraficLight",t,!1)):e._e(),e._v(" "),e.parseFieldType(t,"lista")?a("InputList",e._b({directives:[{name:"show",rawName:"v-show",value:e.doConditional(t),expression:"doConditional(field)"}],ref:"input",refInFor:!0,staticClass:"lista",attrs:{value:e.values.responses[t.id].valor,readOnly:e.readOnly||e.isReadOnly(t)||e.values.responses[t.id].readonly},on:{updatePreResp:e.updatePreResp,input:e.updatedValue,change:e.changedValue}},"InputList",t,!1)):e._e(),e._v(" "),e.parseFieldType(t,"tarefaAutomatica")?a("TarefaAutomatica",e._b({directives:[{name:"show",rawName:"v-show",value:e.doConditional(t),expression:"doConditional(field)"}],ref:"input",refInFor:!0,staticClass:"lista",attrs:{value:e.values.responses[t.id].valor,readOnly:e.readOnly||e.isReadOnly(t)||e.values.responses[t.id].readonly},on:{updatePreResp:e.updatePreResp,input:e.updatedValue,change:e.changedValue}},"TarefaAutomatica",t,!1)):e._e(),e._v(" "),e.parseFieldType(t,"validacao_lista")?a("InputAutoComplete",e._b({directives:[{name:"show",rawName:"v-show",value:e.doConditional(t),expression:"doConditional(field)"}],ref:"input",refInFor:!0,staticClass:"input-autocomplete-list",attrs:{value:e.values.responses[t.id].valor,readOnly:e.readOnly||e.isReadOnly(t)||e.values.responses[t.id].readonly},on:{updatePreResp:e.updatePreResp,input:e.updatedValue,change:e.changedValue}},"InputAutoComplete",t,!1)):e._e(),e._v(" "),e.parseFieldType(t,"multiplaEscolha")?a("InputSelectMultiBox",e._b({directives:[{name:"show",rawName:"v-show",value:e.doConditional(t),expression:"doConditional(field)"}],ref:"input",refInFor:!0,staticClass:"input-select-multi-box",attrs:{value:e.values.responses[t.id].valor,readOnly:e.readOnly||e.isReadOnly(t)||e.values.responses[t.id].readonly},on:{updatePreResp:e.updatePreResp,input:e.updatedValue,change:e.changedValue}},"InputSelectMultiBox",t,!1)):e._e(),e._v(" "),e.parseFieldType(t,"consumo")?a("InputConsumption",e._b({directives:[{name:"show",rawName:"v-show",value:e.doConditional(t),expression:"doConditional(field)"}],ref:"input",refInFor:!0,staticClass:"input-select-multi-box",attrs:{value:e.values.responses[t.id].valor,readOnly:e.readOnly||e.isReadOnly(t)||e.values.responses[t.id].readonly},on:{updatePreResp:e.updatePreResp,input:e.updatedValue,change:e.changedValue}},"InputConsumption",t,!1)):e._e(),e._v(" "),e.parseFieldType(t,"campo_oculto")?a("InputHidden",e._b({directives:[{name:"show",rawName:"v-show",value:e.doConditional(t),expression:"doConditional(field)"}],ref:"input",refInFor:!0,attrs:{metaDados:t.metaDados,preResp:e.preResp,value:e.values.responses[t.id].valor},on:{updatePreResp:e.updatePreResp,input:e.updatedValue}},"InputHidden",t,!1)):e._e()],1)]):e._e()])}),0)],1)],1),e._v(" "),"wizardstep"!=e.typeForm||e.readOnly?e._e():a("div",{staticClass:"form-actions wizard"},[a("button",{staticClass:"mdl-button ",attrs:{disabled:e.backDisabled},on:{click:e.cancel}},[a("i",{staticClass:"material-icons"},[e._v("arrow_left")]),e._v(e._s(e.$t("Anterior"))+"\n    ")]),e._v(" "),a("button",{staticClass:"mdl-button ",attrs:{disabled:e.disabledClick},on:{click:e.save}},[e._v(e._s(e.$t("Proximo"))),a("i",{staticClass:"material-icons"},[e._v("arrow_right")])])]),e._v(" "),"wizardconfirm"!=e.typeForm||e.readOnly?e._e():a("div",{staticClass:"form-actions wizardconfirm"},[a("button",{staticClass:"mdl-button  button-edit",on:{click:e.cancel}},[a("i",{staticClass:"material-icons"},[e._v("close")]),e._v(e._s(e.$t("Alterar"))+"\n    ")]),e._v(" "),a("button",{staticClass:"mdl-button  button-confirm ",on:{click:e.save}},[e._v(e._s(e.$t("Aprovar"))),a("i",{staticClass:"material-icons"},[e._v("check_circle_outline")])])]),e._v(" "),"simple"!=e.typeForm||e.readOnly||e.$root.dialogOpen?e._e():a("div",{staticClass:"form-actions simple"},[a("button",{staticClass:"mdl-button  grey",on:{click:e.cancel}},[e._v(e._s(e.$t("Cancelar")))]),e._v(" "),a("button",{staticClass:"mdl-button  orange",on:{click:e.save}},[e._v(e._s(e.$t("Salvar")))])])])},staticRenderFns:[]},fe=a("VU/8")(he,ve,!1,null,null,null);t.default=fe.exports},D9bi:function(e,t){},DYhV:function(e,t,a){"use strict";var s=a("Xxa5"),i=a.n(s),n=a("exGp"),r=a.n(n),o=a("4YyR"),l={name:"TaskItem",props:{task:{type:Object,required:!0,default:function(){return{id:0,title:"",status:"",address:""}}}},computed:{numOS:function(){var e=this.task.nome?this.task.nome:this.task.id;if(!this.task.nome&&this.task.metaDados)for(var t in this.task.metaDados)if("__OS"==this.task.metaDados[t].meta_key)return this.task.metaDados[t].meta_value;return e},period:function(){var e=JSON.parse(this.task.planedStart).hora;return e>=1&&e<=6?"dawn":e>=7&&e<=12?"morning":e>=13&&e<=18?"evening":e>=19&&e<=23?"night":void 0}},methods:{setCurrentTask:function(){var e=this;return r()(i.a.mark(function t(){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.b)(e.task.id);case 2:return a=t.sent,t.next=5,e.$store.dispatch("task/setCurrentTask",{task:a});case 5:case"end":return t.stop()}},t,e)}))()}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"mdl-card taskitem",attrs:{name:"n"}},[a("div",{staticClass:"row-conteudo"},[a("div",{staticClass:"conteudo-card",on:{click:function(t){return e.$router.push("/task/"+e.task.id)}}},[a("div",{staticClass:"row row-titulo"},[a("div",{staticClass:"status-title"},[a("div",{staticClass:"status"},[e._v(e._s(e._f("capitalize")(e.$t(e.task.status))))]),e._v(" "),a("div",{staticClass:"title"},[e._v(e._s(e.numOS))])]),e._v(" "),a("div",{staticClass:"icon"},["bloqueada"==e.task.status&&(!e.task.responses||e.task.responses&&0==e.task.responses.length)?a("i",{staticClass:"material-icons grey"},[e._v("lock")]):e._e(),e._v(" "),"bloqueada"==e.task.status&&e.task.responses&&0!=e.task.responses.length?a("i",{staticClass:"material-icons green"},[e._v("build")]):e._e(),e._v(" "),"travelStarted"==e.task.status?a("i",{staticClass:"material-icons orange"},[e._v("near_me")]):e._e(),e._v(" "),"travelDone"==e.task.status?a("i",{staticClass:"material-icons orange"},[e._v("location_on")]):e._e(),e._v(" "),"iniciada"==e.task.status?a("i",{staticClass:"material-icons orange"},[e._v("play_circle_filled")]):e._e(),e._v(" "),"concluida"==e.task.status?a("i",{staticClass:"material-icons green"},[e._v("check")]):e._e(),e._v(" "),"malsucedida"==e.task.status?a("i",{staticClass:"material-icons red"},[e._v("close")]):e._e()])]),e._v(" "),a("div",{staticClass:"row nowrap"},[e._m(0),e._v(" "),a("div",{staticClass:"address"},[e._v("\n                "+e._s(e.task.endereco)+"\n              ")]),e._v(" "),e.task.historico&&e.task.historico.length?a("div",{staticClass:"icon"},[a("i",{staticClass:"material-icons"},[e._v("comment")])]):e._e()])]),e._v(" "),a("div",{staticClass:"reordenacao",class:[""!=this.$parent.orderName&&this.$parent.orderName==this.period?"ativo":""]},[a("button",{on:{click:function(t){return e.$emit("order",{id:e.task.id,direction:"up"})}}},[a("i",{staticClass:"material-icons"},[e._v("\n          arrow_upward\n          ")])]),e._v(" "),a("button",{on:{click:function(t){return e.$emit("order",{id:e.task.id,direction:"down"})}}},[a("i",{staticClass:"material-icons"},[e._v("\n        arrow_downward\n        ")])])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"location-icon"},[t("i",{staticClass:"material-icons"},[this._v("location_on")])])}]},u=a("VU/8")(l,c,!1,null,null,null);t.a=u.exports},EBc6:function(e,t,a){"use strict";var s=a("Xxa5"),i=a.n(s),n=a("exGp"),r=a.n(n),o=a("Dd8w"),l=a.n(o),c=a("35fZ"),u=a("UdET"),d=a("NYxO"),m={extends:u.a,name:"InputPreDefined",components:{FimTarefa:c.b,InicioTarefa:c.e,Inicio:c.c,InicioHora:c.d,Termino:c.h,TerminoHora:c.i,Agent:c.a,Local:c.f,PontoGeo:c.g},props:{},data:function(){return{componentValue:{}}},computed:l()({},Object(d.b)({currentTask:"task/currentTask",tasks:"task/tasks",user:"user/user"})),beforeMount:function(){var e=this;return r()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.componentValue=e.value,"pontoGeo"==e.default&&(e.componentValue={lat:Number(e.tarefa.latitude),lng:Number(e.tarefa.longitude),endereco:e.tarefa.endereco});case 2:case"end":return t.stop()}},t,e)}))()},created:function(){this.data=new Date,this.getValue=function(){this.$refs.input&&this.$refs.input.getValue()}},methods:{setValue:function(e){this.componentValue=e,this.$emit("input",e,this.id),this.$emit("change",this.id)}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.readOnly,expression:"readOnly"}]},["inicio"==this.default?a("inicio",{ref:"input",attrs:{texto:e.texto},on:{input:e.setValue}}):e._e(),e._v(" "),"inicio_hora"==this.default?a("inicio-hora",{ref:"input",attrs:{texto:e.texto,readOnly:e.readOnly},on:{input:e.setValue}}):e._e(),e._v(" "),"termino"==this.default?a("termino",{ref:"input",attrs:{texto:e.texto,readOnly:e.readOnly},on:{input:e.setValue}}):e._e(),e._v(" "),"termino_hora"==this.default?a("termino-hora",{ref:"input",attrs:{texto:e.texto,readOnly:e.readOnly},on:{input:e.setValue}}):e._e(),e._v(" "),"inicio_tarefa"==this.default?a("inicio-tarefa",{ref:"input",attrs:{value:e.componentValue,texto:e.texto,readOnly:e.readOnly},on:{input:e.setValue}}):e._e(),e._v(" "),"fim_tarefa"==this.default?a("fim-tarefa",{ref:"input",attrs:{value:e.componentValue,texto:e.texto,readOnly:e.readOnly},on:{input:e.setValue}}):e._e(),e._v(" "),"usuario"==this.default?a("agent",{ref:"input",attrs:{texto:e.texto,readOnly:e.readOnly},on:{input:e.setValue}}):e._e(),e._v(" "),"pontoGeo"==this.default?a("ponto-geo",{ref:"input",attrs:{value:e.componentValue,texto:e.texto,readOnly:e.readOnly},on:{input:e.setValue}}):e._e(),e._v(" "),"local"==this.default?a("local",{ref:"input",attrs:{value:e.componentValue,texto:e.texto,readOnly:e.readOnly},on:{input:e.setValue}}):e._e()],1)])},staticRenderFns:[]},h=a("VU/8")(m,p,!1,null,null,null);t.a=h.exports},F8oN:function(e,t,a){"use strict";var s=a("fZjL"),i=a.n(s),n=a("pFYg"),r=a.n(n),o=a("Xxa5"),l=a.n(o),c=a("exGp"),u=a.n(c),d=a("sDar"),m=a("UdET"),p=a("zqAa"),h=a("0xDb"),v={name:"InputConsumption",extends:m.a,components:{DraggerQuantity:d.a},data:function(){return{serviceVisible:!1,serviceItemLabel:"",serviceItemValue:"",showComplete:!1,itemNeededItemLabel:"",itemNeededItemValue:"",itemNeededSelectedToRemove:{name:""},itemsSelected:{itens:[]},serviceSelected:{},itemsService:[{id:"reparo",name:"Reparo"},{id:"troca",name:"Troca"},{id:"reposicao",name:"Reposição (furto/vandalismo)"}],itemNeededSelected:null,itemNeeded:[],dialogConfirmRemoveItem:!1,sliderValue:1}},beforeMount:function(){var e=this;return u()(l.a.mark(function t(){var a,s;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.getFormList(e.lista);case 2:a=t.sent,s=a.itens,e.itemNeeded=s.map(function(e){return{id:e.id,codigo:e.codigo,name:e.titulo,quantidade:0}});case 5:case"end":return t.stop()}},t,e)}))()},mounted:function(){this.$dialogPolyfill.doDialog("dialogConfirmRemoveItem"),this.$dialogPolyfill.doDialog("dialogMain"),this.hasAnswer(this.value)},computed:{optionsFilter:function(){var e=this;return this.itemNeeded.filter(function(t){return t.name.toLowerCase().indexOf(e.itemNeededItemValue.toLowerCase())>-1||t.codigo.toLowerCase().indexOf(e.itemNeededItemValue.toLowerCase())>-1}).slice(0,10)}},methods:{hasAnswer:function(e){e&&"object"===(void 0===e?"undefined":r()(e))?this.itemsSelected.itens=e.itens:e&&"string"==typeof e&&(this.itemsSelected.itens=JSON.parse(e).itens)},onInput:function(e){this.showComplete=!0},onChange:function(){this.showComplete=!1},handleBlur:function(){this.showComplete=!1},changeSliderValue:function(e){this.sliderValue=e},setOrUpdateSelected:function(){var e=this;this.itemsSelected.itens=this.itemsSelected.itens.filter(function(t){return t.idServer!=e.itemNeededSelected.id});var t={name:this.itemNeededSelected.name,idServer:this.itemNeededSelected.id,codigo:this.itemNeededSelected.codigo,quantidade:this.sliderValue,tipo:this.serviceSelected.name};this.itemsSelected.itens.push(t),this.closeDialogAdd(),this.$emit("input",this.itemsSelected,this.id)},showDialogMaintenance:function(){this.$el.querySelector("#dialogConfirmRemoveItem").showModal()},closeDialogMaintenance:function(){this.$el.querySelector("#dialogConfirmRemoveItem").close()},showDialogAdd:function(){this.$el.querySelector("#dialogMain").showModal()},closeDialogAdd:function(){this.$el.querySelector("#dialogMain").close(),this.clearFields()},clearFields:function(){this.serviceVisible=!1,this.serviceItemLabel="",this.serviceItemValue="",this.showComplete=!1,this.itemNeededItemLabel="",this.itemNeededItemValue="",this.serviceSelected={},this.itemNeededSelectedToRemove={name:""},this.sliderValue=1},saveAndCloseDialogMaintenance:function(){this.removeSelected(),this.dialogConfirmRemoveItem=!1,this.closeDialogMaintenance(),this.$emit("input",this.itemsSelected,this.id)},saveAndCloseDialogAdd:function(){Object(h.a)(i()(this.serviceSelected).length)||Object(h.a)(this.itemNeededSelected)||this.setOrUpdateSelected()},removeQuantity:function(e){parseInt(e.quantidade)>1&&(e.quantidade=parseInt(e.quantidade)-1)},addQuantity:function(e){e.quantidade=parseInt(e.quantidade)+1},preRemoveItem:function(e){this.itemNeededSelectedToRemove=e,this.dialogConfirmRemoveItem=!this.dialogConfirmRemoveItem,this.showDialogMaintenance()},removeSelected:function(){var e=this;this.itemsSelected.itens=this.itemsSelected.itens.filter(function(t){return t.idServer!=e.itemNeededSelectedToRemove.idServer}),this.itemNeededSelectedToRemove={name:""}},setServiceInput:function(e){this.serviceItemLabel=e.name,this.serviceItemValue=e.id,this.serviceVisible=!1,this.serviceSelected=e},setItemNeeded:function(e){this.itemNeededSelected=e,this.itemNeededItemLabel=e.name,this.itemNeededItemValue=e.codigo,this.showComplete=!1}}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.readOnly?a("div",{staticClass:"readOnly section section-form"},[a("label",{staticClass:"orange"},[e._v("\n      "+e._s(e.texto)+"\n    ")]),e._v(" "),e.value?a("ul",{staticClass:"fieldList"},e._l(e.value,function(t,s){return a("li",{key:s},[e._m(0,!0),e._v("\n        "+e._s(e.$t("Tipo:"))+" "+e._s(t.tipo)+", "+e._s(e.$t("Quantidade:"))+" "+e._s(t.quantidade)+", "+e._s(e.$t("Item:"))+" "+e._s(t.name)+"\n      ")])}),0):e._e()]):a("div",{staticClass:"section section-form input-selecao-pecas"},[a("label",{staticClass:"orange"},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),a("button",{staticClass:"mdl-button mdl-button--raised bgGray button-input",on:{click:function(t){return e.showDialogAdd()}}},[a("i",{staticClass:"material-icons"},[e._v("add")]),e._v(e._s(e.$t("Incluir novo item consumido"))+"\n    ")]),e._v(" "),a("ul",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-list list-pecas"},e._l(e.itemsSelected.itens,function(t,s){return a("li",{key:s,staticClass:"mdl-list__item mdl-list__item--two-line"},[a("span",{staticClass:"mdl-list__item-primary-content"},[a("span",[e._v(e._s(t.tipo)+" - ("+e._s(t.codigo)+") "+e._s(t.name))])]),e._v(" "),a("span",{staticClass:"mdl-list__item-secondary-content"},[a("div",{staticClass:"qtd-actions"},[a("button",{staticClass:"qtd-control",on:{click:function(a){return e.removeQuantity(t)}}},[a("i",{staticClass:"material-icons"},[e._v("remove")])]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.quantidade,expression:"item.quantidade"}],attrs:{type:"number",min:"1"},domProps:{value:t.quantidade},on:{input:function(a){a.target.composing||e.$set(t,"quantidade",a.target.value)}}}),e._v(" "),a("button",{staticClass:"qtd-control",on:{click:function(a){return e.addQuantity(t)}}},[a("i",{staticClass:"material-icons"},[e._v("add")])])]),e._v(" "),a("a",{staticClass:"mdl-list__item-secondary-action",attrs:{href:"#"},on:{click:function(a){return e.preRemoveItem(t)}}},[a("i",{staticClass:"material-icons"},[e._v("remove_circle")])])])])}),0),e._v(" "),e._l(e.errors,function(t,s){return a("span",{key:s,staticClass:"mdl-error",domProps:{innerHTML:e._s(t)}})}),e._v(" "),a("dialog",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-dialog",attrs:{id:"dialogConfirmRemoveItem"}},[a("h6",{staticClass:"mdl-dialog__title"},[e._v(e._s(e.$t("Confirmar exclusão")))]),e._v(" "),a("div",{staticClass:"mdl-dialog__content"},[a("p",[e._v("\n          "+e._s(e.$t("Deseja realmente remover este item do campo {content} ?",{content:e.itemNeededSelectedToRemove.idServer+" - "+e.itemNeededSelectedToRemove.id}))+"\n        ")])]),e._v(" "),a("div",{staticClass:"mdl-dialog__actions"},[a("button",{staticClass:"mdl-button orange",attrs:{type:"button"},on:{click:function(t){return e.saveAndCloseDialogMaintenance()}}},[e._v("\n          "+e._s(e.$t("Ok"))+"\n        ")]),e._v(" "),a("button",{staticClass:"mdl-button grey close",attrs:{type:"button"},on:{click:function(t){return e.closeDialogMaintenance()}}},[e._v("\n          "+e._s(e.$t("Cancelar"))+"\n        ")])])]),e._v(" "),a("dialog",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-dialog",attrs:{id:"dialogMain"}},[a("h6",{staticClass:"mdl-dialog__title",domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("div",{staticClass:"mdl-dialog__content"},[a("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-select",class:{"is-dirty":""!=e.serviceItemValue}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.serviceItemLabel,expression:"serviceItemLabel"}],staticClass:"mdl-textfield__input",attrs:{type:"text",id:"serviceItem"+e.id,readonly:""},domProps:{value:e.serviceItemLabel},on:{click:function(t){e.serviceVisible=!0},blur:function(t){e.visible=!1},input:function(t){t.target.composing||(e.serviceItemLabel=t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.serviceItemValue,expression:"serviceItemValue"}],attrs:{type:"hidden",name:"sample5"},domProps:{value:e.serviceItemValue},on:{input:function(t){t.target.composing||(e.serviceItemValue=t.target.value)}}}),e._v(" "),a("i",{staticClass:"mdl-icon-toggle__label material-icons"},[e._v("arrow_drop_down")]),e._v(" "),a("label",{staticClass:"mdl-textfield__label",attrs:{for:"serviceItem"+e.id},domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),e.serviceVisible?a("ul",{ref:"dropdownMenu",staticClass:"mdl-menu mdl-menu--bottom-left mdl-js-menu",attrs:{for:"sample5"}},e._l(e.itemsService,function(t){return a("li",{key:t.id,staticClass:"mdl-menu__item",attrs:{"data-val":t.id},on:{click:function(a){return e.setServiceInput(t)}}},[e._v("\n              "+e._s(t.name)+"\n            ")])}),0):e._e()]),e._v(" "),a("div",{staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label",class:[{"is-dirty":""!=e.value}]},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sliderValue,expression:"sliderValue"}],staticClass:"mdl-textfield__input",attrs:{id:"sliderValue",autocomplete:"off",type:"number"},domProps:{value:e.sliderValue},on:{input:function(t){t.target.composing||(e.sliderValue=t.target.value)}}}),e._v(" "),a("label",{staticClass:"mdl-textfield__label",attrs:{for:"sliderValue"}},[a("span",{domProps:{innerHTML:e._s(e.$t("Quantidade"))}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])])]),e._v(" "),a("div",{staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label",class:[{"is-dirty":""!=e.value}]},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.itemNeededItemValue,expression:"itemNeededItemValue"}],ref:"autocompleteInput",staticClass:"mdl-textfield__input",attrs:{id:e.id,autocomplete:"off"},domProps:{value:e.itemNeededItemValue},on:{input:[function(t){t.target.composing||(e.itemNeededItemValue=t.target.value)},e.onInput]}}),e._v(" "),a("label",{staticClass:"mdl-textfield__label",attrs:{for:e.id}},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])])]),e._v(" "),e.showComplete&&""!=e.itemNeededItemValue?a("div",{staticClass:"autocomplete-list"},[e._l(e.optionsFilter,function(t){return a("div",{key:t.id,staticClass:"item-list",on:{click:function(a){return e.setItemNeeded(t)}}},[a("span",[e._v("\n              "+e._s(t.codigo)+" - "+e._s(t.name)+"\n            ")])])}),e._v(" "),e.showComplete&&""!=e.itemNeededItemValue&&!e.optionsFilter.length?a("div",{staticClass:"item-list"},[a("span",[e._v("\n                Nada encontrado\n              ")])]):e._e()],2):e._e()]),e._v(" "),a("div",{staticClass:"mdl-dialog__actions"},[a("button",{staticClass:"mdl-button orange",attrs:{type:"button"},on:{click:function(t){return e.saveAndCloseDialogAdd()}}},[e._v(e._s(e.$t("Salvar"))+"\n        ")]),e._v(" "),a("button",{staticClass:"mdl-button grey close",attrs:{type:"button"},on:{click:function(t){return e.closeDialogAdd()}}},[e._v(e._s(e.$t("Fechar")))])])])],2)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"mdl-button mdl-button--icon button-cancelar"},[t("i",{staticClass:"material-icons"},[this._v("close")])])}]};var _=a("VU/8")(v,f,!1,function(e){a("kEfP")},"data-v-3c2f1752",null);t.a=_.exports},Fccw:function(e,t){},Fmmh:function(e,t){},G4W2:function(e,t,a){"use strict";
/*!
 * vue-range-slider v0.6.0
 * https://github.com/ktsn/vue-range-slider
 *
 * @license
 * Copyright (c) 2016-2018 katashin
 * Released under the MIT license
 * https://github.com/ktsn/vue-range-slider/blob/master/LICENSE
 */var s={created:function(){"undefined"!=typeof document&&n(this,function(e,t){var a,s,n,r;a=document,s=e,n=t,r=i?{passive:!1}:void 0,a.addEventListener(s,n,r)})},beforeDestroy:function(){"undefined"!=typeof document&&n(this,function(e,t){var a,s,n,r;a=document,s=e,n=t,r=i?{passive:!1}:void 0,a.removeEventListener(s,n,r)})}},i="undefined"!=typeof window&&function(){var e=!1;try{var t={get:function(){e=!0}},a=Object.defineProperty({},"passive",t);window.addEventListener("test",null,a),window.removeEventListener("test",null,a)}catch(t){e=!1}return e}();function n(e,t){var a=e.$options.events;Object.keys(a).forEach(function(s){t(s,function(t){return a[s].call(e,t)})})}function r(e,t){var a=t.getBoundingClientRect();return{left:e.clientX-a.left,top:e.clientY-a.top}}var o={mixins:[s],props:{disabled:Boolean},data:function(){return{isDrag:!1}},events:{mousedown:function(e){return this.dragStart(e,this.offsetByMouse)},mousemove:function(e){return this.dragMove(e,this.offsetByMouse)},mouseup:function(e){return this.dragEnd(e,this.offsetByMouse)},touchstart:function(e){return this.dragStart(e,this.offsetByTouch)},touchmove:function(e){return this.dragMove(e,this.offsetByTouch)},touchend:function(e){return this.dragEnd(e,this.offsetByTouch)},touchcancel:function(e){return this.dragEnd(e,this.offsetByTouch)}},methods:{isInTarget:function(e){return!!e&&(e===this.$el||this.isInTarget(e.parentElement))},offsetByMouse:function(e){return r(e,this.$el)},offsetByTouch:function(e){return r(0===e.touches.length?e.changedTouches[0]:e.touches[0],this.$el)},dragStart:function(e,t){this.disabled||void 0!==e.button&&0!==e.button||!this.isInTarget(e.target)||(e.preventDefault(),this.isDrag=!0,this.$emit("dragstart",e,t(e),this.$el))},dragMove:function(e,t){this.isDrag&&(e.preventDefault(),this.$emit("drag",e,t(e),this.$el))},dragEnd:function(e,t){this.isDrag&&(e.preventDefault(),this.isDrag=!1,this.$emit("dragend",e,t(e),this.$el))}},render:function(){return this.$slots.default&&this.$slots.default[0]}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"range-slider",class:{disabled:e.disabled}},[a("drag-helper",{attrs:{disabled:e.disabled},on:{dragstart:e.dragStart,drag:e.drag,dragend:e.dragEnd}},[a("span",{ref:"inner",staticClass:"range-slider-inner"},[a("input",{staticClass:"range-slider-hidden",attrs:{type:"text",name:e.name,disabled:e.disabled},domProps:{value:e.actualValue}}),e._v(" "),a("span",{staticClass:"range-slider-rail"}),e._v(" "),a("span",{staticClass:"range-slider-fill",style:{width:e.valuePercent+"%"}}),e._v(" "),a("span",{ref:"knob",staticClass:"range-slider-knob",style:{left:e.valuePercent+"%"}},[e._t("knob")],2)])])],1)},staticRenderFns:[],props:{name:String,value:[String,Number],disabled:{type:Boolean,default:!1},min:{type:[String,Number],default:0},max:{type:[String,Number],default:100},step:{type:[String,Number],default:1}},data:function(){return{actualValue:null,dragStartValue:null}},created:function(){var e=this._min,t=this._max,a=Number(this.value);(null==this.value||isNaN(a))&&(a=e>t?e:(e+t)/2),this.actualValue=this.round(a)},computed:{_min:function(){return Number(this.min)},_max:function(){return Number(this.max)},_step:function(){return Number(this.step)},valuePercent:function(){return(this.actualValue-this._min)/(this._max-this._min)*100}},watch:{value:function(e){var t=Number(e);null==e||isNaN(t)||(this.actualValue=this.round(t))},min:function(){this.actualValue=this.round(this.actualValue)},max:function(){this.actualValue=this.round(this.actualValue)}},methods:{dragStart:function(e,t){this.dragStartValue=this.actualValue,e.target!==this.$refs.knob&&this.drag(e,t)},drag:function(e,t){var a=this.$refs.inner.offsetWidth;this.actualValue=this.round(this.valueFromBounds(t.left,a)),this.emitInput(this.actualValue)},dragEnd:function(e,t){var a=this.$refs.inner.offsetWidth;this.actualValue=this.round(this.valueFromBounds(t.left,a)),this.dragStartValue!==this.actualValue&&this.emitChange(this.actualValue)},emitInput:function(e){this.$emit("input",e)},emitChange:function(e){this.$emit("change",e)},valueFromBounds:function(e,t){return e/t*(this._max-this._min)+this._min},round:function(e){return function(e,t,a,s){if(e<=t)return t;var i=Math.floor((a-t)/s)*s+t;if(e>=i)return i;var n=(e-t)/s,r=Math.floor(n),o=n-r;return 0===o?e:o<.5?s*r+t:s*(r+1)+t}(e,this._min,this._max,this._step)}},components:{DragHelper:o}};e.exports=l},H9AV:function(e,t,a){"use strict";var s=a("Xxa5"),i=a.n(s),n=a("exGp"),r=a.n(n),o=a("pFYg"),l=a.n(o),c=a("UdET"),u=a("zqAa"),d={name:"InputSelectMultiBox",extends:c.a,props:{},data:function(){return{itemsSelected:[],items:[]}},methods:{onChange:function(){this.items&&1==this.items.length?!0===this.itemsSelected||"object"==l()(this.itemsSelected)&&this.itemsSelected.length>0?this.$emit("input",[this.items[0].id],this.id):this.$emit("input",null,this.id):this.$emit("input",this.itemsSelected,this.id),this.$emit("change",this.id)}},beforeMount:function(){var e=this;return r()(i.a.mark(function t(){var a,s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.getFormList(e.lista);case 2:a=t.sent,s=a.itens,e.items=s,e.value?e.itemsSelected=e.value:e.itemsSelected=[];case 6:case"end":return t.stop()}},t,e)}))()}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.readOnly?e.value?a("div",{staticClass:"readOnly"},[a("label",{staticClass:"orange"},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),a("span",{staticClass:"value"},e._l(e.value,function(t,s){return a("span",{key:s},[e._v("\n        "+e._s(e.items.find(function(e){return e.id==t})?e.items.find(function(e){return e.id==t}).titulo:t)+"\n      "),a("br")])}),0)]):e._e():a("div",{staticClass:"section-field",class:{"is-invalid":e.obrigatorio}},[a("label",{staticClass:"orange"},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),e._l(e.items,function(t){return a("label",{directives:[{name:"mdl",rawName:"v-mdl"}],key:t.id,staticClass:"mdl-checkbox mdl-js-checkbox ",class:[{itemsSelected:!0}],on:{change:e.onChange}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.itemsSelected,expression:"itemsSelected"}],staticClass:"mdl-checkbox__input",attrs:{type:"checkbox",id:"checkbox"+t.id},domProps:{value:t.id,checked:Array.isArray(e.itemsSelected)?e._i(e.itemsSelected,t.id)>-1:e.itemsSelected},on:{change:[function(a){var s=e.itemsSelected,i=a.target,n=!!i.checked;if(Array.isArray(s)){var r=t.id,o=e._i(s,r);i.checked?o<0&&(e.itemsSelected=s.concat([r])):o>-1&&(e.itemsSelected=s.slice(0,o).concat(s.slice(o+1)))}else e.itemsSelected=n},e.onChange]}}),e._v(" "),a("span",{staticClass:"mdl-checkbox__label"},[e._v(e._s(t.titulo))])])}),e._v(" "),e._l(e.errors,function(t,s){return a("span",{key:s,staticClass:"mdl-error",domProps:{innerHTML:e._s(t)}})})],2)])},staticRenderFns:[]};var p=a("VU/8")(d,m,!1,function(e){a("W131")},"data-v-13d7613b",null);t.a=p.exports},Ic6h:function(e,t,a){"use strict";var s=a("Xxa5"),i=a.n(s),n=a("exGp"),r=a.n(n),o=a("UdET"),l=a("zqAa"),c={name:"InputList",extends:o.a,data:function(){return{itemValue:"",itemLabel:"",options:[]}},directives:{clickOutside:{bind:function(e,t,a){e.eventSetDrag=function(){e.setAttribute("data-dragging","yes")},e.eventClearDrag=function(){e.removeAttribute("data-dragging")},e.eventOnClick=function(s){var i=e.getAttribute("data-dragging");e==s.target||e.contains(s.target)||i||a.context[t.expression](s)},document.addEventListener("touchstart",e.eventClearDrag),document.addEventListener("touchmove",e.eventSetDrag),document.addEventListener("click",e.eventOnClick),document.addEventListener("touchend",e.eventOnClick)},unbind:function(e){document.removeEventListener("touchstart",e.eventClearDrag),document.removeEventListener("touchmove",e.eventSetDrag),document.removeEventListener("click",e.eventOnClick),document.removeEventListener("touchend",e.eventOnClick),e.removeAttribute("data-dragging")}}},beforeMount:function(){var e=this;return r()(i.a.mark(function t(){var a,s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.getFormList(e.lista);case 2:a=t.sent,s=a.itens,e.options=s,e.getSelected();case 6:case"end":return t.stop()}},t,e)}))()},methods:{getSelected:function(){var e=this;if(this.value){var t=this.options.find(function(t){return t.id==e.value});this.itemLabel=t.titulo,this.itemValue=t.id,this.$emit("change",this.id)}else this.itemLabel=null,this.itemValue=null},setInput:function(){var e=this,t=this.options.find(function(t){return t.id==e.itemValue});t?(this.itemLabel=t.titulo,this.errors=[],this.$emit("input",this.itemValue,this.id),this.$emit("change",this.id),this.$forceUpdate()):(this.itemLabel=null,this.itemValue=null,this.$emit("input",this.itemValue,this.id),this.$emit("change",this.id))}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.readOnly?e.itemLabel?a("div",{staticClass:"readOnly"},[a("label",{staticClass:"orange"},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),a("span",{staticClass:"value"},[e._v("\n    "+e._s(e.itemLabel)+"\n  ")])]):e._e():a("div",[a("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-select",class:{"is-dirty":""!=e.itemValue}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.itemValue,expression:"itemValue"}],staticClass:"mdl-textfield__input",attrs:{name:"inputlist"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.itemValue=t.target.multiple?a:a[0]},function(t){return e.setInput()}]}},[a("option",{domProps:{value:null}}),e._v(" "),e._l(e.options,function(t){return a("option",{key:t.id,attrs:{"data-val":t.id},domProps:{value:t.id}},[e._v(e._s(t.titulo))])})],2),e._v(" "),a("label",{staticClass:"mdl-textfield__label",attrs:{for:"sample5"}},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])])]),e._v(" "),e._l(e.errors,function(t,s){return a("span",{key:s,staticClass:"mdl-error",domProps:{innerHTML:e._s(t)}})})],2)])},staticRenderFns:[]},d=a("VU/8")(c,u,!1,null,null,null);t.a=d.exports},JcoZ:function(e,t){},KWDe:function(e,t){},M8gs:function(e,t,a){"use strict";var s=a("Xxa5"),i=a.n(s),n=a("//Fk"),r=a.n(n),o=a("exGp"),l=a.n(o),c=a("woOf"),u=a.n(c),d=a("fZjL"),m=a.n(d),p=a("Dd8w"),h=a.n(p),v=a("gRE1"),f=a.n(v),_=a("mvHQ"),g=a.n(_),b=a("UdET"),C=a("Y9Iq"),y=a("m45e"),x=a("0xDb"),k=a("NYxO"),w=a("162o"),$=a("T75j"),V=a("T8Nv"),T={name:"InputJsonValue",extends:b.a,components:{RecursiveAccordion:C.default,InputSearch:y.a},data:function(){return{dialogOpened:!1,searchTerm:"",searching:!1,currentValue:null,tab:"",jsonPath:null,oldpreResp:null,modelo:null}},props:{mascara:{type:String,required:!1,default:""},fieldMetadados:{}},mounted:function(){this.defaultPreResp?this.oldpreResp=JSON.parse(g()(this.defaultPreResp)):this.oldpreResp=JSON.parse(f()(this.currentTask.metaDados).find(function(e){return"__pre_resp"==e.meta_key}).meta_value),this.$dialogPolyfill.doDialog("dialogJson"),this.diagnosticTree(),this.value&&"string"==typeof this.value&&""!=this.value&&(this.currentValue=JSON.parse(this.value))},beforeCreate:function(){this.$options.components.RecursiveAccordion=a("Y9Iq").default},computed:h()({},Object(k.b)({currentTask:"task/currentTask",defaultPreResp:"task/defaultPreResp"}),{preResp:function(){return this.defaultPreResp?this.defaultPreResp:JSON.parse(f()(this.currentTask.metaDados).find(function(e){return"__pre_resp"==e.meta_key}).meta_value)},labelValue:function(){return null!=this.currentValue?Object(x.c)(this.value,this.mascara):""},indexPreresp:function(){if(this.fieldMetadados){var e=f()(this.fieldMetadados).find(function(e){return"defaultPreresp"==e.meta_key});if(e)return this.preResp[e.meta_value]}return""}}),watch:{value:function(e){this.currentValue="string"==typeof e?JSON.parse(e):e},dialogOpened:function(e){var t=this;Object(w.setTimeout)(function(){try{e?t.$el.querySelector("#dialogJson").showModal():t.$el.querySelector("#dialogJson").close()}catch(a){e||t.$el.querySelector("#dialogJson").close()}},500)}},methods:{getTree:function(){return void 0===window.tree&&(window.tree={}),window.tree[this.id]},pesquisarModelo:function(e){var t=this;this.modelo=e,this.searching=!0,this.$bus.$emit("showSnackBar",{message:this.$t("Aguarde..."),duration:1e3}),this.currentValue=null;var a=f()(this.fieldMetadados).find(function(e){return"defaultPreresp"==e.meta_key});a&&(this.preResp[a.meta_value]=e);var s=JSON.parse(this.currentTask.metaDados.find(function(e){return"__appliances"==e.meta_key}).meta_value).applianceLineCode;Object(V.c)("?pullTracker[act]=whirpool_get_dados_by_modelo&modelo="+e+"&applianceLineCode="+s).then(function(e){$.a.getOne("task_download",t.currentTask.id).then(function(a){if(m()(e.data.modelos.modelos).length>0){var s={pullTracker:{act:"update_tarefa_meta"},tarefa:t.currentTask,meta:[{meta_key:"__pre_resp",meta_value:g()(t.preResp)},{meta_key:"__blockDownload",meta_value:"true"}]};Object(V.f)(s).then(function(e){}),u()(a.jsonValue.modelos.modelos,e.data.modelos.modelos),$.b.setOne("task_download",a).then(function(){t.diagnosticTree(),t.$bus.$emit("showSnackBar",{message:t.$t("Montando a nova arvore"),duration:1e3})})}else t.$bus.$emit("showSnackBar",{message:t.$t("Nenhum modelo encontrado!"),duration:1e3}),t.searching=!1})})},save:function(){this.dialogOpened=!1;var e=f()(this.fieldMetadados).find(function(e){return"defaultPreresp"==e.meta_key}),t=this.modelo;e&&(this.preResp[e.meta_value]=t,this.$emit("updatePreResp",{key:e.meta_value,modelo:t})),this.$emit("input",g()(this.currentValue),this.id);try{this.$root.dialogOpen=!1,"InputForm"!=this.$parent.$parent.$parent.$parent.$options.name&&(this.$root.cardContent=!1)}catch(e){console.log(e)}},updateValue:function(e){this.currentValue=e},cancel:function(){var e={pullTracker:{act:"update_tarefa_meta"},tarefa:this.currentTask,meta:[{meta_key:"__pre_resp",meta_value:g()(this.oldpreResp)}]};Object(V.f)(e).then(function(e){}),this.$store.dispatch("task/setCurrentTaskPreResp",{preResp:g()(this.oldpreResp)}),this.dialogOpened=!1;try{this.$root.dialogOpen=!1,"InputForm"!=this.$parent.$parent.$parent.$parent.$options.name&&(this.$root.cardContent=!1)}catch(e){console.log(e)}},showDialogJson:function(){this.searching=!1,this.dialogOpened=!0,this.$forceUpdate(),this.$el.querySelector("#dialogJson").showModal();try{this.$root.dialogOpen=!0,this.$root.cardContent=!0}catch(e){console.log(e)}},diagnosticTree:function(){var e=this;return l()(i.a.mark(function t(){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e,void 0===window.tree&&(window.tree={}),t.abrupt("return",new r.a(function(){var t=l()(i.a.mark(function t(s,n){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:$.a.getOne("task_download",a.currentTask.id).then(function(e){var t=e.jsonValue;t.defeitos&&void 0!==t.defeitos.itens&&0!=m()(t.defeitos.itens).length||a.redownloadDefects(),window.tree[a.id]={defeitos:t.defeitos,modelos:{modelos:{}},pecas:t.pecas},a.mascara?a.jsonPath=a.mascara.split("."):a.jsonPath=["modelos","material","pecas","ocorrencia","fcta"];var i=a.indexPreresp;if("fcta"==a.jsonPath[a.jsonPath.length-1])if(i)for(var n in t.modelos.modelos)t.modelos.modelos.hasOwnProperty(n)&&0==i.indexOf(n)&&(window.tree[a.id].modelos.modelos[n]=t.modelos.modelos[n]);else window.tree[a.id].modelos=t.modelos;else if("pecas"==a.jsonPath[a.jsonPath.length-1])if(i)for(var r in t.modelos.modelos)t.modelos.modelos.hasOwnProperty(r)&&0==i.indexOf(r)&&(window.tree[a.id].modelos.modelos[r]=t.modelos.modelos[r]);else window.tree[a.id].modelos=t.modelos;else if("material"==a.jsonPath[a.jsonPath.length-1]){for(var o in t.modelos.modelos)if(t.modelos.modelos.hasOwnProperty(o))for(var l in t.modelos.modelos[o].material)t.modelos.modelos[o].material.hasOwnProperty(l)&&(t.modelos.modelos[o].material[l].pecas=null);window.tree[a.id].modelos=t.modelos,t=null}a.tab=a.jsonPath[0],a.searching=!1,s()}).catch(function(e){e.data;Object(w.setTimeout)(function(){a.diagnosticTree()},1e3)});case 1:case"end":return e.stop()}},t,e)}));return function(e,a){return t.apply(this,arguments)}}()));case 3:case"end":return t.stop()}},t,e)}))()},isVisible:function(e){return""==this.searchTerm||Object(x.d)("%"+this.searchTerm.toUpperCase()+"%",e.toUpperCase())},isTabPath:function(e){try{return this.jsonPath[0]==e}catch(e){return!0}},corrigeTituloPagina:function(e){switch(e){case"pecas":return"peças";default:return e}},redownloadDefects:function(){var e=this;return l()(i.a.mark(function t(){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((a=e).searching){t.next=4;break}return a.searching=!0,t.abrupt("return",new r.a(function(t,s){var n,r=a.currentTask.metaDados.filter(function(e){return"__download"==e.meta_key})[0];$.a.getOne("task_download",a.currentTask.id).then((n=l()(i.a.mark(function s(n){return i.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:Object(V.c)(r.meta_value).then(function(){var s=l()(i.a.mark(function s(r){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.data&&n?(n.jsonValue.defeitos=r.data.defeitos,n.defeitos=r.data.defeitos,n.defeitos&&void 0!==n.defeitos.itens&&m()(n.defeitos.itens).length>0?$.b.setOne("task_download",n).then(function(){a.diagnosticTree().then(function(){t(),a.searching=!1})}):(a.searching=!1,t())):(a.searching=!1,t());case 1:case"end":return e.stop()}},s,e)}));return function(e){return s.apply(this,arguments)}}());case 1:case"end":return s.stop()}},s,e)})),function(e){return n.apply(this,arguments)}))}));case 4:case"end":return t.stop()}},t,e)}))()}},beforeDestroy:function(){window.tree[this.id]=null,this.$refs&&(this.$refs.recursiveAccordion&&this.$refs.recursiveAccordion.forEach(function(e){try{e.$forceUpdate(),e.$destroy(),e=null}catch(e){}}),this.$refs.inputRadioButton&&(this.$refs.inputRadioButton.$destroy(),this.$refs.inputRadioButton=null),this.$refs.InputSearch&&(this.$refs.InputSearch.$destroy(),this.$refs.InputSearch=null),this.$refs.dialogJson&&(this.$refs.dialogJson.remove(),this.$refs.dialogJson=null))}},S={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.readOnly?a("div",{staticClass:"readOnly"},[a("label",{staticClass:"orange"},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),a("span",{staticClass:"value",domProps:{innerHTML:e._s(e.labelValue)}},[e._v("\n        "+e._s(e.labelValue)+"\n      ")])]):a("div",{staticClass:"section"},[a("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-textfield mdl-js-textfield jsonValueInput",class:[{"is-dirty":e.currentValue}],on:{click:e.showDialogJson}},[this.value?a("textarea",{staticClass:"mdl-textfield__input",attrs:{type:"text",readOnly:"",id:e.id},domProps:{value:e.labelValue}}):a("input",{staticClass:"mdl-textfield__input",attrs:{type:"text",readOnly:"",id:e.id},domProps:{value:e.labelValue}}),e._v(" "),a("label",{staticClass:"mdl-textfield__label",attrs:{mdl:"",for:e.id}},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])])]),e._v(" "),a("dialog",{directives:[{name:"show",rawName:"v-show",value:e.dialogOpened,expression:"dialogOpened"}],ref:"dialogJson",staticClass:"mdl-dialog full",attrs:{id:"dialogJson"}},[a("div",{staticClass:"mdl-layout mdl-js-layout mdl-layout--fixed-header"},[a("header",{staticClass:"mdl-layout__header"},[a("div",{staticClass:"mdl-layout__header-row"},[a("div",{staticClass:"flex-start"},[a("button",{staticClass:"mdl-button mld-button-icon-text button-back",on:{click:e.cancel}},[a("i",{staticClass:"material-icons"},[e._v("keyboard_arrow_left")]),e._v("\n                    "+e._s(e.$t("Voltar"))+"\n                  ")])]),e._v(" "),a("h5",{staticClass:"pageTitle",domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("div",{staticClass:"flex-end"},[null!=e.currentValue?a("button",{staticClass:"mdl-button mld-button-icon-text mapa",on:{click:e.save}},[e._v("\n                    "+e._s(e.$t("OK"))+"\n                  ")]):e._e()])])]),e._v(" "),a("main",{staticClass:"mdl-layout__content"},[a("div",{staticClass:"page-content"},[a("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-tabs mdl-js-tabs"},[a("div",{staticClass:"mdl-tabs__tab-bar"},[e._l(e.getTree(),function(t,s){return[e.isTabPath(s)?a("span",{key:s,staticClass:"mdl-tabs__tab",class:e.tab==s?"is-active":"",on:{click:function(t){e.tab=s}}},[e._v(e._s(e.$t(s)))]):e._e()]})],2),e._v(" "),e._l(e.getTree(),function(t,s){return a("div",{key:s,staticClass:"mdl-tabs__panel",class:{"is-active":e.tab==s},attrs:{id:s}},[e._l(t,function(i,n){return a("span",{key:n},[e.isVisible(n)?a("div",{staticClass:"mdl-card firstNivel"},[a("RecursiveAccordion",{ref:"recursiveAccordion",refInFor:!0,attrs:{node:i,index:n,treePath:s,indexAbove:s,itemAbove:t,value:e.currentValue,jsonPath:e.jsonPath,searching:e.searching,metadados:e.fieldMetadados,preResp:e.preResp,question:e.id},on:{input:e.updateValue,pesquisarModelo:e.pesquisarModelo,redownloadDefects:e.redownloadDefects}})],1):e._e()])}),e._v(" "),0==t.length?a("div",{staticClass:"jsonValueNotFound"},[e._v("\n                        "+e._s(e.$t("Nenhum registro encontrado!"))+"\n                    ")]):e._e()],2)})],2)])])])]),e._v(" "),e._l(e.errors,function(t,s){return a("span",{key:s,staticClass:"mdl-error",domProps:{innerHTML:e._s(t)}})})],2)])},staticRenderFns:[]};var O=a("VU/8")(T,S,!1,function(e){a("0NOe")},"data-v-46696b1d",null);t.a=O.exports},MYjn:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAQAAABLCVATAAAA7klEQVR4Ae3MLQxBUQBH8WNmNpsgKookaZJeRFVVVVFVVVUV9aJJkqQoomCzmZk/wezuue+9+xH5nX74bb1XxCuxf1Ui2hghxkSqc0GIC3WiLNC7BRE6yKhDoAJbZLSlQJAhSjQkQJUTSnSiircZsjTDU4s7snSnhZc1SmmNhz4yApBRH0dlDpmjA2WcTFDmSExw0OCaO7rSINcS5Y7Ekhxd5DQSXTIU2TmPdhRJNUIejUhR44w8OlPDao48m2PR5oGsAcjagzZfNsh7JDYkDFBgAwwVjiiwIxU+piiiKW9NbiiiG00AWKHIVjj4ewJbP9k2XygmyQAAAABJRU5ErkJggg=="},OZIn:function(e,t,a){"use strict";var s=a("Xxa5"),i=a.n(s),n=a("exGp"),r=a.n(n),o=a("T75j");t.a={synchronization:function(e,t){var a=this;return r()(i.a.mark(function s(){return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o.b.setOne("user",e.user),a.next=3,t.$store.dispatch("user/updateUser",{user:e.user});case 3:case"end":return a.stop()}},s,a)}))()}}},PqRL:function(e,t,a){"use strict";var s=a("mvHQ"),i=a.n(s),n=a("//Fk"),r=a.n(n),o=a("Xxa5"),l=a.n(o),c=a("exGp"),u=a.n(c),d=a("Dd8w"),m=a.n(d),p=a("T8Nv"),h=a("NYxO"),v=a("IcnI"),f=a("4YyR"),_=a("OZIn"),g=a("JjHe"),b=a("2hzV"),C=a("PJh5"),y=a.n(C);t.a={data:function(){return{currentIntervalTasks:null,timeoutTasks:2e4,tarefas:[]}},computed:m()({},Object(h.b)({currentTask:"task/currentTask",token:"user/token",user:"user/user"})),mounted:function(){var e=this;return u()(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.deleteOldTasks(),e.tarefas=v.a.getters["task/tasks"],e.listenTarefas(),null==e.token||""==e.token){t.next=7;break}return t.next=6,e.makeTasksSync().catch(function(e){console.log(e.msg)});case 6:e.initIntervalSyncTasks(e);case 7:case"end":return t.stop()}},t,e)}))()},methods:{deleteOldTasks:function(){var e=this;this.$bus.$off("delete-old-tasks"),this.$bus.$on("delete-old-tasks",function(){e.makeOldTasks().catch(function(e){})})},listenTarefas:function(){var e=this,t=this;this.$bus.$off("tasks-sync"),this.$bus.$on("tasks-sync",function(a){null!=e.currentIntervalTasks&&(clearInterval(e.currentIntervalTasks),e.currentIntervalTasks=null),1==a&&(e.makeTasksSync().finally(function(e){t.$el.querySelector("#tentar_novamente")&&(t.$el.querySelector("#tentar_novamente").innerHTML="Tentar novamente",t.$el.querySelector("#tentar_novamente").disabled=!1)}),e.initIntervalSyncTasks(t))})},initIntervalSyncTasks:function(e){this.currentIntervalTasks=setInterval(function(){e.makeTasksSync()},e.timeoutTasks)},makeTasksSync:function(e){var t,a=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e||this,c=v.a.getters["synchronizationTasks/inSync"],d=new Date,m=y()(d).subtract(5,"minutes");if(c&&y()(c).isAfter(m)&&0==n)return new r.a((t=u()(l.a.mark(function e(t,s){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s("inSync");case 2:case"end":return e.stop()}},e,a)})),function(e,a){return t.apply(this,arguments)}));if(v.a.dispatch("synchronizationTasks/startSync"),s){var h={message:o.$t("Sincronizando dados"),duration:1e4};o.$bus.$emit("showSnackBar",h)}return this.verifyDiskSpace(),new r.a(function(e,t){return new r.a(function(e,t){if(o.token)if(v.a.getters["user/user"])Object(f.f)("tarefas").then(function(s){var n=i()(s);Object(g.a)().then(function(s){var r=v.a.getters["user/user"].id,l=v.a.getters["task/viewDate"];o.user&&o.user.id&&(r=o.user.id);var c={tarefa_log:i()(s),relacaoTarefaVersao:n,pullTracker:{id:r,act:"sincronizarTarefas",status:"ok",data:o.$options.filters.formatDate(l)},user:o.user.id,bateria:v.a.getters["batteryStatus/level"]||"100"};Object(b.b)().then(function(e){for(var t=0;t<e.length;t++)Object(b.a)(e[t])}),Object(p.d)(c).then(function(s){a.verifyDiskSpace(),s&&(_.a.synchronization(s,o),Object(f.k)(s.tarefas,o).then(function(){Object(g.d)(s.tarefas_log).then(function(){try{v.a.dispatch("task/getTasks",{}),Object(f.l)(v.a.getters["task/tasks"].all),e(s)}catch(e){console.log(e),t(e)}}).catch(function(e){var a=e.data;t(a)})}).catch(function(e){var a=e.data;t(a)}))}).catch(function(e){var a=e.data;if(console.log("sincronizarTodasAsTarefas","jwt_invalido"),!e.jwt_auth&&e.jwt_auth_error){v.a.dispatch("user/logout"),o.$geolocation.stopBackground(),o.$router.push("/login"),o.bgGeo&&o.bgGeo.stop();var s=e.jwt_auth_error;t(s)}else{var i=a.mensagem||a.error;t(i)}})})});else{t("Nothing to do")}else{var s={msg:o.$t("Token não preenchido!")};console.log("Token não preenchido!"),t(s)}}).finally(function(){v.a.dispatch("synchronizationTasks/finishSync"),o.$bus.$emit("tasks-sync-finish",!0),o.$bus._events["tasks-syncAll-finish"]&&o.$bus.$emit("tasks-syncAll-finish",!0),e()})})},verifyDiskSpace:function(){window.cordova.exec&&window.cordova.exec(function(e){e/1024<138?this.$bus.$emit("showSpaceMessageEmitted",{open:!0}):this.$bus.$emit("showSpaceMessageEmitted",{open:!1})}.bind(this),function(e){console.log("Error on verify disk size: "+e)},"File","getFreeDiskSpace",[])},makeOldTasks:function(e){var t,a=this,s=e||this;return new r.a((t=u()(l.a.mark(function e(t,i){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s.token?v.a.getters["user/user"]&&Object(f.e)("tarefas").then(function(){var e=u()(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}()):(n={msg:s.$t("Token não preenchido!")},console.log("Token não preenchido!"),i(n));case 1:case"end":return e.stop()}},e,a)})),function(e,a){return t.apply(this,arguments)}))}}}},"Q+0R":function(e,t,a){"use strict";var s=a("Xxa5"),i=a.n(s),n=a("exGp"),r=a.n(n),o=a("//Fk"),l=a.n(o),c=a("Dd8w"),u=a.n(c),d=a("7K8a");function m(e){var t,a=this;return new l.a((t=r()(i.a.mark(function t(s,n){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.b.post("/?solicitarAprovacaoRotaBloqueada",e).then(function(e){var t=e.data;s(t)}).catch(function(e){var t={data:{success:!1,error:e.message}};n(t)});case 2:case"end":return t.stop()}},t,a)})),function(e,a){return t.apply(this,arguments)}))}var p=a("NYxO"),h=a("OZIn");t.a={data:function(){return{currentIntervalTasks:null,timeout:15e3,token:null,tarefas:[]}},computed:u()({},Object(p.b)({user:"user/user"})),mounted:function(){this.token=this.$store.getters["user/token"]||window.localStorage.getItem("token")},methods:{requestAproveRoute:function(e){var t,a=this;if(e){var s={message:e.$t("Sincronizando dados"),duration:4e3};e.$bus.$emit("showSnackBar",s)}return new l.a((t=r()(i.a.mark(function t(s,n){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$bus.$on("tasks-sync-finish",r()(i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$bus.$off("tasks-sync-finish"),r={pullTracker:{act:"solicitarAprovacaoRotaBloqueada"}},t.next=4,m(r).then(function(t){t?(h.a.synchronization(t,e),e.$bus.$emit("auth-user",!0),s(t)):n(t)}).catch(function(e){var t=e.data,a=t.mensagem||t.error;console.log(a),n(a)});case 4:case"end":return t.stop()}},t,a)}))),e.$bus.$emit("tasks-sync",!0);case 2:case"end":return t.stop()}},t,a)})),function(e,a){return t.apply(this,arguments)}))}}}},Q2ZQ:function(e,t,a){"use strict";var s={name:"InputStars",extends:a("UdET").a,data:function(){return{currentValue:0}},beforeMount:function(){this.$emit("change",this.id)},mounted:function(){this.$dialogPolyfill.doDialog("confirmStars")},methods:{setItemValue:function(){this.$emit("input",this.currentValue,this.id),this.$emit("change",this.id),this.$el.querySelector("#confirmStars").close(),this.$root.cardContent=!1,this.$forceUpdate(),this.updateDom()},cancelarNota:function(){this.currentValue=0,this.$el.querySelector("#confirmStars").close(),this.$root.cardContent=!1,this.$forceUpdate(),this.updateDom()},confirm:function(e){this.$root.cardContent=!0,this.currentValue=e,this.$el.querySelector("#confirmStars").showModal()},updateDom:function(){setTimeout(function(){document.querySelector("#card-content").style.height="inherit"},1e3)}},beforeDestroy:function(){this.$root.cardContent=!1}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.readOnly||e.value?e.value&&!this.$parent.$parent.$parent.readOnly>0?a("div",{staticClass:"readOnly section-stars"},[a("span",{staticClass:"value"},[a("center",[e._v(e._s(e.$t("Avaliação registrada com sucesso, muito obrigado!")))])],1)]):a("div",{staticClass:"readOnly section-stars"},[a("label",{staticClass:"orange"},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),a("span",{staticClass:"value"},[e._v("\n      "+e._s(e.$t("Este campo não pode ser lido no App"))+"\n    ")])]):a("div",{staticClass:"section-stars"},[a("label",{staticClass:"orange"},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),a("div",{staticClass:"inputstars"},e._l(5,function(t,s){return a("button",{key:s,staticClass:"mdl-button mdl-button--icon mdl-button--colored",on:{click:function(t){return e.confirm(s+1)}}},[a("i",{staticClass:"material-icons"},[s<e.currentValue?[e._v("\n            star\n          ")]:[e._v("\n           star_border\n          ")]],2)])}),0),e._v(" "),e._l(e.errors,function(t,s){return a("span",{key:s,staticClass:"mdl-error",domProps:{innerHTML:e._s(t)}})})],2),e._v(" "),a("dialog",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"conf mdl-dialog",attrs:{id:"confirmStars"}},[a("h6",{staticClass:"mdl-dialog__title"},[e._v(e._s(e.$t("Confirmação do cliente")))]),e._v(" "),a("div",{staticClass:"mdl-dialog__content"},[a("p",[a("span",[e._v(e._s(e.$t("Gostaria de confirmar a nota de "))+e._s(this.currentValue)+" "),a("i",{staticClass:"material-icons orange text-base-line"},[e._v("star")]),e._v(e._s(e.$t(" para o atendimento do técnico?")))])])]),e._v(" "),a("div",{staticClass:"mdl-dialog__actions"},[a("button",{staticClass:"mdl-button orange",attrs:{type:"button"},on:{click:function(t){return e.setItemValue()}}},[e._v("\n        "+e._s(e.$t("OK"))+"\n      ")]),e._v(" "),a("button",{staticClass:"mdl-button grey close",attrs:{type:"button"},on:{click:function(t){return e.cancelarNota()}}},[e._v("\n        "+e._s(e.$t("Cancelar"))+"\n      ")])])])])},staticRenderFns:[]};var n=a("VU/8")(s,i,!1,function(e){a("3IxF")},"data-v-4188547f",null);t.a=n.exports},R4BC:function(e,t,a){"use strict";var s=a("Xxa5"),i=a.n(s),n=a("exGp"),r=a.n(n),o=a("T75j");t.a={synchronization:function(e,t){var a=this;return r()(i.a.mark(function t(){var s,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=i.a.keys(e.formWizards);case 1:if((t.t1=t.t0()).done){t.next=9;break}if(s=t.t1.value,!e.formWizards.hasOwnProperty(s)){t.next=7;break}return n=e.formWizards[s],t.next=7,a.insertFormWizard(n);case 7:t.next=1;break;case 9:case"end":return t.stop()}},t,a)}))()},insertFormWizard:function(e){var t=this;return r()(i.a.mark(function a(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.setOne("form_wizard",e);case 2:case"end":return t.stop()}},a,t)}))()},getOneFormWizardById:function(e){var t=this;return r()(i.a.mark(function a(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.a.getOne("form_wizard",e));case 1:case"end":return t.stop()}},a,t)}))()}}},RzjH:function(e,t,a){"use strict";var s={name:"Separador",extends:a("UdET").a,data:function(){return{}}},i={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"separador"},[this._v("\n  "+this._s(this.texto)+"\n")])},staticRenderFns:[]},n=a("VU/8")(s,i,!1,null,null,null);t.a=n.exports},SBDe:function(e,t,a){"use strict";var s=a("Xxa5"),i=a.n(s),n=a("exGp"),r=a.n(n),o=a("T75j"),l=a("IcnI");t.a={synchronization:function(e,t){var a=this;return r()(i.a.mark(function t(){var s,n,r,l,c,u;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=i.a.keys(e.formularios);case 1:if((t.t1=t.t0()).done){t.next=9;break}if(s=t.t1.value,!e.formularios.hasOwnProperty(s)){t.next=7;break}return n=e.formularios[s],t.next=7,a.insertForm(n);case 7:t.next=1;break;case 9:t.t2=i.a.keys(e.categorias);case 10:if((t.t3=t.t2()).done){t.next=18;break}if(r=t.t3.value,!e.categorias.hasOwnProperty(r)){t.next=16;break}return l=e.categorias[r],t.next=16,o.b.setOne("form_categorias",l);case 16:t.next=10;break;case 18:t.t4=i.a.keys(e.formMetaCategoria);case 19:if((t.t5=t.t4()).done){t.next=27;break}if(c=t.t5.value,!e.formMetaCategoria.hasOwnProperty(c)){t.next=25;break}return u=e.formMetaCategoria[c],t.next=25,o.b.setOne("form_meta_categorias",u);case 25:t.next=19;break;case 27:case"end":return t.stop()}},t,a)}))()},insertForm:function(e){var t=this;return r()(i.a.mark(function a(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.setOne("formulario",e);case 2:return t.next=4,l.a.dispatch("form/putForm",{form:e});case 4:case"end":return t.stop()}},a,t)}))()},getOneFormById:function(e){return o.a.getOne("formulario",e)},getAllForms:function(){return o.a.getAll("formulario")}}},SGZ6:function(e,t,a){"use strict";var s={name:"InputAccordingText",extends:a("UdET").a,data:function(){return{textAreaValue:"",state:"",classColor:"",md_icon:"",label:""}},mounted:function(){this.value?this.verifyStates(this.value):this.verifyStates(this.padrao)},watch:{value:function(e){this.textAreaValue=e}},computed:{tabs:function(){var e=[this.$t("Conforme"),this.$t("Não Conforme"),this.$t("Não se Aplica")];try{var t=JSON.parse(this.mascara);void 0!==t.labels&&(e=t.labels)}catch(t){return e}return e},padrao:function(){var e="";try{e=JSON.parse(this.mascara).padrao}catch(t){e=""}return e}},methods:{setState:function(e){this.state=e,"naoConforme"!=e?this.$emit("input",e,this.id):this.$emit("input","",this.id)},onKeyUpInput:function(){this.$emit("input",this.textAreaValue,this.id)},verifyStates:function(e){switch(e){case"conforme":this.state="conforme",this.classColor="green",this.md_icon="check_circle_outline",this.label=this.tabs[0];break;case"nAplica":this.state="nAplica",this.classColor="orange",this.md_icon="more_horiz",this.label=this.tabs[2];break;case"naoConforme":this.state="naoConforme",this.classColor="red",this.md_icon="cancel",this.label=this.tabs[1]}}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.readOnly?a("div",{staticClass:"readOnly"},[a("label",[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),a("div",{staticClass:"labelvalue"},[a("i",{staticClass:"material-icons",class:e.md_icon},[e._v(e._s(e.md_icon))]),e._v(e._s(e.label)+"\r\n      ")]),e._v(" "),"conforme"!=e.state&&"nAplica"!=e.state?a("span",{staticClass:"value"},[e._v("\r\n        "+e._s(e.value)+"\r\n      ")]):e._e()]):a("div",{staticClass:"section-conforme"},[a("label",{staticClass:"orange"},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),a("div",{staticClass:"mdl-tabs mdl-js-tabs "},[a("div",{staticClass:"mdl-tabs__tab-bar"},[a("span",{staticClass:"mdl-tabs__tab check_circle_outline",class:{active:"conforme"==e.state},attrs:{href:"//"},on:{click:function(t){return e.setState("conforme")}}},[a("i",{staticClass:"material-icons"},[e._v("check_circle_outline")]),a("span",{staticClass:"label",domProps:{innerHTML:e._s(e.tabs[0])}})]),e._v(" "),a("span",{staticClass:"mdl-tabs__tab cancel",class:{active:"naoConforme"==e.state},attrs:{href:"//"},on:{click:function(t){return e.setState("naoConforme")}}},[a("i",{staticClass:"material-icons"},[e._v("cancel")]),a("span",{staticClass:"label",domProps:{innerHTML:e._s(e.tabs[1])}})]),e._v(" "),a("span",{staticClass:"mdl-tabs__tab more_horiz",class:{active:"nAplica"==e.state},attrs:{href:"//"},on:{click:function(t){return e.setState("nAplica")}}},[a("i",{staticClass:"material-icons"},[e._v("more_horiz")]),a("span",{staticClass:"label",domProps:{innerHTML:e._s(e.tabs[2])}})])])]),e._v(" "),e._l(e.errors,function(t,s){return a("span",{key:s,staticClass:"mdl-error",domProps:{innerHTML:e._s(t)}})}),e._v(" "),a("div",{directives:[{name:"mdl",rawName:"v-mdl"},{name:"show",rawName:"v-show",value:"naoConforme"==e.state,expression:"state == 'naoConforme'"}],staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.textAreaValue,expression:"textAreaValue"}],staticClass:"mdl-textfield__input mdl-textfield",attrs:{rows:"3",title:""},domProps:{value:e.textAreaValue},on:{keyup:e.onKeyUpInput,input:function(t){t.target.composing||(e.textAreaValue=t.target.value)}}}),e._v(" "),a("label",{staticClass:"mdl-textfield__label",attrs:{for:e.id},domProps:{innerHTML:e._s(e.$t("Justificar")+" "+e.tabs[1])}})])],2)])},staticRenderFns:[]};var n=a("VU/8")(s,i,!1,function(e){a("D9bi")},null,null);t.a=n.exports},UdET:function(e,t,a){"use strict";var s={props:{id:{required:!0},formulario:{required:!0},ordem:{required:!0},mascara:{required:!1,default:""},texto:{required:!0},tipo:{required:!0},lista:{required:!1,default:""},default:{required:!1,default:""},obrigatorio:{required:!1,default:""},originalForm:{required:!1,destaque:"0",default:"0"},destaque:{required:!1,default:"0"},condicional:{required:!1,default:!1},value:{required:!0},readOnly:{required:!1,default:!1},blocked:{type:Boolean,required:!1,default:!1},messageError:{required:!1,default:""}},data:function(){return{errors:[],hasErrors:!1}},created:function(){this.hasErrors=!1},methods:{getValue:function(){},isValid:function(){return this.errors=[],this.hasErrors=!1,!("1"==this.obrigatorio&&!this.value)||(this.errors.push(this.$t("Este field é obrigatório")),this.hasErrors=!0,!1)}},updated:function(){window.checkDirty()},computed:{},render:function(e){return""}},i=a("VU/8")(s,null,!1,null,null,null);t.a=i.exports},V25Q:function(e,t,a){"use strict";var s={name:"InputAccordingSimple",extends:a("UdET").a,data:function(){return{state:"",classColor:"",md_icon:"",label:""}},mounted:function(){this.value?this.verifyStates(this.value):(this.verifyStates(this.padrao),this.$emit("input",this.state,this.id))},computed:{tabs:function(){var e=[this.$t("Conforme"),this.$t("Não Conforme"),this.$t("Não se Aplica")];try{var t=JSON.parse(this.mascara);void 0!==t.labels&&(e=t.labels)}catch(t){return e}return e},padrao:function(){var e="";try{e=JSON.parse(this.mascara).padrao}catch(t){e=""}return e}},methods:{setState:function(e){this.state=e,this.$emit("input",e,this.id)},verifyStates:function(e){switch(e){case"conforme":this.state="conforme",this.classColor="green",this.md_icon="check_circle_outline",this.label=this.tabs[0];break;case"naoConforme":this.state="naoConforme",this.classColor="red",this.md_icon="cancel",this.label=this.tabs[2];break;case"nAplica":this.state="nAplica",this.classColor="orange",this.md_icon="more_horiz",this.label=this.tabs[1];break;default:this.classColor="grey",this.md_icon=""}}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.readOnly?a("div",{staticClass:"readOnly"},[a("label",[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),a("div",{staticClass:"labelvalue"},[a("i",{staticClass:"material-icons",class:[e.classColor,e.md_icon]},[e._v(e._s(e.md_icon))]),e._v(" "),"conforme"==e.value?a("span",{domProps:{innerHTML:e._s(e.tabs[0])}}):e._e(),e._v(" "),"naoConforme"==e.value?a("span",{domProps:{innerHTML:e._s(e.tabs[1])}}):e._e(),e._v(" "),"nAplica"==e.value?a("span",{domProps:{innerHTML:e._s(e.tabs[2])}}):e._e()])]):a("div",{staticClass:"section-conforme"},[a("label",{staticClass:"orange"},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),a("div",{staticClass:"mdl-tabs mdl-js-tabs "},[a("div",{staticClass:"mdl-tabs__tab-bar"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.tabs[0],expression:"tabs[0]"}],staticClass:"mdl-tabs__tab check_circle_outline",class:{active:"conforme"==e.state},attrs:{href:"//"},on:{click:function(t){return e.setState("conforme")}}},[a("i",{staticClass:"material-icons"},[e._v("check_circle_outline")]),a("span",{staticClass:"label",domProps:{innerHTML:e._s(e.tabs[0])}})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.tabs[1],expression:"tabs[1]"}],staticClass:"mdl-tabs__tab cancel",class:{active:"naoConforme"==e.state},attrs:{href:"//"},on:{click:function(t){return e.setState("naoConforme")}}},[a("i",{staticClass:"material-icons"},[e._v("cancel")]),a("span",{staticClass:"label",domProps:{innerHTML:e._s(e.tabs[1])}})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.tabs[2],expression:"tabs[2]"}],staticClass:"mdl-tabs__tab more_horiz",class:{active:"nAplica"==e.state},attrs:{href:"//"},on:{click:function(t){return e.setState("nAplica")}}},[a("i",{staticClass:"material-icons"},[e._v("more_horiz")]),a("span",{staticClass:"label",domProps:{innerHTML:e._s(e.tabs[2])}})])])]),e._v(" "),e._l(e.errors,function(t,s){return a("span",{key:s,staticClass:"mdl-error",domProps:{innerHTML:e._s(t)}})})],2)])},staticRenderFns:[]},n=a("VU/8")(s,i,!1,null,null,null);t.a=n.exports},VyNh:function(e,t){},W131:function(e,t){},Wos8:function(e,t){},Y9Iq:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Dd8w"),i=a.n(s),n=a("fZjL"),r=a.n(n),o=a("pFYg"),l=a.n(o),c=a("gRE1"),u=a.n(c),d=a("0xDb"),m={name:"InputRadioButton",props:{model:{type:Object,required:!0},searchTerm:{type:String,required:!1,default:""},value:{required:!1},depth:{type:Number,required:!1},treePath:{type:String},itemAbove:{type:Object},selectedValue:{type:Object},question:{required:!0}},data:function(){return{currentValue:null}},watch:{value:function(e){this.currentValue=e||null}},computed:{getModelFromTree:function(){return this.treePath.split(".")[0]}},methods:{save:function(e,t){this.$emit("input",{value:e,descricao:t})},isVisible:function(e){var t="";for(var a in e)"string"==typeof e[a]&&(t+=e[a].replace(/\s\s+/g," ")+" ");return""==this.searchTerm||Object(d.d)("%"+this.searchTerm.toUpperCase()+"%",t.toUpperCase())},isChecked:function(e){var t=this.value;if(t&&""!=t&&t.value)for(var a=0;a<=this.depth&&void 0!=t;a++){if(t.value==e)return!0;t=t.value}return!1},isCheckedTree:function(e){var t=this.treePath.split("."),a=!1;if(null!=this.selectedValue)for(var s=this.selectedValue,i=1;i<=this.depth&&void 0!=s;i++){if(s.value==e){a=!0;break}"object"==(void 0===s?"undefined":l()(s))&&s.name==t[i]&&(s=s.value)}return Array.prototype.forEach.call(document.getElementsByClassName("mdl-radio__button"),function(e){e.checked?e.parentNode.classList.add("is-checked"):e.parentNode.classList.remove("is-checked")}),a}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"radioFctaGroup"},e._l(e.model.item,function(t,s){return a("div",{key:s},[e.isVisible(t)?a("div",{staticClass:"radioFcta"},[t.material?a("span",[a("label",{staticClass:"mdl-radio mdl-js-radio mdl-radio-no-mdl radio-big",attrs:{for:"option-"+s+"-"+e.question}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"mdl-radio__button",attrs:{type:"radio",id:"option-"+s+"-"+e.question,name:"options"},domProps:{value:t.material,checked:e.isChecked(t.material),checked:e._q(e.currentValue,t.material)},on:{change:[function(a){e.currentValue=t.material},function(a){return e.save(t.material,t.material)}]}}),e._v(" "),e._m(0,!0),e._v(" "),a("span",{staticClass:"mdl-radio__label"},[a("b",[e._v(e._s(t.material))]),a("br"),e._v("\n            "+e._s(t.descricao)+"\n          ")])])]):t.peca?a("span",[a("label",{staticClass:"mdl-radio mdl-radio-no-mdl mdl-js-radio radio-big",attrs:{for:"option-"+s+"-"+e.question}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"mdl-radio__button",attrs:{type:"radio",id:"option-"+s+"-"+e.question,name:"options"},domProps:{value:t.peca,checked:e.isChecked(t.peca),checked:e._q(e.currentValue,t.peca)},on:{change:[function(a){e.currentValue=t.peca},function(a){return e.save(t.peca,t.nomePeca)}]}}),e._v(" "),e._m(1,!0),e._v(" "),a("span",{staticClass:"mdl-radio__label"},[a("b",[e._v(e._s(t.peca))]),a("br"),e._v("\n            "+e._s(t.nomePeca)+"\n          ")])])]):t.defeito?a("span",[a("label",{staticClass:"mdl-radio mdl-radio-no-mdl mdl-js-radio radio-big",attrs:{for:"option-"+s+"-"+e.question}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"mdl-radio__button",attrs:{type:"radio",id:"option-"+s+"-"+e.question,name:"options"},domProps:{value:t.defeito,checked:e.isChecked(t.defeito),checked:e._q(e.currentValue,t.defeito)},on:{change:[function(a){e.currentValue=t.defeito},function(a){return e.save(t.defeito,t.nome)}]}}),e._v(" "),e._m(2,!0),e._v(" "),a("span",{staticClass:"mdl-radio__label"},[e._v("\n            "+e._s(t.nome)+"\n            "),"X"==t.obrigPeca?a("small",[a("br"),a("b",[e._v(e._s(e.$t("Peça obrigatória")))])]):e._e()])])]):t.descricao?a("span",[a("label",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-radio mdl-js-radio radio-big",attrs:{for:e.treePath+"."+t.fcta}},[a("input",{staticClass:"mdl-radio__button",attrs:{type:"radio",id:e.treePath+"."+t.fcta,name:e.getModelFromTree},domProps:{value:t.fcta,checked:e.isCheckedTree(t.fcta)},on:{change:function(a){return e.save(t.fcta,t.descricao)}}}),e._v(" "),a("span",{staticClass:"mdl-radio__label"},[e._v("\n          "+e._s(t.descricao)+" "),t.partWarranty?a("b",[a("br"),a("small",[e._v(e._s(t.partWarranty))])]):e._e()])])]):e._e()]):e._e()])}),0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"radio__outer-circle"},[t("span",{staticClass:"radio__inner-circle"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"radio__outer-circle"},[t("span",{staticClass:"radio__inner-circle"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"radio__outer-circle"},[t("span",{staticClass:"radio__inner-circle"})])}]},h=a("VU/8")(m,p,!1,null,null,null).exports,v=a("m45e"),f=a("162o"),_=a("NYxO"),g={components:{InputRadioButton:h,InputSearch:v.a},name:"RecursiveAccordion",data:function(){return{item:{name:"",descricao:"",childrenCount:0,childrenArr:[],childrenDesc:"",autocomplete:{name:"autocomplete",title:"",id:"",value:null,vars:{items:[]}}},search:"",isOpenClick:!1,children:!1,mountForm:!0,searchTerm:"",selectValue:""}},props:{node:{required:!0},depth:{required:!1,type:Number,default:1},index:{required:!0,type:String},itemAbove:{type:Object,required:!0},indexAbove:{required:!0,type:String},treePath:{required:!0,type:String},value:{default:""},jsonPath:{default:function(){return["modelos","material","pecas","ocorrencia","fcta"]}},metadados:{default:function(){return{}}},searching:{default:!1},question:{required:!0}},beforeMount:function(){this.clear(),"material"!=this.index&&"modelos"!=this.index||(this.searchTerm=this.defaultSearchTerm(),this.$forceUpdate())},methods:{defaultSearchTerm:function(){if(this.metadados){var e=u()(this.metadados).find(function(e){return"defaultPreresp"==e.meta_key});if(e){var t=this.preResp[e.meta_value];switch(this.index){case"modelos":for(var a in this.node)if(this.node.hasOwnProperty(a)&&t&&0==t.indexOf(a))return a;return t;case"material":return t}}}return""},pesquisar:function(){"defeitos"==this.indexAbove?this.$emit("redownloadDefects"):this.$emit("pesquisarModelo",this.searchTerm),this.clear()},filtrar:function(e){console.log(e),this.searchTerm=e},clear:function(){this.item.name=this.index,this.item.autocomplete.title=this.index,this.item.autocomplete.vars.items=[],this.getNodeChildrenArr(),this.isOpenClick=!1},getNodeChildrenArr:function(){for(var e in this.node)"object"==l()(this.node[e])?(this.mountForm=!1,this.children=!0,this.item.childrenArr.push(this.node[e]),this.item.childrenCount=this.item.childrenCount+1):this.$t(this.node[e])&&(this.item.childrenDesc?this.item.childrenDesc+="<small><b>"+this.$t(e)+": </b> "+this.$t(this.node[e])+"</small><br>":this.item.childrenDesc+="<b>"+this.$t(e)+":  "+this.$t(this.node[e])+"</b><br>")},clickHandler:function(e){this.isOpenClick=!this.isOpenClick,Object(f.setTimeout)(function(){window.checkDirty()})},searchFor:function(e){return r()(this.node).find(function(t,a){return t==e})},isVisible:function(e){var t="";for(var a in e)"string"==typeof e[a]&&(t+=e[a].replace(/\s\s+/g," ")+" ");return!this.searchTerm||""==this.searchTerm||Object(d.d)("%"+this.searchTerm.toUpperCase()+"%",t.toUpperCase())},setValue:function(e){var t=" ";void 0!==this.node.descricao?t=this.node.descricao:void 0!==this.node.nomePeca&&(t=this.node.nomePeca),this.selectValue={name:this.item.name,descricao:t,value:e},this.$emit("input",this.selectValue)},setValueFinal:function(e){this.selectValue={name:this.item.name,descricao:e.descricao,value:e.value},this.$emit("input",this.selectValue)},openAccordion:function(){""==this.searchTerm?this.searchTerm=" ":this.searchTerm=""}},watch:{value:function(e){if(e){for(var t=e;void 0!==t.value;)t=t.value;this.selectValue=t}else this.selectValue=null}},computed:i()({},Object(_.b)({defaultPreResp:"task/defaultPreResp"}),{hasResult:function(){var e=this;return this.searchTerm?u()(this.node).find(function(t){return e.isVisible(t)}):r()(this.node).length>0},isOpen:function(){return""!=this.searchTerm||this.item.name==this.lastDepth||0==this.depth},isLockedSearch:function(){if(this.metadados){var e=u()(this.metadados).find(function(e){return"lockSearch"==e.meta_key});if(e&&"material"==this.index)return"on"==e.meta_value}return!1},isOpenValue:function(){var e=this.value;if(e)for(var t=0;t<=this.depth&&void 0!=e;t++){if(e.name==this.item.name)return!0;e=e.value}return!1},lastDepth:function(){return this.jsonPath[this.jsonPath.length-1]}}),beforeDestroy:function(){this.item=null,this.$refs&&(this.$refs.recursiveAccordion&&this.$refs.recursiveAccordion.forEach(function(e){try{e.$destroy(),e=null}catch(e){}}),this.$refs.inputRadioButton&&(this.$refs.inputRadioButton.$destroy(),this.$refs.inputRadioButton=null),this.$refs.InputSearch&&(this.$refs.InputSearch.$destroy(),this.$refs.InputSearch=null)),window.componentHandler.downgradeElements(this.$el)}},b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"recursive-accordion",class:["recursive-accordion--depth-"+e.depth,{"recursive-accordion--has-children":e.children}]},[e.item.childrenCount>1||"modelos"==e.index||"pecas"==e.index||"ocorrencia"==e.index?a("div",{staticClass:"recursive-accordion__item",class:[{" active":e.isOpen||e.isOpenClick||e.isOpenValue},{title:e.item.childrenCount>1}],style:{marginLeft:16*(e.depth-1)+"px"}},["fcta"!=e.item.name?a("span",{staticClass:"recursive-accordion__title pad"},[a("p",{staticClass:"full accordionSearch"},[a("InputSearch",{ref:"InputSearch",attrs:{readonly:e.isLockedSearch,name:e.item.name},model:{value:e.searchTerm,callback:function(t){e.searchTerm=t},expression:"searchTerm"}})],1),e._v(" "),"fcta"!=e.item.name?a("i",{staticClass:"material-icons recursive-accordion__icon",on:{click:function(t){return e.openAccordion()}}},[e._v("\n        "+e._s(e.isOpen||e.isOpenClick||e.isOpenValue?"arrow_drop_up":"arrow_drop_down")+"\n      ")]):e._e()]):e._e()]):e.indexAbove!=e.lastDepth&&e.item.childrenDesc?a("div",{staticClass:"recursive-accordion__item",class:[{" active":e.isOpen||e.isOpenClick||e.isOpenValue},{title:e.item.childrenCount>0},{"item-fcta":e.depth>6}],style:{marginLeft:16*e.depth+"px"},on:{click:e.clickHandler}},[e.index!=e.lastDepth?a("span",[e.indexAbove!=e.lastDepth?a("span",{staticClass:"recursive-accordion__title"},[e.index!=e.lastDepth?a("span",{staticClass:"descricaoItem",domProps:{innerHTML:e._s(e.item.childrenDesc)}}):e._e(),e._v(" "),1==e.item.childrenCount?a("i",{staticClass:"material-icons recursive-accordion__icon"},[e._v("\n          "+e._s(e.isOpen||e.isOpenClick||e.isOpenValue?"arrow_drop_up":"arrow_drop_down")+"\n        ")]):e._e()]):e._e()]):e._e()]):e._e(),e._v(" "),(e.isOpen||e.isOpenClick||e.isOpenValue)&&e.indexAbove!=e.lastDepth?a("div",{staticClass:"recursive-accordion__children"},[e.mountForm||e.indexAbove==e.lastDepth?e._e():a("div",e._l(e.node,function(t,s){return a("span",{key:s,staticClass:"secondNivel"},[a("RecursiveAccordion",{directives:[{name:"show",rawName:"v-show",value:"object"==typeof t&&!e.mountForm&&e.isVisible(t),expression:"typeof item2 == 'object' && !mountForm && isVisible(item2)"}],ref:"recursiveAccordion",refInFor:!0,attrs:{node:e.node[s],index:s,itemAbove:e.node,indexAbove:e.index,treePath:e.treePath+"."+e.index,depth:e.depth+1,value:e.value,metadados:e.metadados,jsonPath:e.jsonPath,question:e.question},on:{input:e.setValue}})],1)}),0),e._v(" "),e.hasResult?e._e():a("div",{staticClass:"jsonValueNotFound"},[a("div",{staticClass:"mdl-card mdl-shadow--2dp"},[a("div",{staticClass:"mdl-card__title"},[e.searching?a("h2",{staticClass:"mdl-card__title-text"},[e._v(e._s(e.$t("Aguarde...")))]):a("h2",{staticClass:"mdl-card__title-text"},[e._v(e._s(e.$t("Nenhum registro encontrado!")))])]),e._v(" "),a("div",{staticClass:"mdl-card__supporting-text"},[e.searching?e._e():a("button",{staticClass:"mdl-button mdl-button--raised bgGray button-input",on:{click:e.pesquisar}},[a("i",{staticClass:"material-icons"},[e._v("search")]),e._v(e._s(e.$t("Pesquisar "+e.index))+"\n            ")])])])]),e._v(" "),e.index==e.lastDepth?a("div",{style:{marginLeft:16*(e.depth>1?e.depth:2)-16+"px"}},[a("InputRadioButton",{ref:"inputRadioButton",attrs:{model:{item:e.node},value:e.selectValue,currentValue:e.value,selectedValue:e.value,itemAbove:e.itemAbove,searchTerm:e.searchTerm,depth:e.depth+1,question:e.question,treePath:e.treePath},on:{input:e.setValueFinal}})],1):e._e()]):e._e()])},staticRenderFns:[]};var C=a("VU/8")(g,b,!1,function(e){a("Fmmh"),a("9FPk")},"data-v-55ea9d0a",null);t.default=C.exports},ZBP7:function(e,t,a){"use strict";var s=a("UdET"),i={name:"OkOuFoto",components:{InputImage:a("xZ6D").a},extends:s.a,data:function(){return{state:""}},mounted:function(){"conforme"==this.value?this.state=this.value:this.state="nConforme"},methods:{setState:function(e){this.state=e,"conforme"==e?this.emitValue(e):this.$emit("input","",this.id)},emitValue:function(e){this.$emit("input",e,this.id)}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.readOnly?a("div",{staticClass:"readOnly"},[a("label",{staticClass:"orange",domProps:{innerHTML:e._s(e.texto)}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),a("div",{staticClass:"labelvalue"},["conforme"==e.state?a("i",{staticClass:"material-icons check_circle_outline"},[e._v("check_circle_outline")]):a("i",{staticClass:"material-icons cancel"},[e._v("cancel")]),e._v(" "),e.value&&e.value.startsWith("data:image")?a("div",{staticClass:"imageThumb mdl-layout-item mdl-size-33 imgThumb"},[a("div",{staticClass:"image"},[a("img",{attrs:{src:e.value}})])]):a("div",[e._v("\n        "+e._s(e.value)+"\n      ")])])]):a("div",{staticClass:"section-okfoto",class:{"is-invalid":e.obrigatorio}},[a("label",{staticClass:"orange"},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),a("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-tabs mdl-js-tabs "},[a("div",{staticClass:"mdl-tabs__tab-bar"},[a("span",{staticClass:"mdl-tabs__tab check_circle_outline",class:{active:"conforme"==e.state},attrs:{href:"//"},on:{click:function(t){return e.setState("conforme")}}},[a("i",{staticClass:"material-icons"},[e._v("check_circle_outline")]),a("span",{staticClass:"label"},[e._v(e._s(e.$t("Conforme")))])]),e._v(" "),a("span",{staticClass:"mdl-tabs__tab cancel",class:{active:"conforme"!=e.state&&null!=e.state},attrs:{href:"//"},on:{click:function(t){return e.setState("nConforme")}}},[a("i",{staticClass:"material-icons"},[e._v("cancel")]),a("span",{staticClass:"label"},[e._v(e._s(e.$t("Não Conforme")))])])])]),e._v(" "),e._l(e.errors,function(t,s){return a("span",{key:s,staticClass:"mdl-error",domProps:{innerHTML:e._s(t)}})}),e._v(" "),"conforme"!=e.state?a("div",[a("input-image",{attrs:{id:e.id,ordem:e.ordem,texto:e.texto,tipo:e.tipo,value:e.value,formulario:e.formulario,embebed:!0},on:{input:e.emitValue}})],1):e._e()],2)])},staticRenderFns:[]},r=a("VU/8")(i,n,!1,null,null,null);t.a=r.exports},aHUH:function(e,t,a){"use strict";var s=a("Xxa5"),i=a.n(s),n=a("exGp"),r=a.n(n),o=a("hlPV"),l={name:"InputBarcode",directives:{mask:o.mask},props:{id:{required:!0},texto:{type:String},default:{type:String,required:!1,default:""},obrigatorio:{type:String,required:!1,default:""},destaque:{type:String,required:!1,default:"0"},value:{required:!0},readOnly:{required:!1,default:!1},blocked:{type:Boolean,required:!1,default:!1},messageError:{type:String,required:!1,default:""},maxLength:{required:!1,default:-1},showClear:{required:!1,default:!1}},data:function(){return{}},methods:{getTextFromBarcode:function(){var e=this;return r()(i.a.mark(function t(){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e,t.next=3,e.$root.getTextFromBarcode().then(function(t){a.$emit("input",{target:{value:t,origin:"barcode",id:e.id}},a.id)}).catch(function(e){a.$bus.$emit("showSnackBar",{message:a.$t(e.msg),duration:2e3})});case 3:case"end":return t.stop()}},t,e)}))()},onInput:function(e){this.$emit("input",e),this.$forceUpdate()},clear:function(){this.$emit("input",{target:{value:"",origin:"barcode",id:this.id}},this.id)}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex"},[a("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label is-dirty textfield-with-icon",class:[{"is-dirty":""!=e.value}]},[a("input",{staticClass:"mdl-textfield__input",attrs:{type:"text",id:e.id},domProps:{value:e.value},on:{input:e.onInput}}),e._v(" "),e.texto?a("label",{staticClass:"mdl-textfield__label",attrs:{for:e.id}},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]):e._e(),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:e.showClear&&""!=e.value,expression:"showClear && value != ''"}],staticClass:"material-icons mdl-textfield__label__icon reorder clearicon",on:{click:e.clear}},[e._v("close")])]),e._v(" "),a("div",{staticClass:"barcode-button",on:{click:e.getTextFromBarcode}},[e._m(0)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"button-area"},[t("img",{attrs:{src:a("+ROd")}})])}]};var u=a("VU/8")(l,c,!1,function(e){a("KWDe")},"data-v-04322021",null);t.a=u.exports},aeih:function(e,t,a){"use strict";var s=a("//Fk"),i=a.n(s),n=a("hlPV"),r=a("UdET"),o=a("9VIl"),l=a("aHUH"),c={name:"InputText",components:{Money:o.Money,InputBarcode:l.a},directives:{mask:n.mask},extends:r.a,data:function(){return{mask:"",showMasks:!1,type:"text",focus:!1,moneyConf:{decimal:",",thousands:".",prefix:"R$ ",precision:2},inputmode:"text"}},beforeMount:function(){var e=this;"text"!=this.type?this.mask=JSON.parse(this.mascara):this.mask={campo:this.mascara},this.setMask(this).then(function(t){"text"==e.type&&e.getTextMask(e,e.mask).then(function(e){})})},methods:{setMask:function(e){return new i.a(function(t){e.mask||t(!1),e.mask.vmask=null,e.mask.campo||(e.mask={matriz:e.mask.lista,campo:e.mask.mascara,tipo:"texto",grupo:"1",mascara:"texto"}),t("text")})},getTextMask:function(e,t){var a=e;return new i.a(function(e,s){switch(a.mask.vmask="",t.campo){case"date":a.type="date";break;case"datetime":a.type="datetime-local";break;case"time":a.type="time";break;case"number":a.type="number";break;case"money":a.type="money",a.inputmode="numeric";break;case"phone":case"celphone":a.mask.vmask=["(##) ####-####","(##) #####-####"],a.inputmode="numeric";break;case"barcode":case"text":break;default:return""}""!=a.mask.vmask&&(a.showMasks=!0),e(!0)})},getTextFromBarcode:function(){var e=this;this.$root.getTextFromBarcode().then(function(t){e.$emit("input",t,e.id)}).catch(function(t){e.$bus.$emit("showSnackBar",{message:e.$t(t.msg),duration:2e3})})},onInput:function(e){this.$emit("input",e.target.value,this.id)},onChange:function(){this.$emit("change",this.id)},isValid:function(){return this.errors=[],this.hasErrors=!1,"1"!=this.obrigatorio||""!=this.value&&null!=this.value||(this.errors.push(this.$t("Este field é obrigatório")),this.hasErrors=!0,!1)}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.readOnly?a("div",{staticClass:"readOnly"},[a("label",{staticClass:"orange",domProps:{innerHTML:e._s(e.texto)}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),"money"==e.mascara?a("span",{staticClass:"value"},[e._v("\n      "+e._s(e._f("formatMoney")(e.value?e.value:0))+"\n    ")]):"date"==e.mascara?a("span",{staticClass:"value"},[e._v("\n      "+e._s(e._f("formatDate")(e.value?e.value:0))+"\n    ")]):a("span",{staticClass:"value"},[e._v("\n      "+e._s(e.value?e.value:" - ")+"\n    ")])]):a("div",[e.showMasks?a("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label",class:[{"is-dirty":""!=e.value}]},[a("input",{directives:[{name:"mask",rawName:"v-mask",value:e.mask.vmask,expression:"mask.vmask"}],staticClass:"mdl-textfield__input",attrs:{inputmode:e.inputmode,type:e.type,id:e.id},domProps:{value:e.value},on:{input:e.onInput,change:e.onChange}}),e._v(" "),a("label",{staticClass:"mdl-textfield__label",attrs:{for:e.id}},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])])]):"money"==e.mascara?a("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label",class:[{"is-dirty":""!=e.value}]},[a("money",e._b({staticClass:"mdl-textfield__input",attrs:{inputmode:e.inputmode,type:e.type,id:e.id,value:e.value?e.value:0},on:{input:function(t){e.$emit("input",t,e.id)},change:e.onChange}},"money",e.moneyConf,!1)),e._v(" "),a("label",{staticClass:"mdl-textfield__label",attrs:{for:e.id}},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])])],1):"barcode"==e.mascara?a("InputBarcode",{attrs:{texto:e.texto,id:e.id,value:e.value},on:{input:e.onInput,change:e.onChange,click:e.getTextFromBarcode}}):a("div",{staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label",class:[{"is-dirty":""!=e.value},{"textfield-with-icon":"barcode"==e.mascara}]},[a("input",{staticClass:"mdl-textfield__input",attrs:{type:e.type,id:e.id},domProps:{value:e.value},on:{input:e.onInput,change:e.onChange}}),e._v(" "),a("label",{staticClass:"mdl-textfield__label",attrs:{for:e.id}},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])])]),e._v(" "),e._l(e.errors,function(t,s){return a("span",{key:s,staticClass:"mdl-error",domProps:{innerHTML:e._s(t)}})})],2)])},staticRenderFns:[]},d=a("VU/8")(c,u,!1,null,null,null);t.a=d.exports},bh7Q:function(e,t){},hlPV:function(e,t,a){var s;s=function(){return function(e){function t(s){if(a[s])return a[s].exports;var i=a[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var a={};return t.m=e,t.c=a,t.i=function(e){return e},t.d=function(e,a,s){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:s})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=".",t(t.s=10)}([function(e,t){e.exports={"#":{pattern:/\d/},X:{pattern:/[0-9a-zA-Z]/},S:{pattern:/[a-zA-Z]/},A:{pattern:/[a-zA-Z]/,transform:function(e){return e.toLocaleUpperCase()}},a:{pattern:/[a-zA-Z]/,transform:function(e){return e.toLocaleLowerCase()}},"!":{escape:!0}}},function(e,t,a){"use strict";function s(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}var i=a(2),n=a(0),r=a.n(n);t.a=function(e,t){var n=t.value;if((Array.isArray(n)||"string"==typeof n)&&(n={mask:n,tokens:r.a}),"INPUT"!==e.tagName.toLocaleUpperCase()){var o=e.getElementsByTagName("input");if(1!==o.length)throw new Error("v-mask directive requires 1 input, found "+o.length);e=o[0]}e.oninput=function(t){if(t.isTrusted){var r=e.selectionEnd,o=e.value[r-1];for(e.value=a.i(i.a)(e.value,n.mask,!0,n.tokens);r<e.value.length&&e.value.charAt(r-1)!==o;)r++;e===document.activeElement&&(e.setSelectionRange(r,r),setTimeout(function(){e.setSelectionRange(r,r)},0)),e.dispatchEvent(s("input"))}};var l=a.i(i.a)(e.value,n.mask,!0,n.tokens);l!==e.value&&(e.value=l,e.dispatchEvent(s("input")))}},function(e,t,a){"use strict";var s=a(6),i=a(5);t.a=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments[3];return Array.isArray(t)?a.i(i.a)(s.a,t,r)(e,t,n,r):a.i(s.a)(e,t,n,r)}},function(e,t,a){"use strict";function s(e){e.component(l.a.name,l.a),e.directive("mask",r.a)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),n=a.n(i),r=a(1),o=a(7),l=a.n(o);a.d(t,"TheMask",function(){return l.a}),a.d(t,"mask",function(){return r.a}),a.d(t,"tokens",function(){return n.a}),a.d(t,"version",function(){return c});var c="0.11.1";t.default=s,"undefined"!=typeof window&&window.Vue&&window.Vue.use(s)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(1),i=a(0),n=a.n(i),r=a(2);t.default={name:"TheMask",props:{value:[String,Number],mask:{type:[String,Array],required:!0},masked:{type:Boolean,default:!1},tokens:{type:Object,default:function(){return n.a}}},directives:{mask:s.a},data:function(){return{lastValue:null,display:this.value}},watch:{value:function(e){e!==this.lastValue&&(this.display=e)},masked:function(){this.refresh(this.display)}},computed:{config:function(){return{mask:this.mask,tokens:this.tokens,masked:this.masked}}},methods:{onInput:function(e){e.isTrusted||this.refresh(e.target.value)},refresh:function(e){this.display=e,(e=a.i(r.a)(e,this.mask,this.masked,this.tokens))!==this.lastValue&&(this.lastValue=e,this.$emit("input",e))}}}},function(e,t,a){"use strict";t.a=function(e,t,a){return t=t.sort(function(e,t){return e.length-t.length}),function(s,i){for(var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=0;r<t.length;){var o=t[r],l=t[++r];if(!(l&&e(s,l,!0,a).length>o.length))return e(s,o,n,a)}return""}}},function(e,t,a){"use strict";t.a=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=arguments[3];e=e||"",t=t||"";for(var i=0,n=0,r="";i<t.length&&n<e.length;){var o=s[u=t[i]],l=e[n];o&&!o.escape?(o.pattern.test(l)&&(r+=o.transform?o.transform(l):l,i++),n++):(o&&o.escape&&(u=t[++i]),a&&(r+=u),l===u&&n++,i++)}for(var c="";i<t.length&&a;){var u;if(s[u=t[i]]){c="";break}c+=u,i++}return r+c}},function(e,t,a){var s=a(8)(a(4),a(9),null,null);e.exports=s.exports},function(e,t){e.exports=function(e,t,a,s){var i,n=e=e||{},r=typeof e.default;"object"!==r&&"function"!==r||(i=e,n=e.default);var o="function"==typeof n?n.options:n;if(t&&(o.render=t.render,o.staticRenderFns=t.staticRenderFns),a&&(o._scopeId=a),s){var l=o.computed||(o.computed={});Object.keys(s).forEach(function(e){var t=s[e];l[e]=function(){return t}})}return{esModule:i,exports:n,options:o}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",{directives:[{name:"mask",rawName:"v-mask",value:e.config,expression:"config"}],attrs:{type:"text"},domProps:{value:e.display},on:{input:e.onInput}})},staticRenderFns:[]}},function(e,t,a){e.exports=a(3)}])},e.exports=s()},iOID:function(e,t){},kEfP:function(e,t){},korG:function(e,t,a){"use strict";var s=a("pFYg"),i=a.n(s),n=a("hlPV"),r=a("UdET"),o=a("9VIl"),l={name:"InputSum",components:{Money:o.Money},directives:{mask:n.mask},extends:r.a,props:{responses:{type:Object,required:!0},questions:{type:Array,required:!0}},data:function(){return{type:"text",moneyConf:{decimal:",",thousands:".",prefix:"R$ ",precision:2},valueSum:0}},beforeMount:function(){this.valueSum=this.value,this.mask=JSON.parse(this.mascara)},mounted:function(){var e=this;setTimeout(function(){e.updateSum(null)},100)},methods:{isValid:function(){return this.errors=[],this.hasErrors=!1,"1"!=this.obrigatorio||""!=this.value&&null!=this.value&&0!=this.value||(this.errors.push(this.$t("Este field é obrigatório")),this.hasErrors=!0,!1)},updateSum:function(e){if(null==e||e.id!=this.id){var t=this;if(t.valueSum=0,"object"==i()(t.questions)&&null!=t.questions)t.questions.filter(function(e,a,s){var i=e.metaDados.find(function(e){return"ancora"==e.meta_key});return!!i&&t.mask.indexOf(i.meta_value)>=0}).forEach(function(e){t.valueSum+=t.responses[e.id].valor}),t.$emit("input",this.valueSum,this.id);return!0}}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"mdl-textfield readOnly inputSum"},[a("label",{staticClass:"orange"},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),e.valueSum?a("span",{staticClass:"value"},[e._v("\n      "+e._s(e._f("formatMoney")(e.valueSum))+"\n    ")]):a("span",{staticClass:"value"},[e._v("\n      R$ 0,00\n    ")])]),e._v(" "),e._l(e.errors,function(t,s){return a("span",{key:s,staticClass:"mdl-error",domProps:{innerHTML:e._s(t)}})})],2)},staticRenderFns:[]};var u=a("VU/8")(l,c,!1,function(e){a("Fccw")},"data-v-6ec65556",null);t.a=u.exports},m45e:function(e,t,a){"use strict";var s={name:"InputSearch",data:function(){return{searchTerm:" "}},mounted:function(){window.checkDirty(),this.searchTerm=this.value},props:{name:{type:String,required:!1},value:{type:String,required:!1},readonly:{type:Boolean}},computed:{searchLabel:function(){return this.name||this.$t("Buscar")}},methods:{inputfocus:function(){""==this.searchTerm&&(this.searchTerm=" "),this.emitValue()," "==this.searchTerm&&(this.searchTerm=""),this.$refs.search.focus()},emitValue:function(){this.$emit("input",this.searchTerm)}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"textfield-with-icon"},[a("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerm,expression:"searchTerm"}],ref:"search",staticClass:"mdl-textfield__input searchTerm",attrs:{type:"text",readonly:e.readonly},domProps:{value:e.searchTerm},on:{input:[function(t){t.target.composing||(e.searchTerm=t.target.value)},e.emitValue],click:e.inputfocus}}),e._v(" "),a("label",{staticClass:"mdl-textfield__label"},[e._v(e._s(e.$t(e.searchLabel)))])]),e._v(" "),e.readonly?e._e():a("i",{staticClass:"material-icons",on:{click:e.inputfocus}},[e._v("search")])])},staticRenderFns:[]},n=a("VU/8")(s,i,!1,null,null,null);t.a=n.exports},mswI:function(e,t,a){"use strict";var s=a("UdET"),i={name:"InputAccordingPhoto",components:{InputImage:a("xZ6D").a},extends:s.a,data:function(){return{state:"",classColor:"",md_icon:"",hasMessage:!1,label:""}},computed:{tabs:function(){var e=[this.$t("Conforme"),this.$t("Não Conforme"),this.$t("Não se Aplica")];try{var t=JSON.parse(this.mascara);void 0!==t.labels&&(e=t.labels)}catch(t){return e}return e},padrao:function(){var e="";try{e=JSON.parse(this.mascara).padrao}catch(t){e=""}return e}},mounted:function(){this.value?this.verifyStates(this.value):this.verifyStates(this.padrao)},methods:{verifyStates:function(e){switch(e){case"conforme":this.state="conforme",this.classColor="green",this.md_icon="check_circle_outline",this.label=this.tabs[0];break;case"naoConforme":this.state="naoConforme",this.classColor="red",this.md_icon="cancel",this.label=this.tabs[1];break;case"nAplica":this.state="nAplica",this.classColor="orange",this.md_icon="more_horiz",this.label=this.tabs[2];break;default:this.state="naoConforme",this.classColor="red",this.md_icon="cancel",this.label=this.tabs[1]}},setState:function(e){this.state=e,"naoConforme"!=e?this.$emit("input",e,this.id):this.$emit("input","",this.id)},onInputImage:function(e){this.$emit("input",e,this.id)},onChangeImage:function(){this.$emit("change",this.id)}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.readOnly?a("div",{staticClass:"readOnly"},[a("label",[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),a("div",{staticClass:"labelvalue"},["conforme"==e.state?a("i",{staticClass:"material-icons conforme",class:e.classColor},[e._v("check_circle_outline")]):e._e(),e._v(" "),"naoConforme"==e.state?a("i",{staticClass:"material-icons naoConforme",class:e.classColor},[e._v("cancel")]):e._e(),e._v(" "),"nAplica"==e.state?a("i",{staticClass:"material-icons nAplica",class:e.classColor},[e._v("more_horiz")]):e._e(),e._v("\n      "+e._s(e.label)+"\n    ")]),e._v(" "),"conforme"!=e.state&&"nAplica"!=e.state?a("span",{staticClass:"value"},[e.value&&e.value.startsWith("data:image")?a("div",{staticClass:"imageThumb mdl-layout-item mdl-size-33 imgThumb"},[a("div",{staticClass:"image"},[a("img",{attrs:{src:e.value}})])]):e._e()]):e._e()]):a("div",{staticClass:"section-conforme",class:{"is-invalid":e.obrigatorio}},[a("label",{staticClass:"orange"},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),a("div",{staticClass:"mdl-tabs mdl-js-tabs "},[a("div",{staticClass:"mdl-tabs__tab-bar"},[a("span",{staticClass:"mdl-tabs__tab check_circle_outline",class:{active:"conforme"==e.state},attrs:{href:"//"},on:{click:function(t){return e.setState("conforme")}}},[a("i",{staticClass:"material-icons"},[e._v("check_circle_outline")]),a("span",{staticClass:"label",domProps:{innerHTML:e._s(e.tabs[0])}})]),e._v(" "),a("span",{staticClass:"mdl-tabs__tab cancel",class:{active:"naoConforme"==e.state},attrs:{href:"//"},on:{click:function(t){return e.setState("naoConforme")}}},[a("i",{staticClass:"material-icons"},[e._v("cancel")]),a("span",{staticClass:"label",domProps:{innerHTML:e._s(e.tabs[1])}})]),e._v(" "),a("span",{staticClass:"mdl-tabs__tab more_horiz",class:{active:"nAplica"==e.state},attrs:{href:"//"},on:{click:function(t){return e.setState("nAplica")}}},[a("i",{staticClass:"material-icons"},[e._v("more_horiz")]),a("span",{staticClass:"label",domProps:{innerHTML:e._s(e.tabs[2])}})])])]),e._v(" "),e._l(e.errors,function(t,s){return a("span",{key:s,staticClass:"mdl-error",domProps:{innerHTML:e._s(t)}})}),e._v(" "),"naoConforme"==e.state?a("div",[a("input-image",{ref:"input",staticClass:"section-foto",attrs:{id:e.id,embebed:!0,ordem:e.ordem,texto:e.texto,tipo:e.tipo,formulario:e.formulario,messageError:e.$t("Este field é obrigatório"),value:e.value,readOnly:e.readOnly},on:{input:e.onInputImage,change:e.onChangeImage}})],1):e._e()],2)])},staticRenderFns:[]};var r=a("VU/8")(i,n,!1,function(e){a("pq4s")},null,null);t.a=r.exports},mypn:function(e,t,a){(function(e,t){!function(e,a){"use strict";if(!e.setImmediate){var s,i,n,r,o,l=1,c={},u=!1,d=e.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(e);m=m&&m.setTimeout?m:e,"[object process]"==={}.toString.call(e.process)?s=function(e){t.nextTick(function(){h(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,a=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=a,t}}()?e.MessageChannel?((n=new MessageChannel).port1.onmessage=function(e){h(e.data)},s=function(e){n.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(i=d.documentElement,s=function(e){var t=d.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):s=function(e){setTimeout(h,0,e)}:(r="setImmediate$"+Math.random()+"$",o=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(r)&&h(+t.data.slice(r.length))},e.addEventListener?e.addEventListener("message",o,!1):e.attachEvent("onmessage",o),s=function(t){e.postMessage(r+t,"*")}),m.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),a=0;a<t.length;a++)t[a]=arguments[a+1];var i={callback:e,args:t};return c[l]=i,s(l),l++},m.clearImmediate=p}function p(e){delete c[e]}function h(e){if(u)setTimeout(h,0,e);else{var t=c[e];if(t){u=!0;try{!function(e){var t=e.callback,s=e.args;switch(s.length){case 0:t();break;case 1:t(s[0]);break;case 2:t(s[0],s[1]);break;case 3:t(s[0],s[1],s[2]);break;default:t.apply(a,s)}}(t)}finally{p(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,a("DuR2"),a("W2nU"))},orix:function(e,t){},pq4s:function(e,t){},qZCB:function(e,t,a){"use strict";var s={extends:a("UdET").a,name:"InputTextarea",props:{},data:function(){return{}},methods:{onInput:function(e){this.$emit("input",e.target.value,this.id)},onChange:function(){this.$emit("change",this.id)}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.readOnly?a("div",{staticClass:"readOnly"},[a("label",{staticClass:"orange"},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"1"==e.obrigatorio,expression:"obrigatorio == '1'"}]},[e._v("*")])]),e._v(" "),a("span",{staticClass:"value",domProps:{innerHTML:e._s(e.value?e.value:" - ")}})]):a("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label",class:{"is-invalid":"1"==e.obrigatorio}},[a("textarea",{staticClass:"mdl-textfield__input",attrs:{name:e.id,id:e.id,rows:"3"},domProps:{value:e.value},on:{input:e.onInput,change:e.onChange}}),e._v(" "),a("label",{staticClass:"mdl-textfield__label",attrs:{for:e.id}},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"1"==e.obrigatorio,expression:"obrigatorio == '1'"}]},[e._v("*")])])]),e._v(" "),e._l(e.errors,function(t,s){return a("span",{key:s,staticClass:"mdl-error",domProps:{innerHTML:e._s(t)}})})],2)},staticRenderFns:[]},n=a("VU/8")(s,i,!1,null,null,null);t.a=n.exports},r0Vh:function(e,t){},sDar:function(e,t,a){"use strict";var s=a("G4W2"),i={name:"DraggerQuantity",props:{model:{type:Number,required:!0,default:1}},data:function(){return{sliderValue:this.model,dialog:!1}},components:{RangeSlider:a.n(s).a},mounted:function(){var e=("0"+this.sliderValue).slice(-2),t=document.getElementsByClassName("range-slider-knob");void 0!=t[0]&&(t[0].innerHTML=e)},watch:{model:function(e){this.sliderValue=e},sliderValue:function(){this.$emit("changedSliderValue",this.sliderValue);var e=("0"+this.sliderValue).slice(-2),t=document.getElementsByClassName("range-slider-knob");void 0!=t[0]&&(t[0].innerHTML=e)}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mdl-layout mdl-alignment-center-center qnt"},[a("div",{staticClass:"mdl-layout-item mdl-size-30"},[a("span",{staticClass:"mdl-caption orange"},[e._v(" "+e._s(e.$t("Quantidade:"))+" ")])]),e._v(" "),a("div",{staticClass:"mdl-layout-item mdl-size-70"},[a("range-slider",{staticClass:"slider",attrs:{min:"01",max:"50",step:"01"},model:{value:e.sliderValue,callback:function(t){e.sliderValue=t},expression:"sliderValue"}})],1)])},staticRenderFns:[]};var r=a("VU/8")(i,n,!1,function(e){a("spGn")},null,null);t.a=r.exports},spGn:function(e,t){},"t+vX":function(e,t,a){"use strict";var s={name:"SimNao",extends:a("UdET").a,data:function(){return{state:"",classColor:"",md_icon:"",label:""}},mounted:function(){this.value?this.verifyStates(this.value):this.verifyStates(this.padrao)},computed:{tabs:function(){var e=[this.$t("Sim"),this.$t("Não")];try{var t=JSON.parse(this.mascara);void 0!==t.labels&&(e=t.labels)}catch(t){return e}return e},icones:function(){var e=["check_circle_outline","cancel"];try{var t=JSON.parse(this.mascara);void 0!==t.icones&&(e=t.icones)}catch(t){return e}return e},padrao:function(){var e="";try{e=JSON.parse(this.mascara).padrao}catch(t){e=""}return e}},methods:{setState:function(e){this.state=e,this.$emit("input",e,this.id),this.$emit("change",this.id)},verifyStates:function(e){switch(e){case"sim":this.setState("sim"),this.classColor="green",this.md_icon=this.icones[0],this.label=this.tabs[0];break;case"nao":this.setState("nao"),this.classColor="red",this.md_icon=this.icones[0],this.label=this.tabs[1];break;default:this.classColor="grey",this.md_icon=""}}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.readOnly?e.value?a("div",{staticClass:"readOnly"},[a("label",{staticClass:"orange"},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),a("div",{staticClass:"labelvalue"},["sim"==e.value?[a("i",{staticClass:"material-icons check_circle_outline"},[e._v("check_circle_outline")]),e._v("\n        "+e._s(e.$t("Sim"))+"\n      ")]:e._e(),e._v(" "),"nao"==e.value?[a("i",{staticClass:"material-icons cancel"},[e._v("cancel")]),e._v("\n        "+e._s(e.$t("Não"))+"\n      ")]:e._e()],2)]):e._e():a("div",{staticClass:"section-simnao"},[a("label",{staticClass:"orange"},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),a("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-tabs mdl-js-tabs "},[a("div",{staticClass:"mdl-tabs__tab-bar"},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.tabs[0],expression:"tabs[0]"}],staticClass:"mdl-tabs__tab check_circle_outline",class:{active:"sim"==e.state},attrs:{href:"//"},on:{click:function(t){return e.setState("sim")}}},[a("i",{staticClass:"material-icons",domProps:{innerHTML:e._s(e.icones[0])}}),a("span",{staticClass:"label",domProps:{innerHTML:e._s(e.tabs[0])}})]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.tabs[1],expression:"tabs[1]"}],staticClass:"mdl-tabs__tab cancel",class:{active:"nao"==e.state},attrs:{href:"//"},on:{click:function(t){return e.setState("nao")}}},[a("i",{staticClass:"material-icons",domProps:{innerHTML:e._s(e.icones[1])}}),a("span",{staticClass:"label",domProps:{innerHTML:e._s(e.tabs[1])}})])])]),e._v(" "),e._l(e.errors,function(t,s){return a("span",{key:s,staticClass:"mdl-error",domProps:{innerHTML:e._s(t)}})})],2)])},staticRenderFns:[]},n=a("VU/8")(s,i,!1,null,null,null);t.a=n.exports},vyob:function(e,t,a){"use strict";var s=a("gRE1"),i=a.n(s),n=a("Dd8w"),r=a.n(n),o=a("UdET"),l=a("NYxO"),c={name:"InputHidden",extends:o.a,props:{metaDados:{default:[]}},computed:r()({},Object(l.b)({defaultPreResp:"task/defaultPreResp"})),data:function(){return{}},mounted:function(){var e=this.$store.getters["task/defaultPreResp"],t=i()(this.metaDados).find(function(e){return"ancora"==e.meta_key});t&&e&&void 0!==e[t.meta_value]&&this.$emit("input",e[t.meta_value],this.id)},methods:{getValue:function(){var e=i()(this.metaDados).find(function(e){return"ancora"==e.meta_key});this.$emit("input",this.defaultPreResp[e.meta_value],this.id)}}},u={render:function(){var e=this.$createElement;return(this._self._c||e)("input",{attrs:{type:"hidden"},domProps:{value:this.value}})},staticRenderFns:[]},d=a("VU/8")(c,u,!1,null,null,null);t.a=d.exports},xZ6D:function(e,t,a){"use strict";var s=a("mvHQ"),i=a.n(s),n=a("UdET"),r=a("7+uW"),o={name:"InputImage",extends:n.a,props:{embebed:{type:Boolean,required:!1,default:!1}},data:function(){return{camHTML:"",timeoutTakePic:null,blockingClick:!1}},created:function(){this.camHTML=window.localStorage.getItem("camHTMLService")||"disabled"},mounted:function(){if(window.appState.takingPicture&&window.appState.fieldId==this.id){window.localStorage.setItem("camHTMLService","enabled");var e=window.appState.result,t=this;e?setTimeout(function(){t.emitChanges(e),t.$el.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100):window.appState.error&&(console.log(window.appState.error),this.showErrorEmitted(window.appState.error.result.toString()))}},methods:{emitChanges:function(e){var t="data:image/jpeg;base64,"+e;this.$emit("input",t,this.id),this.$emit("change",this.id),this.$bus.$emit("loading",!1),this.clearAppState()},showErrorEmitted:function(e){e=this.categorizeCameraErrorMessage(e.toString());var t=this.$t(e[0]);"snack"===e[1]?this.$bus.$emit("showSnackBar",{message:t,duration:2e3}):this.$bus.$emit("showErrorEmitted",{msg:t}),this.$bus.$emit("loading",!1),this.clearAppState()},debounceTakePic:function(){var e=this;e.blockingClick=!0,void 0!==e.timeoutTakePic&&clearTimeout(e.timeoutTakePic),e.timeoutTakePic=setTimeout(function(){e.takePic()},500)},takePic:function(){try{window.appState.takingPicture=!0,window.appState.fieldId=this.id,window.appState.routeName=this.$route.fullPath,window.localStorage.setItem("TrackerUP_state",i()(window.appState)),"iOS"!=window.jscd.os&&"enabled"==this.camHTML?(r.default.camHTML(this.emitChanges,this.showErrorEmitted),null!==document.querySelector("#dialog-photo")&&(this.$dialogPolyfill.doDialog("dialog-photo"),document.querySelector("#dialog-photo").showModal())):navigator.camera.getPicture(this.emitChanges,this.showErrorEmitted,{quality:50,destinationType:navigator.camera.DestinationType.DATA_URL,sourceType:navigator.camera.PictureSourceType.CAMERA,targetHeight:800,targetWidth:800,correctOrientation:!0,saveToPhotoAlbum:!1})}catch(e){console.log(e)}},deleteImage:function(){this.$emit("input","",this.id)},categorizeCameraErrorMessage:function(e){var t="dialog";return!(e=e.toLowerCase()).includes("in use")&&!e.includes("use")||e.includes("max")?e.includes("disabled")?e="A câmera do dispositivo está desabilitada por alguma política do dispositivo e não pode ser aberta":e.includes("disconnected")?e="A câmera do dispositivo encontra-se desconectada":e.includes("notfound")?e="A câmera do dispositivo não foi encontrada":e.includes("20")||e.includes("permission")?e="É necessário aceitar as permissões para acesso à câmera e armazenamento":e.includes("no image")?(e="Nenhuma imagem selecionada",t="snack"):e="Erro ao abrir a câmera, verifique a câmera do celular - Error: "+e:e="Outro aplicativo está bloqueando o uso da câmera",[e,t]},convertImgToBase64URL:function(e){var t=this,a=new Image;a.crossOrigin="Anonymous",a.onload=function(){var e,s=document.createElement("CANVAS"),i=s.getContext("2d");s.height=a.height,s.width=a.width,i.drawImage(a,0,0),e=s.toDataURL("image/jpeg"),t.$emit("input",e,t.id),t.$emit("change",t.id),s=null},a.src=e},clearAppState:function(){this.blockingClick=!1,window.appState.takingPicture=!1,window.appState.fieldId=null,window.appState.error=null,window.appState.routeName=null,window.localStorage.setItem("TrackerUP_state",i()(window.appState))}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.readOnly?a("div",{staticClass:"readOnly"},[a("label",{staticClass:"orange"},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),a("span",{staticClass:"value"},[e.value?a("div",{staticClass:"imageThumb mdl-layout-item mdl-size-33 imgThumb"},[a("div",{staticClass:"image"},[a("img",{attrs:{src:e.value,alt:"Sem conexão no momento, impossível exibir imagem!"}})])]):e._e()])]):a("div",{staticClass:"container-foto",class:{"is-invalid":e.obrigatorio}},[a("label",{staticClass:"orange"},[a("span",{domProps:{innerHTML:e._s(e.texto)}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.obrigatorio,expression:"obrigatorio"}]},[e._v("*")])]),e._v(" "),a("div",{staticClass:"mdl-grid"},[e.value&&(e.value.startsWith("data:image")||e.value.startsWith("http"))?a("div",{staticClass:"imageThumb mdl-layout-item mdl-size-33 imgThumb"},[a("div",{staticClass:"image"},[a("img",{attrs:{src:e.value,alt:"Sem conexão no momento, impossível exibir imagem!"}})]),e._v(" "),a("button",{staticClass:"mdl-button mdl-button--fab mdl-button--mini-fab cancel grey",on:{click:function(t){return e.deleteImage()}}},[a("i",{staticClass:"material-icons"},[e._v("close")])])]):e._e(),e._v(" "),a("div",{staticClass:"mdl-layout-item mdl-size-33 cameraButton"},[a("button",{staticClass:"mdl-button mdl-button--fab grey",attrs:{disabled:e.blockingClick},on:{click:e.debounceTakePic}},[a("i",{staticClass:"material-icons"},[e._v("camera_enhance")])])])]),e._v(" "),e._l(e.errors,function(t,s){return a("span",{key:s,staticClass:"mdl-error",domProps:{innerHTML:e._s(t)}})})],2)])},staticRenderFns:[]},c=a("VU/8")(o,l,!1,null,null,null);t.a=c.exports},zqAa:function(e,t,a){"use strict";var s=a("Xxa5"),i=a.n(s),n=a("exGp"),r=a.n(n),o=a("T75j");t.a={synchronization:function(e,t){var a=this;return r()(i.a.mark(function t(){var s,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=i.a.keys(e.listas);case 1:if((t.t1=t.t0()).done){t.next=9;break}if(s=t.t1.value,!e.listas.hasOwnProperty(s)){t.next=7;break}return n=e.listas[s],t.next=7,a.insertList(n);case 7:t.next=1;break;case 9:case"end":return t.stop()}},t,a)}))()},insertList:function(e){var t=this;return r()(i.a.mark(function a(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.setOne("form_listas",e);case 2:case"end":return t.stop()}},a,t)}))()},getFormList:function(e){var t=this;return r()(i.a.mark(function a(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.a.getOne("form_listas",e));case 1:case"end":return t.stop()}},a,t)}))()}}}});
//# sourceMappingURL=0.d31cec1313e15eeff6f1.js.map