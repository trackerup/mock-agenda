{"version":3,"sources":["webpack:///src/pages/tasks/FutureTasks.vue","webpack:///./src/pages/tasks/FutureTasks.vue?77f0","webpack:///./src/pages/tasks/FutureTasks.vue"],"names":["FutureTasks","name","components","HourSeparator","TaskItem","data","tasksMorning","tasksEvening","tasksNight","tasksDawn","synchronizationTasks","synchronizationRoute","allowOrder","orderName","dateFuturo","computed","extends_default","Object","vuex_esm","tasks","user","viewDate","morning","time","period","this","$t","reorder","evening","night","dawn","watch","value","sortTasksByPeriod","created","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","date","wrap","_context","prev","next","Date","setDate","getDate","$store","dispatch","task","stop","beforeMount","ComponentTasksClass","vue_esm","extend","ComponentRouteClass","mounted","_self","window","inSync","makeTasksSync","then","response","$bus","$emit","catch","pageTitle","mapMenu","backMenu","methods","dataFormat","moment_default","format","_this2","all","allTasks","filter","rota","route","id","status","dataTarefa","sort","b","length","parseInt","urgente","forEach","tarefa","planedStartHour","JSON","parse","planedStart","hora","utils","push","routeBlocked","ordernarUrgencia","$event","index","tarefaAcima","tarefaAbaixo","findIndex","obj","direction","$set","reorderTasks","_this3","_callee2","promise","_context2","t0","updateOrderTask","abrupt","entities_tarefa","_ref","_this4","promise_default","_callee4","resolve","reject","i","_context4","_ref2","_callee3","_context3","sinc","updated_at","formatInputDateTime","toISOString","_x3","apply","arguments","_x","_x2","tasks_FutureTasks","render","_vm","_h","$createElement","_c","staticClass","_v","_s","_e","attrs","model","showreorder","on","_l","item","key","order","class","click","$router","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"js/12.38d909d70cdcb2d0771f.js","sourcesContent":["<template>\r\n  <div class=\"tasks-page\">\r\n    <div class=\"content-page\">\r\n\r\n      <div class=\"mdl-grid hour-item\" v-if=\"dateFuturo != ''\">\r\n        <div class=\"mdl-toolbar-section-start body-1\">\r\n          {{ dataFormat(dateFuturo)}}\r\n        </div>\r\n        <div class=\"mdl-toolbar-section-end mdl-caption\">\r\n        </div>\r\n      </div>\r\n\r\n      <template v-if=\"tasksMorning.length > 0\">\r\n        <HourSeparator :model=\"morning\" @reorder=\"reorderTasks($event)\" :showreorder=\"routeBlocked()\"></HourSeparator>\r\n        <TaskItem v-for=\"item in tasksMorning\" :key=\"item.id\" :task=\"item\" @order=\"ordernarUrgencia($event)\"></TaskItem>\r\n      </template>\r\n\r\n      <template v-if=\"tasksEvening.length > 0\">\r\n        <HourSeparator :model=\"evening\" @reorder=\"reorderTasks($event)\" :showreorder=\"routeBlocked()\"></HourSeparator>\r\n        <TaskItem v-for=\"item in tasksEvening\" :key=\"item.id\" :task=\"item\" @order=\"ordernarUrgencia($event)\"></TaskItem>\r\n      </template>\r\n\r\n      <template v-if=\"tasksNight.length > 0\">\r\n        <HourSeparator :model=\"night\" @reorder=\"reorderTasks($event)\" :showreorder=\"routeBlocked()\"></HourSeparator>\r\n        <TaskItem v-for=\"item in tasksNight\" :key=\"item.id\" :task=\"item\" @order=\"ordernarUrgencia($event)\"></TaskItem>\r\n      </template>\r\n\r\n      <template v-if=\"tasksDawn.length > 0\">\r\n        <HourSeparator :model=\"dawn\" @reorder=\"reorderTasks($event)\" :showreorder=\"routeBlocked()\"></HourSeparator>\r\n        <TaskItem v-for=\"item in tasksDawn\" :key=\"item.id\" :task=\"item\" @order=\"ordernarUrgencia($event)\"></TaskItem>\r\n      </template>\r\n\r\n    </div>\r\n    <div class=\"actions\" :class=\"[this.orderName == '' ? '' : 'hidden']\">\r\n      <button @click=\"$router.push('/messages')\"\r\n              class=\"mdl-button  mdl-button--fab  orange\">\r\n        <i class=\"material-icons message\">message</i>\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport TaskItem from '@/components/shared/TaskItem.vue'\r\nimport HourSeparator from '@/components/shared/HourSeparator.vue'\r\nimport { mapGetters } from 'vuex'\r\nimport { existsInArray } from '../../utils'\r\nimport SynchronizationTasks from '../../plugins/tasks/synchronizationTasks'\r\nimport SynchronizationRoute from '../../plugins/routes/synchronizationRoute'\r\nimport { saveTarefas } from '@/plugins/persistence/entities/tarefa'\r\nimport formatInputDateTime from '@/filters/date/formatInputDateTime'\r\nimport moment from 'moment'\r\n\r\nexport default {\r\n  name: 'FutureTasks',\r\n  components: {\r\n    HourSeparator,\r\n    TaskItem\r\n  },\r\n  data () {\r\n    return {\r\n      tasksMorning: [],\r\n      tasksEvening: [],\r\n      tasksNight: [],\r\n      tasksDawn: [],\r\n      synchronizationTasks: null,\r\n      synchronizationRoute: null,\r\n      allowOrder: true,\r\n      orderName: '',\r\n      dateFuturo: ''\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      tasks: 'task/tasks',\r\n      user: 'user/user',\r\n      viewDate: 'task/viewDate'\r\n    }),\r\n    morning () {\r\n      return {\r\n        name: 'morning',\r\n        time: '07:00',\r\n        period: this.$t('Manhã'),\r\n        reorder: false\r\n      }\r\n    },\r\n    evening () {\r\n      return {\r\n        name: 'evening',\r\n        time: '13:00',\r\n        period: this.$t('Tarde'),\r\n        reorder: false\r\n      }\r\n    },\r\n    night () {\r\n      return {\r\n        name: 'night',\r\n        time: '19:00',\r\n        period: this.$t('Noite'),\r\n        reorder: false\r\n      }\r\n    },\r\n    dawn () {\r\n      return {\r\n        name: 'dawn',\r\n        time: '01:00',\r\n        period: this.$t('Madrugada'),\r\n        reorder: false\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    tasks (value) {\r\n      this.sortTasksByPeriod()\r\n    }\r\n  },\r\n  async created () {\r\n    let date = new Date()\r\n    date.setDate(date.getDate() + 1)\r\n    await this.$store.dispatch('task/updateViewDate', {date: date})\r\n    await this.$store.dispatch('task/getTasks', {})\r\n    await this.$store.dispatch('task/setCurrentTask', {task: null})\r\n  },\r\n  beforeMount () {\r\n    const ComponentTasksClass = Vue.extend(SynchronizationTasks)\r\n    this.synchronizationTasks = new ComponentTasksClass()\r\n\r\n    const ComponentRouteClass = Vue.extend(SynchronizationRoute)\r\n    this.synchronizationRoute = new ComponentRouteClass()\r\n  },\r\n  mounted () {\r\n    const _self = this\r\n\r\n    window.inSync = false\r\n\r\n    this.synchronizationTasks.makeTasksSync(this, false, true).then(response => {\r\n      _self.$bus.$emit('tasks-sync', true)\r\n    }).catch(() => {\r\n      _self.$bus.$emit('tasks-sync', false)\r\n    })\r\n\r\n    this.$emit('changeParams', {\r\n      pageTitle: this.$t('OS Futuras'),\r\n      mapMenu: true,\r\n      backMenu: false\r\n    })\r\n\r\n    this.sortTasksByPeriod()\r\n  },\r\n  methods: {\r\n    dataFormat (dateFuturo) {\r\n      if (dateFuturo) {\r\n        return moment(dateFuturo).format('DD/MM/YYYY')\r\n      }\r\n      return ''\r\n    },\r\n    sortTasksByPeriod () {\r\n      let _self = this\r\n      this.tasksMorning = []\r\n      this.tasksEvening = []\r\n      this.tasksNight = []\r\n      this.tasksDawn = []\r\n\r\n      if (this.tasks.all) {\r\n        let allTasks = this.tasks.all.filter(task => {\r\n          return task.rota == _self.user.route.id && task.status != 'concluida' && task.status != 'malsucedida' && task.dataTarefa >= _self.viewDate\r\n        })\r\n\r\n        allTasks.sort(function (a, b) {\r\n          if (a.dataTarefa < b.dataTarefa) { return -1 }\r\n          if (a.dataTarefa > b.dataTarefa) { return 1 }\r\n          return 0\r\n        })\r\n        if (allTasks.length) {\r\n          this.dateFuturo = allTasks[0].dataTarefa\r\n\r\n          const tasks = allTasks.filter(task => {\r\n            return task.dataTarefa == this.dateFuturo\r\n          })\r\n\r\n          tasks.sort(function (a, b) {\r\n            if (parseInt(a.urgente) < parseInt(b.urgente)) { return -1 }\r\n            if (parseInt(a.urgente) > parseInt(b.urgente)) { return 1 }\r\n            return 0\r\n          })\r\n\r\n          tasks.forEach(tarefa => {\r\n            let planedStartParsed = JSON.parse(tarefa.planedStart)\r\n            let planedStartHour = planedStartParsed.hora\r\n\r\n            if ((planedStartHour >= 1) && (planedStartHour <= 6)) {\r\n              if (!existsInArray(this.tasksDawn, tarefa)) {\r\n                this.tasksDawn.push(tarefa)\r\n              }\r\n            } else if ((planedStartHour >= 7) && (planedStartHour <= 12)) {\r\n              if (!existsInArray(this.tasksMorning, tarefa)) {\r\n                this.tasksMorning.push(tarefa)\r\n              }\r\n            } else if ((planedStartHour >= 13) && (planedStartHour <= 18)) {\r\n              if (!existsInArray(this.tasksEvening, tarefa)) {\r\n                this.tasksEvening.push(tarefa)\r\n              }\r\n            } else if ((planedStartHour >= 19) && (planedStartHour <= 23)) {\r\n              if (!existsInArray(this.tasksNight, tarefa)) {\r\n                this.tasksNight.push(tarefa)\r\n              }\r\n            }\r\n          })\r\n        }\r\n      }\r\n    },\r\n    routeBlocked () {\r\n      if (this.user && this.user.route && this.user.route.status == '1') {\r\n        return true\r\n      }\r\n      return false\r\n    },\r\n    ordernarUrgencia ($event) {\r\n      var index\r\n      var tarefaAcima\r\n      var tarefaAbaixo\r\n      var tarefa\r\n      switch (this.orderName) {\r\n        case 'morning':\r\n          index = this.tasksMorning.findIndex(obj => {\r\n            return obj.id == $event.id\r\n          })\r\n          tarefa = this.tasksMorning[index]\r\n          if ($event.direction == 'up') {\r\n            if (index > 0) {\r\n              tarefaAcima = this.tasksMorning[index - 1]\r\n              this.$set(this.tasksMorning, index, tarefaAcima)\r\n              this.$set(this.tasksMorning, index - 1, tarefa)\r\n            }\r\n          }\r\n          if ($event.direction == 'down') {\r\n            if (index < (this.tasksMorning.length - 1)) {\r\n              tarefaAbaixo = this.tasksMorning[index + 1]\r\n              this.$set(this.tasksMorning, index, tarefaAbaixo)\r\n              this.$set(this.tasksMorning, index + 1, tarefa)\r\n            }\r\n          }\r\n          break\r\n        case 'evening':\r\n          index = this.tasksEvening.findIndex(obj => {\r\n            return obj.id == $event.id\r\n          })\r\n          tarefa = this.tasksEvening[index]\r\n          if ($event.direction == 'up') {\r\n            if (index > 0) {\r\n              tarefaAcima = this.tasksEvening[index - 1]\r\n              this.$set(this.tasksEvening, index, tarefaAcima)\r\n              this.$set(this.tasksEvening, index - 1, tarefa)\r\n            }\r\n          }\r\n          if ($event.direction == 'down') {\r\n            if (index < (this.tasksEvening.length - 1)) {\r\n              tarefaAbaixo = this.tasksEvening[index + 1]\r\n              this.$set(this.tasksEvening, index, tarefaAbaixo)\r\n              this.$set(this.tasksEvening, index + 1, tarefa)\r\n            }\r\n          }\r\n          break\r\n        case 'night':\r\n          index = this.tasksNight.findIndex(obj => {\r\n            return obj.id == $event.id\r\n          })\r\n          tarefa = this.tasksNight[index]\r\n          if ($event.direction == 'up') {\r\n            if (index > 0) {\r\n              tarefaAcima = this.tasksNight[index - 1]\r\n              this.$set(this.tasksNight, index, tarefaAcima)\r\n              this.$set(this.tasksNight, index - 1, tarefa)\r\n            }\r\n          }\r\n          if ($event.direction == 'down') {\r\n            if (index < (this.tasksNight.length - 1)) {\r\n              tarefaAbaixo = this.tasksNight[index + 1]\r\n              this.$set(this.tasksNight, index, tarefaAbaixo)\r\n              this.$set(this.tasksNight, index + 1, tarefa)\r\n            }\r\n          }\r\n          break\r\n        case 'dawn':\r\n          index = this.tasksDawn.findIndex(obj => {\r\n            return obj.id == $event.id\r\n          })\r\n          tarefa = this.tasksDawn[index]\r\n          if ($event.direction == 'up') {\r\n            if (index > 0) {\r\n              tarefaAcima = this.tasksDawn[index - 1]\r\n              this.$set(this.tasksDawn, index, tarefaAcima)\r\n              this.$set(this.tasksDawn, index - 1, tarefa)\r\n            }\r\n          }\r\n          if ($event.direction == 'down') {\r\n            if (index < (this.tasksDawn.length - 1)) {\r\n              tarefaAbaixo = this.tasksDawn[index + 1]\r\n              this.$set(this.tasksDawn, index, tarefaAbaixo)\r\n              this.$set(this.tasksDawn, index + 1, tarefa)\r\n            }\r\n          }\r\n          break\r\n      }\r\n      this.reorderTasks('setas')\r\n    },\r\n    async reorderTasks ($event) {\r\n      if ($event != 'setas' && this.orderName != '') {\r\n        this.orderName = ''\r\n      } else {\r\n        if (this.orderName == '') {\r\n          this.orderName = $event\r\n        } else {\r\n          let promise = null\r\n          switch (this.orderName) {\r\n            case 'morning':\r\n              promise = this.updateOrderTask(this.tasksMorning)\r\n              break\r\n            case 'evening':\r\n              promise = this.updateOrderTask(this.tasksEvening)\r\n              break\r\n            case 'night':\r\n              promise = this.updateOrderTask(this.tasksNight)\r\n              break\r\n            case 'dawn':\r\n              promise = this.updateOrderTask(this.tasksDawn)\r\n              break\r\n          }\r\n          promise.then(function (tasks) {\r\n            saveTarefas(tasks)\r\n          })\r\n        }\r\n      }\r\n    },\r\n    updateOrderTask (tasks) {\r\n      return new Promise(async (resolve, reject) => {\r\n        let i = 1\r\n        let _self = this\r\n        await tasks.forEach(async task => {\r\n          await _self.$store.dispatch('task/updateTaskData', {\r\n            task: task,\r\n            data: {\r\n              urgente: i++,\r\n              sinc: 0,\r\n              updated_at: formatInputDateTime(new Date().toISOString())\r\n            }\r\n          })\r\n        })\r\n        _self.sortTasksByPeriod()\r\n        switch (_self.orderName) {\r\n          case 'morning':\r\n            tasks = (_self.tasksMorning)\r\n            break\r\n          case 'evening':\r\n            tasks = (_self.tasksEvening)\r\n            break\r\n          case 'night':\r\n            tasks = (_self.tasksNight)\r\n            break\r\n          case 'dawn':\r\n            tasks = (_self.tasksDawn)\r\n            break\r\n        }\r\n        resolve(tasks)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n  .actions {\r\n    position: fixed;\r\n    right: 8px;\r\n    bottom: 24px;\r\n    z-index: 99999;\r\n     transition: 0.3s all;\r\n    .mdl-button--fab {\r\n      display: block;\r\n      & ~ .mdl-button--fab {\r\n        margin-top: 12px;\r\n      }\r\n    }\r\n  }\r\n\r\n  /*.tasks-page{\r\n    height: calc( 100vh - 56px );\r\n    position: relative;\r\n  }*/\r\n  .tasks-page {\r\n    position: unset;\r\n    height: unset;\r\n  }\r\n</style>\r\n\r\n<style scoped>\r\n\r\n  .tasks-page:before {\r\n    content: '';\r\n    position: fixed;\r\n    bottom: 0px;\r\n    right: 0px;\r\n    width: 260px;\r\n    height: 140px;\r\n    /* background: url('../../assets/shared/bottom-left.svg'); */\r\n    background-size: 260px 140px;\r\n    background-repeat: no-repeat;\r\n    background-position: bottom right;\r\n    -moz-transform: scaleX(-1);\r\n    -webkit-transform: scaleX(-1);\r\n    -o-transform: scaleX(-1);\r\n    transform: scaleX(-1);\r\n    -ms-filter: fliph; /*IE*/\r\n    filter: fliph; /*IE*/\r\n    opacity: 0.3;\r\n    filter: alpha(opacity=30); /* For IE8 and earlier */\r\n  }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/tasks/FutureTasks.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tasks-page\"},[_c('div',{staticClass:\"content-page\"},[(_vm.dateFuturo != '')?_c('div',{staticClass:\"mdl-grid hour-item\"},[_c('div',{staticClass:\"mdl-toolbar-section-start body-1\"},[_vm._v(\"\\n        \"+_vm._s(_vm.dataFormat(_vm.dateFuturo))+\"\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"mdl-toolbar-section-end mdl-caption\"})]):_vm._e(),_vm._v(\" \"),(_vm.tasksMorning.length > 0)?[_c('HourSeparator',{attrs:{\"model\":_vm.morning,\"showreorder\":_vm.routeBlocked()},on:{\"reorder\":function($event){return _vm.reorderTasks($event)}}}),_vm._v(\" \"),_vm._l((_vm.tasksMorning),function(item){return _c('TaskItem',{key:item.id,attrs:{\"task\":item},on:{\"order\":function($event){return _vm.ordernarUrgencia($event)}}})})]:_vm._e(),_vm._v(\" \"),(_vm.tasksEvening.length > 0)?[_c('HourSeparator',{attrs:{\"model\":_vm.evening,\"showreorder\":_vm.routeBlocked()},on:{\"reorder\":function($event){return _vm.reorderTasks($event)}}}),_vm._v(\" \"),_vm._l((_vm.tasksEvening),function(item){return _c('TaskItem',{key:item.id,attrs:{\"task\":item},on:{\"order\":function($event){return _vm.ordernarUrgencia($event)}}})})]:_vm._e(),_vm._v(\" \"),(_vm.tasksNight.length > 0)?[_c('HourSeparator',{attrs:{\"model\":_vm.night,\"showreorder\":_vm.routeBlocked()},on:{\"reorder\":function($event){return _vm.reorderTasks($event)}}}),_vm._v(\" \"),_vm._l((_vm.tasksNight),function(item){return _c('TaskItem',{key:item.id,attrs:{\"task\":item},on:{\"order\":function($event){return _vm.ordernarUrgencia($event)}}})})]:_vm._e(),_vm._v(\" \"),(_vm.tasksDawn.length > 0)?[_c('HourSeparator',{attrs:{\"model\":_vm.dawn,\"showreorder\":_vm.routeBlocked()},on:{\"reorder\":function($event){return _vm.reorderTasks($event)}}}),_vm._v(\" \"),_vm._l((_vm.tasksDawn),function(item){return _c('TaskItem',{key:item.id,attrs:{\"task\":item},on:{\"order\":function($event){return _vm.ordernarUrgencia($event)}}})})]:_vm._e()],2),_vm._v(\" \"),_c('div',{staticClass:\"actions\",class:[this.orderName == '' ? '' : 'hidden']},[_c('button',{staticClass:\"mdl-button  mdl-button--fab  orange\",on:{\"click\":function($event){return _vm.$router.push('/messages')}}},[_c('i',{staticClass:\"material-icons message\"},[_vm._v(\"message\")])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-431912e8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/tasks/FutureTasks.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-431912e8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./FutureTasks.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-431912e8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./FutureTasks.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FutureTasks.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FutureTasks.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-431912e8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./FutureTasks.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-431912e8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/tasks/FutureTasks.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}