webpackJsonp([9],{"6ReR":function(t,e,n){"use strict";e.a=function(){return new s.a(function(t,e){Object(a.b)().then(function(n){i.a.exportToJsonString(n,function(n,o){n?e(n):t(o)})}).catch(function(t){e(t)})})},e.b=function(t){return new s.a(function(e,n){Object(a.b)().then(function(o){i.a.clearDatabase(o,function(s){s?n(s):i.a.importFromJsonString(o,t,function(t){t?n(t):e("Imported data successfully")})})}).catch(function(t){n(t)})})};var o=n("//Fk"),s=n.n(o),a=n("24aH"),r=n("IDf+"),i=n.n(r)},Gnwg:function(t,e){},"IDf+":function(t,e,n){"use strict";void 0!==t&&t.exports&&(t.exports={exportToJsonString:function(t,e){const n={},o=new Set(t.objectStoreNames);if(0===o.size)e(null,JSON.stringify(n));else{const s=Array.from(o),a=t.transaction(s,"readonly");a.onerror=(t=>e(t,null)),s.forEach(t=>{const o=[];a.objectStore(t).openCursor().onsuccess=(a=>{const r=a.target.result;r?(o.push(r.value),r.continue()):(n[t]=o,s.length===Object.keys(n).length&&e(null,JSON.stringify(n)))})})}},importFromJsonString:function(t,e,n){const o=new Set(t.objectStoreNames);if(0===o.size)n(null);else{const s=Array.from(o),a=t.transaction(s,"readwrite");a.onerror=(t=>n(t));const r=JSON.parse(e);s.forEach(t=>{let e=0;const o=Array.from(r[t]);r[t]&&o.length>0?o.forEach(o=>{const s=a.objectStore(t).add(o);s.onsuccess=(()=>{++e===r[t].length&&(delete r[t],0===Object.keys(r).length&&n(null))}),s.onerror=(t=>{console.log(t)})}):(delete r[t],0===Object.keys(r).length&&n(null))})}},clearDatabase:function(t,e){const n=new Set(t.objectStoreNames),o=n.size;if(0===o)e(null);else{const s=Array.from(n),a=t.transaction(s,"readwrite");a.onerror=(t=>e(t));let r=0;s.forEach(function(t){a.objectStore(t).clear().onsuccess=(()=>{++r===o&&e(null)})})}}})},vXd1:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("fZjL"),s=n.n(o),a=n("mvHQ"),r=n.n(a),i=n("6ReR"),l={name:"RecoverData",data:function(){return{error:"",jsonString:null,lsString:null}},beforeMount:function(){},mounted:function(){this.adjustHeight()},destroyed:function(){this.unSetHeight()},methods:{goLoginPage:function(){this.$router.push("/login")},setFileIdb:function(t){var e=this,n=t.target,o=new FileReader,s=n.files.item(0);o.readAsText(s,"UTF-8"),o.onload=function(t){e.jsonString=t.target.result},o.onerror=function(t){e.error=r()(t)}},setFileLocalStorage:function(t){var e=this,n=t.target,o=new FileReader,s=n.files.item(0);o.readAsText(s,"UTF-8"),o.onload=function(t){e.lsString=t.target.result},o.onerror=function(t){e.error=r()(t)}},importData:function(){if(this.jsonString&&this.lsString){var t=this,e={message:this.$t("Importando os dados"),duration:1e3};this.$bus.$emit("showSnackBar",e),Object(i.b)(t.jsonString).then(function(e){var n=JSON.parse(t.lsString);s()(n).forEach(function(t){localStorage.setItem(t,n[t])});var o={message:t.$t(e),duration:5e3};t.$bus.$emit("showSnackBar",o),setTimeout(function(){window.location.href=window.location.href},3e3)}).catch(function(t){alert("Error: "+t)})}else this.error="Selecione os arquivos"},adjustHeight:function(){var t=document.getElementsByTagName("input");if(t.length>0)for(var e=0;e<t.length;e++)t[e].blur();var n=document.documentElement.clientHeight,o=document.getElementById("app");null!=o&&(o.style.height=n+"px"),null!=(o=document.getElementsByClassName("mdl-app")[0])&&(o.style.height=n+"px"),null!=(o=document.getElementsByClassName("mdl-app-content")[0])&&(o.style.height=n+"px")},unSetHeight:function(){document.getElementsByClassName("mdl-app-content")[0].style.height="unset"}}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-container login",attrs:{id:"app"}},[n("div",{staticClass:"mdl-app"},[n("div",{staticClass:"toolbarbg mdl-app-toolbar"},[n("div",{staticClass:"mdl-toolbar-section-start"},[n("button",{staticClass:"mdl-button mld-button-icon-text button-back",on:{click:t.goLoginPage}},[n("i",{staticClass:"material-icons"},[t._v("chevron_left")]),t._v("\n          "+t._s(t.$t("Voltar"))+"\n        ")])]),t._v(" "),n("h5",{staticClass:"pageTitle"},[t._v(t._s(t.$t("Recuperar Dados")))]),t._v(" "),n("div",{staticClass:"mdl-toolbar-section-end"})]),t._v(" "),n("div",{staticClass:"mdl-app-content"},[t._m(0),t._v(" "),n("div",{staticClass:"centered-container"},[n("div",{staticClass:"mdl-content "},[n("h5",{staticClass:"subheading"},[t._v(t._s(t.$t("Recuperar Dados")))]),t._v(" "),n("div",[n("span",[t._v("IndexDB")]),t._v(" "),n("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-textfield"},[n("input",{directives:[{name:"mdl",rawName:"v-mdl"}],ref:"fileToImportIdb",staticClass:"mdl-textfield__input",attrs:{type:"file",id:"fileToImportIdb"},on:{change:t.setFileIdb}})])]),t._v(" "),n("div",[n("span",[t._v("LocalStorage")]),t._v(" "),n("div",{directives:[{name:"mdl",rawName:"v-mdl"}],staticClass:"mdl-textfield"},[n("input",{directives:[{name:"mdl",rawName:"v-mdl"}],ref:"fileToImportLs",staticClass:"mdl-textfield__input",attrs:{type:"file",id:"fileToImportLs"},on:{change:t.setFileLocalStorage}})])]),t._v(" "),n("span",{staticClass:"mdl-error"},[t._v(t._s(t.error))]),t._v(" "),n("span",{staticClass:"mdl-toolbar-section-end"},[n("button",{staticClass:"mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect",on:{click:t.importData}},[n("i",{staticClass:"material-icons arrow-right"},[t._v("keyboard_arrow_right")])])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:n("jkwb")}})])}]};var u=n("VU/8")(l,c,!1,function(t){n("Gnwg")},"data-v-08ad3220",null);e.default=u.exports}});
//# sourceMappingURL=9.544c38f832c3ac6f6a57.js.map