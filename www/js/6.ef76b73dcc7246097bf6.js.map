{"version":3,"sources":["webpack:///src/components/form/fields/InputCheckboxes.vue","webpack:///./src/components/form/fields/InputCheckboxes.vue?7aa2","webpack:///./src/components/form/fields/InputCheckboxes.vue","webpack:///src/pages/tasks/ListTasks.vue","webpack:///./src/pages/tasks/ListTasks.vue?86b5","webpack:///./src/pages/tasks/ListTasks.vue","webpack:///./src/plugins/http/download.js"],"names":["InputCheckboxes","extends","InputBase","name","props","field","type","Object","required","fields_InputCheckboxes","render","_vm","this","_h","$createElement","_c","_self","readOnly","staticClass","domProps","innerHTML","_s","texto","_v","directives","rawName","value","expression","_l","item","index","key","label","vars","attrs","id","checked","Array","isArray","_i","on","change","$event","$$a","$$el","target","$$c","$$v","$$i","$set","concat","slice","staticRenderFns","__webpack_require__","normalizeComponent","ssrContext","ListTasks","components","HourSeparator","TaskItem","InputAccordingSimple","data","tasksMorning","tasksEvening","tasksNight","tasksDawn","synchronizationTasks","synchronizationRoute","errorAproveRoute","allowOrder","orderName","fabActive","computed","extends_default","vuex_esm","tasks","user","viewDate","startBackground","morning","time","period","$t","reorder","evening","night","dawn","watch","sortTasksByPeriod","$bus","$emit","created","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","date","wrap","_context","prev","next","Date","$store","dispatch","task","getters","initRastreamento","stop","beforeMount","ComponentTasksClass","vue_esm","extend","ComponentRouteClass","mounted","console","log","window","inSync","makeTasksSync","then","response","catch","pageTitle","mapMenu","backMenu","$root","dialogOpen","methods","_this2","all","filter","rota","route","status","dataTarefa","sort","b","urgente","forEach","tarefa","planedStartHour","JSON","parse","planedStart","hora","utils","push","setDate","event","_this3","_callee2","_context2","routeBlocked","bloqueada","requestAproveRoute","timeoutAproveRoute","dialog","$el","querySelector","open","close","showModal","error","sincPreAproveRoute","finally","setTimeout","closeModal","_this4","auth","_ref","_ref2","snackbar","message","ordernarUrgencia","tarefaAcima","tarefaAbaixo","findIndex","obj","direction","length","reorderTasks","_this5","_callee3","promise","_context3","t0","updateOrderTask","abrupt","entities_tarefa","_ref3","_this6","promise_default","_callee5","resolve","reject","i","_context5","_ref4","_callee4","_context4","sinc","updated_at","formatInputDateTime","toISOString","_x3","apply","arguments","_x","_x2","_this7","_callee7","_context7","_ref5","_callee6","_context6","$on","$off","download","_x4","_x5","tasks_ListTasks","model","showreorder","order","_e","class","click","$router","_m","ListTasks_Component","ListTasks_normalizeComponent","__webpack_exports__","deleteFile","arquivo","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","requestFileSystem","webkitRequestFileSystem","fileSystem","root","getFile","fileEntry","isFile","remove","entry"],"mappings":"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","file":"js/6.ef76b73dcc7246097bf6.js","sourcesContent":["<template>\r\n  <div>\r\n    <div v-if=\"!readOnly\" class=\"section-field\">\r\n\r\n      <label class=\"orange\"><span v-html=\"field.label\"></span> <span v-show=\"obrigatorio\">*</span></label>\r\n\r\n      <label v-mdl class=\"mdl-checkbox mdl-js-checkbox \"\r\n             v-for=\"(item, index) in field.vars.items\" :key=\"index\">\r\n        <input type=\"checkbox\" :id=\"item.name+item.id\" :name=\"item.name\" class=\"mdl-checkbox__input\"\r\n               v-model=\"field.value\" :value=\"item.id\">\r\n        <span class=\"mdl-checkbox__label\">{{item.name}}</span>\r\n      </label>\r\n\r\n      <span class=\"mdl-error\" v-for=\"(item, index) in errors\" :key=\"index\" v-html=\"item\"></span>\r\n    </div>\r\n    <div v-else class=\"readOnly\">\r\n      <label class=\"orange\"><span v-html=\"texto\"></span> <span v-show=\"obrigatorio\">*</span></label>\r\n      <span class=\"value\">\r\n      <span v-for=\"(item,index) in field.value\" :key=\"index\">{{item}}<br/></span>\r\n    </span>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport TRInputBase from './InputBase.vue'\r\n\r\nexport default {\r\n  extends: TRInputBase,\r\n  name: 'InputCheckboxes',\r\n  props: {\r\n    field: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  .mdl-checkbox {\r\n    border-bottom: 0;\r\n  }\r\n</style>\r\n<!--\r\n{\r\n  name: 'checkboxes',\r\n  label: 'Lista de multipla escolha',\r\n  id: '124551',\r\n  value: [],\r\n  vars: {\r\n    items: [\r\n      {\r\n        name: 'asd',\r\n        id: 1\r\n      },\r\n      {\r\n        name: 'dfg',\r\n        id: 2\r\n      }\r\n    ]\r\n  }\r\n}\r\n-->\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/form/fields/InputCheckboxes.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.readOnly)?_c('div',{staticClass:\"section-field\"},[_c('label',{staticClass:\"orange\"},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.field.label)}}),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.obrigatorio),expression:\"obrigatorio\"}]},[_vm._v(\"*\")])]),_vm._v(\" \"),_vm._l((_vm.field.vars.items),function(item,index){return _c('label',{directives:[{name:\"mdl\",rawName:\"v-mdl\"}],key:index,staticClass:\"mdl-checkbox mdl-js-checkbox \"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.field.value),expression:\"field.value\"}],staticClass:\"mdl-checkbox__input\",attrs:{\"type\":\"checkbox\",\"id\":item.name+item.id,\"name\":item.name},domProps:{\"value\":item.id,\"checked\":Array.isArray(_vm.field.value)?_vm._i(_vm.field.value,item.id)>-1:(_vm.field.value)},on:{\"change\":function($event){var $$a=_vm.field.value,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=item.id,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.field, \"value\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.field, \"value\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.field, \"value\", $$c)}}}}),_vm._v(\" \"),_c('span',{staticClass:\"mdl-checkbox__label\"},[_vm._v(_vm._s(item.name))])])}),_vm._v(\" \"),_vm._l((_vm.errors),function(item,index){return _c('span',{key:index,staticClass:\"mdl-error\",domProps:{\"innerHTML\":_vm._s(item)}})})],2):_c('div',{staticClass:\"readOnly\"},[_c('label',{staticClass:\"orange\"},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.texto)}}),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.obrigatorio),expression:\"obrigatorio\"}]},[_vm._v(\"*\")])]),_vm._v(\" \"),_c('span',{staticClass:\"value\"},_vm._l((_vm.field.value),function(item,index){return _c('span',{key:index},[_vm._v(_vm._s(item)),_c('br')])}),0)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-91888cdc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/form/fields/InputCheckboxes.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-91888cdc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./InputCheckboxes.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./InputCheckboxes.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./InputCheckboxes.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-91888cdc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./InputCheckboxes.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-91888cdc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/form/fields/InputCheckboxes.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"tasks-page\">\r\n    <div class=\"content-page\">\r\n      <template v-if=\"tasksMorning.length > 0\">\r\n        <HourSeparator :model=\"morning\" @reorder=\"reorderTasks($event)\" :showreorder=\"routeBlocked()\"></HourSeparator>\r\n        <TaskItem v-for=\"item in tasksMorning\" :key=\"item.id\" :task=\"item\" @order=\"ordernarUrgencia($event)\"></TaskItem>\r\n      </template>\r\n\r\n      <template v-if=\"tasksEvening.length > 0\">\r\n        <HourSeparator :model=\"evening\" @reorder=\"reorderTasks($event)\" :showreorder=\"routeBlocked()\"></HourSeparator>\r\n        <TaskItem v-for=\"item in tasksEvening\" :key=\"item.id\" :task=\"item\" @order=\"ordernarUrgencia($event)\"></TaskItem>\r\n      </template>\r\n\r\n      <template v-if=\"tasksNight.length > 0\">\r\n        <HourSeparator :model=\"night\" @reorder=\"reorderTasks($event)\" :showreorder=\"routeBlocked()\"></HourSeparator>\r\n        <TaskItem v-for=\"item in tasksNight\" :key=\"item.id\" :task=\"item\" @order=\"ordernarUrgencia($event)\"></TaskItem>\r\n      </template>\r\n\r\n      <template v-if=\"tasksDawn.length > 0\">\r\n        <HourSeparator :model=\"dawn\" @reorder=\"reorderTasks($event)\" :showreorder=\"routeBlocked()\"></HourSeparator>\r\n        <TaskItem v-for=\"item in tasksDawn\" :key=\"item.id\" :task=\"item\" @order=\"ordernarUrgencia($event)\"></TaskItem>\r\n      </template>\r\n\r\n    </div>\r\n\r\n    <div class=\"botton-actions\" :class=\"[routeBlocked() ? 'space-between' : '', this.orderName == '' ? '' : 'hidden']\">\r\n      <div class=\"col-auto col-aproveRoute\">\r\n        <button @click=\"requestAproveRoute()\" v-show=\"routeBlocked()\"\r\n                class=\"mdl-button mdl-button--raised mdl-button--accent orange whited\">\r\n        {{ $t('Solicitar aprovação de rota') }}\r\n        </button>\r\n      </div>\r\n      <div class=\"col-auto col-actions\">\r\n        <div class=\"actions\" :class=\"[fabActive ? 'fab-open' : '']\">\r\n          <button class=\"mdl-button  mdl-button--fab mdl-button--mini-fab orange\" @click=\"$router.push('/occurrence')\" >\r\n            <i class=\"material-icons\">warning</i>\r\n          </button>\r\n          <button @click=\"$router.push('/messages')\" class=\"mdl-button  mdl-button--fab mdl-button--mini-fab orange\">\r\n            <i class=\"material-icons message\">message</i>\r\n          </button>\r\n          <button class=\"mdl-button mdl-button--fab  mdl-button--fab--text button-actions orange\" @click=\"fabActive = !fabActive\">\r\n            <span id=\"nav-icon\">\r\n              <span></span>\r\n              <span></span>\r\n              <span></span>\r\n              <span></span>\r\n            </span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <dialog v-mdl class=\"mdl-dialog\" id=\"dialogLoaderRequestAproveRoute\">\r\n      <h6 v-if=\"!errorAproveRoute\" class=\"mdl-dialog__title\">{{ $t('Solicitando aprovação de rota') }}</h6>\r\n      <div v-else class=\"mdl-dialog__title\">\r\n        <center><i class=\"material-icons warning error\">warning</i><br></center>\r\n        <h6>{{ $t('Solicitação de aprovação de rota demorando mais que o normal!') }}</h6>\r\n      </div>\r\n      <div v-if=\"!errorAproveRoute\" class=\"mdl-dialog__content\">\r\n        <div class=\"tiny-loader\"></div>\r\n        <p>{{$t('Aguarde')}}</p>\r\n      </div>\r\n      <div v-else class=\"mdl-dialog__content\">\r\n        <button @click=\"requestAproveRoute\" class=\"mdl-button mdl-button--raised mld-button-small mdl-button--colored\">\r\n          <span>{{$t('Tentar Novamente')}}</span>\r\n        </button>\r\n        <button @click=\"closeModal\" class=\"mdl-button \" v-show=\"routeBlocked()\">\r\n          <span>{{$t('Cancelar')}}</span>\r\n        </button>\r\n      </div>\r\n    </dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport TaskItem from '@/components/shared/TaskItem.vue'\r\nimport HourSeparator from '@/components/shared/HourSeparator.vue'\r\nimport { mapGetters } from 'vuex'\r\nimport { existsInArray } from '../../utils'\r\nimport SynchronizationTasks from '../../plugins/tasks/synchronizationTasks'\r\nimport SynchronizationRoute from '../../plugins/routes/synchronizationRoute'\r\nimport { saveTarefas, prepareForAproveRoute } from '@/plugins/persistence/entities/tarefa'\r\nimport { deleteFile } from '@/plugins/http/download'\r\nimport formatInputDateTime from '@/filters/date/formatInputDateTime'\r\nimport { makeUserStartBackground } from '@/services/auth'\r\nimport InputAccordingSimple from '@/components/form/fields'\r\n\r\nexport default {\r\n  name: 'Tasks',\r\n  components: {\r\n    HourSeparator,\r\n    TaskItem,\r\n    InputAccordingSimple\r\n  },\r\n  data () {\r\n    return {\r\n      tasksMorning: [],\r\n      tasksEvening: [],\r\n      tasksNight: [],\r\n      tasksDawn: [],\r\n      synchronizationTasks: null,\r\n      synchronizationRoute: null,\r\n      errorAproveRoute: false,\r\n      allowOrder: true,\r\n      orderName: '',\r\n      fabActive: false\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      tasks: 'task/tasks',\r\n      user: 'user/user',\r\n      viewDate: 'task/viewDate',\r\n      startBackground: 'user/startBackground'\r\n    }),\r\n    morning () {\r\n      return {\r\n        name: 'morning',\r\n        time: '07:00',\r\n        period: this.$t('Manhã'),\r\n        reorder: false\r\n      }\r\n    },\r\n    evening () {\r\n      return {\r\n        name: 'evening',\r\n        time: '13:00',\r\n        period: this.$t('Tarde'),\r\n        reorder: false\r\n      }\r\n    },\r\n    night () {\r\n      return {\r\n        name: 'night',\r\n        time: '19:00',\r\n        period: this.$t('Noite'),\r\n        reorder: false\r\n      }\r\n    },\r\n    dawn () {\r\n      return {\r\n        name: 'dawn',\r\n        time: '01:00',\r\n        period: this.$t('Madrugada'),\r\n        reorder: false\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    tasks (value) {\r\n      this.sortTasksByPeriod()\r\n      this.$bus.$emit('delete-old-tasks')\r\n    }\r\n  },\r\n  async created () {\r\n    let date = new Date()\r\n    await this.$store.dispatch('task/updateViewDate', {date: date})\r\n    await this.$store.dispatch('task/getTasks', {})\r\n    await this.$store.dispatch('task/setCurrentTask', {task: null})\r\n    let startBackground = this.$store.getters['user/startBackground']\r\n    if (startBackground == 'true') {\r\n      this.initRastreamento()\r\n    }\r\n  },\r\n  beforeMount () {\r\n    const ComponentTasksClass = Vue.extend(SynchronizationTasks)\r\n    this.synchronizationTasks = new ComponentTasksClass()\r\n    const ComponentRouteClass = Vue.extend(SynchronizationRoute)\r\n    this.synchronizationRoute = new ComponentRouteClass()\r\n  },\r\n  mounted () {\r\n    let _self = this\r\n    console.log(this.tasks)\r\n    window.inSync = false\r\n\r\n    this.synchronizationTasks.makeTasksSync(this, false, true).then(response => {\r\n      _self.$bus.$emit('tasks-sync', true)\r\n    }).catch(() => {\r\n      _self.$bus.$emit('tasks-sync', false)\r\n    })\r\n\r\n    this.fabActive = false\r\n\r\n    this.$emit('changeParams', {\r\n      pageTitle: this.$t('OS em preparo'),\r\n      mapMenu: true,\r\n      backMenu: false\r\n    })\r\n    this.$root.dialogOpen = false // garante que menu vai estar disponível\r\n    this.sortTasksByPeriod()\r\n  },\r\n  methods: {\r\n    sortTasksByPeriod () {\r\n      let _self = this\r\n      this.tasksMorning = []\r\n      this.tasksEvening = []\r\n      this.tasksNight = []\r\n      this.tasksDawn = []\r\n\r\n      if (this.tasks.all) {\r\n        const date = this.viewDate\r\n        // only tasks with status different of concluida or malsucedida\r\n        const tasks = this.tasks.all.filter(task => {\r\n          return task.rota == _self.user.route.id && task.status != 'concluida' && task.status != 'malsucedida' && task.dataTarefa == date\r\n        })\r\n\r\n        tasks.sort(function (a, b) {\r\n          if (a.urgente < b.urgente) { return -1 }\r\n          if (a.urgente > b.urgente) { return 1 }\r\n          return 0\r\n        })\r\n\r\n        tasks.forEach(tarefa => {\r\n          let planedStartParsed = JSON.parse(tarefa.planedStart)\r\n          let planedStartHour = planedStartParsed.hora\r\n\r\n          if ((planedStartHour >= 1) && (planedStartHour <= 6)) {\r\n            if (!existsInArray(this.tasksDawn, tarefa)) {\r\n              this.tasksDawn.push(tarefa)\r\n            }\r\n          } else if ((planedStartHour >= 7) && (planedStartHour <= 12)) {\r\n            if (!existsInArray(this.tasksMorning, tarefa)) {\r\n              this.tasksMorning.push(tarefa)\r\n            }\r\n          } else if ((planedStartHour >= 13) && (planedStartHour <= 18)) {\r\n            if (!existsInArray(this.tasksEvening, tarefa)) {\r\n              this.tasksEvening.push(tarefa)\r\n            }\r\n          } else if ((planedStartHour >= 19) && (planedStartHour <= 23)) {\r\n            if (!existsInArray(this.tasksNight, tarefa)) {\r\n              this.tasksNight.push(tarefa)\r\n            }\r\n          }\r\n        })\r\n      }\r\n    },\r\n    async setDate (event) {\r\n      await this.$store.dispatch('task/updateViewDate', {date: event.target.value})\r\n      await this.$store.dispatch('task/getTasks', {})\r\n      this.$bus.$emit('tasks-sync', true)\r\n      this.sortTasksByPeriod()\r\n    },\r\n    routeBlocked () {\r\n      if (this.user && this.user.route && this.user.route.status == '1' && this.tasks.bloqueada) {\r\n        return true\r\n      }\r\n      return false\r\n    },\r\n    requestAproveRoute () {\r\n      let _self = this\r\n      _self.timeoutAproveRoute = true\r\n      _self.errorAproveRoute = false\r\n      const dialog = 'dialogLoaderRequestAproveRoute'\r\n      try {\r\n        if (this.$el.querySelector('#' + dialog).open) {\r\n          this.$el.querySelector('#' + dialog).close()\r\n          this.$el.querySelector('#' + dialog).showModal()\r\n        } else {\r\n          this.$el.querySelector('#' + dialog).showModal()\r\n        }\r\n      } catch (error) {\r\n        console.log('dialog error')\r\n      }\r\n      this.initRastreamento()\r\n      this.sincPreAproveRoute().finally(() => {\r\n        try {\r\n          _self.$el.querySelector('#' + dialog).close()\r\n          _self.timeoutAproveRoute = false\r\n          _self.fabActive = false\r\n        } catch (error) {\r\n          console.log('dialog error')\r\n        }\r\n      })\r\n\r\n      setTimeout(() => {\r\n        if (_self.timeoutAproveRoute) {\r\n          _self.errorAproveRoute = true\r\n        }\r\n      }, 60000)\r\n    },\r\n    closeModal () {\r\n      const dialog = 'dialogLoaderRequestAproveRoute'\r\n      try {\r\n        this.$el.querySelector('#' + dialog).close()\r\n      } catch (error) {\r\n        console.log('dialog error')\r\n      }\r\n    },\r\n    initRastreamento () {\r\n      this.$bus.$emit('startBackground', true)\r\n      makeUserStartBackground(this.user).then(({ data }) => {\r\n        console.log('Inicio Rastreamento')\r\n      }).catch(({ data }) => {\r\n        this.error = this.$t(data.error)\r\n        const snackbar = {\r\n          message: this.$t(this.error)\r\n        }\r\n        this.$bus.$emit('showSnackBar', snackbar)\r\n      })\r\n    },\r\n    ordernarUrgencia ($event) {\r\n      var index\r\n      var tarefaAcima\r\n      var tarefaAbaixo\r\n      var tarefa\r\n      switch (this.orderName) {\r\n        case 'morning':\r\n          index = this.tasksMorning.findIndex(obj => {\r\n            return obj.id == $event.id\r\n          })\r\n          tarefa = this.tasksMorning[index]\r\n          if ($event.direction == 'up') {\r\n            if (index > 0) {\r\n              tarefaAcima = this.tasksMorning[index - 1]\r\n              this.$set(this.tasksMorning, index, tarefaAcima)\r\n              this.$set(this.tasksMorning, index - 1, tarefa)\r\n            }\r\n          }\r\n          if ($event.direction == 'down') {\r\n            if (index < (this.tasksMorning.length - 1)) {\r\n              tarefaAbaixo = this.tasksMorning[index + 1]\r\n              this.$set(this.tasksMorning, index, tarefaAbaixo)\r\n              this.$set(this.tasksMorning, index + 1, tarefa)\r\n            }\r\n          }\r\n          break\r\n        case 'evening':\r\n          index = this.tasksEvening.findIndex(obj => {\r\n            return obj.id == $event.id\r\n          })\r\n          tarefa = this.tasksEvening[index]\r\n          if ($event.direction == 'up') {\r\n            if (index > 0) {\r\n              tarefaAcima = this.tasksEvening[index - 1]\r\n              this.$set(this.tasksEvening, index, tarefaAcima)\r\n              this.$set(this.tasksEvening, index - 1, tarefa)\r\n            }\r\n          }\r\n          if ($event.direction == 'down') {\r\n            if (index < (this.tasksEvening.length - 1)) {\r\n              tarefaAbaixo = this.tasksEvening[index + 1]\r\n              this.$set(this.tasksEvening, index, tarefaAbaixo)\r\n              this.$set(this.tasksEvening, index + 1, tarefa)\r\n            }\r\n          }\r\n          break\r\n        case 'night':\r\n          index = this.tasksNight.findIndex(obj => {\r\n            return obj.id == $event.id\r\n          })\r\n          tarefa = this.tasksNight[index]\r\n          if ($event.direction == 'up') {\r\n            if (index > 0) {\r\n              tarefaAcima = this.tasksNight[index - 1]\r\n              this.$set(this.tasksNight, index, tarefaAcima)\r\n              this.$set(this.tasksNight, index - 1, tarefa)\r\n            }\r\n          }\r\n          if ($event.direction == 'down') {\r\n            if (index < (this.tasksNight.length - 1)) {\r\n              tarefaAbaixo = this.tasksNight[index + 1]\r\n              this.$set(this.tasksNight, index, tarefaAbaixo)\r\n              this.$set(this.tasksNight, index + 1, tarefa)\r\n            }\r\n          }\r\n          break\r\n        case 'dawn':\r\n          index = this.tasksDawn.findIndex(obj => {\r\n            return obj.id == $event.id\r\n          })\r\n          tarefa = this.tasksDawn[index]\r\n          if ($event.direction == 'up') {\r\n            if (index > 0) {\r\n              tarefaAcima = this.tasksDawn[index - 1]\r\n              this.$set(this.tasksDawn, index, tarefaAcima)\r\n              this.$set(this.tasksDawn, index - 1, tarefa)\r\n            }\r\n          }\r\n          if ($event.direction == 'down') {\r\n            if (index < (this.tasksDawn.length - 1)) {\r\n              tarefaAbaixo = this.tasksDawn[index + 1]\r\n              this.$set(this.tasksDawn, index, tarefaAbaixo)\r\n              this.$set(this.tasksDawn, index + 1, tarefa)\r\n            }\r\n          }\r\n          break\r\n      }\r\n      this.reorderTasks('setas')\r\n    },\r\n    async reorderTasks ($event) {\r\n      if ($event != 'setas' && this.orderName != '') {\r\n        this.orderName = ''\r\n      } else {\r\n        if (this.orderName == '') {\r\n          this.orderName = $event\r\n        } else {\r\n          let promise = null\r\n          switch (this.orderName) {\r\n            case 'morning':\r\n              promise = this.updateOrderTask(this.tasksMorning)\r\n              break\r\n            case 'evening':\r\n              promise = this.updateOrderTask(this.tasksEvening)\r\n              break\r\n            case 'night':\r\n              promise = this.updateOrderTask(this.tasksNight)\r\n              break\r\n            case 'dawn':\r\n              promise = this.updateOrderTask(this.tasksDawn)\r\n              break\r\n          }\r\n          promise.then(function (tasks) {\r\n            saveTarefas(tasks)\r\n          })\r\n        }\r\n      }\r\n    },\r\n    updateOrderTask (tasks) {\r\n      return new Promise(async (resolve, reject) => {\r\n        let i = 1\r\n        let _self = this\r\n        await tasks.forEach(async task => {\r\n          await _self.$store.dispatch('task/updateTaskData', {\r\n            task: task,\r\n            data: {\r\n              urgente: i++,\r\n              sinc: 0,\r\n              updated_at: formatInputDateTime(new Date().toISOString())\r\n            }\r\n          })\r\n        })\r\n        _self.sortTasksByPeriod()\r\n        switch (_self.orderName) {\r\n          case 'morning':\r\n            tasks = (_self.tasksMorning)\r\n            break\r\n          case 'evening':\r\n            tasks = (_self.tasksEvening)\r\n            break\r\n          case 'night':\r\n            tasks = (_self.tasksNight)\r\n            break\r\n          case 'dawn':\r\n            tasks = (_self.tasksDawn)\r\n            break\r\n        }\r\n        resolve(tasks)\r\n      })\r\n    },\r\n    async sincPreAproveRoute () {\r\n      return new Promise(async (resolve, reject) => {\r\n        window.inSync = false\r\n        let _self = this\r\n        this.fabActive = false\r\n        this.$bus.$on('tasks-sync-finish', () => {\r\n          _self.$bus.$off('tasks-sync-finish')\r\n        })\r\n        prepareForAproveRoute().then(() => {\r\n          this.synchronizationRoute.requestAproveRoute(this).then(() => {\r\n            this.tasks.all.forEach(task => {\r\n              deleteFile('task_' + task.id)\r\n            })\r\n            resolve()\r\n          })\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .tasks-page {\r\n    position: unset;\r\n    height: unset;\r\n    padding-bottom: 74px;\r\n  }\r\n</style>\r\n\r\n<style scoped>\r\n\r\n  .tasks-page:before {\r\n    content: '';\r\n    position: fixed;\r\n    bottom: 0px;\r\n    right: 0px;\r\n    width: 260px;\r\n    height: 140px;\r\n    /* background: url('../../assets/shared/bottom-left.svg'); */\r\n    background-size: 260px 140px;\r\n    background-repeat: no-repeat;\r\n    background-position: bottom right;\r\n    -moz-transform: scaleX(-1);\r\n    -webkit-transform: scaleX(-1);\r\n    -o-transform: scaleX(-1);\r\n    transform: scaleX(-1);\r\n    -ms-filter: fliph; /*IE*/\r\n    filter: fliph; /*IE*/\r\n    opacity: 0.3;\r\n    filter: alpha(opacity=30); /* For IE8 and earlier */\r\n  }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/tasks/ListTasks.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tasks-page\"},[_c('div',{staticClass:\"content-page\"},[(_vm.tasksMorning.length > 0)?[_c('HourSeparator',{attrs:{\"model\":_vm.morning,\"showreorder\":_vm.routeBlocked()},on:{\"reorder\":function($event){return _vm.reorderTasks($event)}}}),_vm._v(\" \"),_vm._l((_vm.tasksMorning),function(item){return _c('TaskItem',{key:item.id,attrs:{\"task\":item},on:{\"order\":function($event){return _vm.ordernarUrgencia($event)}}})})]:_vm._e(),_vm._v(\" \"),(_vm.tasksEvening.length > 0)?[_c('HourSeparator',{attrs:{\"model\":_vm.evening,\"showreorder\":_vm.routeBlocked()},on:{\"reorder\":function($event){return _vm.reorderTasks($event)}}}),_vm._v(\" \"),_vm._l((_vm.tasksEvening),function(item){return _c('TaskItem',{key:item.id,attrs:{\"task\":item},on:{\"order\":function($event){return _vm.ordernarUrgencia($event)}}})})]:_vm._e(),_vm._v(\" \"),(_vm.tasksNight.length > 0)?[_c('HourSeparator',{attrs:{\"model\":_vm.night,\"showreorder\":_vm.routeBlocked()},on:{\"reorder\":function($event){return _vm.reorderTasks($event)}}}),_vm._v(\" \"),_vm._l((_vm.tasksNight),function(item){return _c('TaskItem',{key:item.id,attrs:{\"task\":item},on:{\"order\":function($event){return _vm.ordernarUrgencia($event)}}})})]:_vm._e(),_vm._v(\" \"),(_vm.tasksDawn.length > 0)?[_c('HourSeparator',{attrs:{\"model\":_vm.dawn,\"showreorder\":_vm.routeBlocked()},on:{\"reorder\":function($event){return _vm.reorderTasks($event)}}}),_vm._v(\" \"),_vm._l((_vm.tasksDawn),function(item){return _c('TaskItem',{key:item.id,attrs:{\"task\":item},on:{\"order\":function($event){return _vm.ordernarUrgencia($event)}}})})]:_vm._e()],2),_vm._v(\" \"),_c('div',{staticClass:\"botton-actions\",class:[_vm.routeBlocked() ? 'space-between' : '', this.orderName == '' ? '' : 'hidden']},[_c('div',{staticClass:\"col-auto col-aproveRoute\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.routeBlocked()),expression:\"routeBlocked()\"}],staticClass:\"mdl-button mdl-button--raised mdl-button--accent orange whited\",on:{\"click\":function($event){return _vm.requestAproveRoute()}}},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('Solicitar aprovação de rota'))+\"\\n      \")])]),_vm._v(\" \"),_c('div',{staticClass:\"col-auto col-actions\"},[_c('div',{staticClass:\"actions\",class:[_vm.fabActive ? 'fab-open' : '']},[_c('button',{staticClass:\"mdl-button  mdl-button--fab mdl-button--mini-fab orange\",on:{\"click\":function($event){return _vm.$router.push('/occurrence')}}},[_c('i',{staticClass:\"material-icons\"},[_vm._v(\"warning\")])]),_vm._v(\" \"),_c('button',{staticClass:\"mdl-button  mdl-button--fab mdl-button--mini-fab orange\",on:{\"click\":function($event){return _vm.$router.push('/messages')}}},[_c('i',{staticClass:\"material-icons message\"},[_vm._v(\"message\")])]),_vm._v(\" \"),_c('button',{staticClass:\"mdl-button mdl-button--fab  mdl-button--fab--text button-actions orange\",on:{\"click\":function($event){_vm.fabActive = !_vm.fabActive}}},[_vm._m(0)])])])]),_vm._v(\" \"),_c('dialog',{directives:[{name:\"mdl\",rawName:\"v-mdl\"}],staticClass:\"mdl-dialog\",attrs:{\"id\":\"dialogLoaderRequestAproveRoute\"}},[(!_vm.errorAproveRoute)?_c('h6',{staticClass:\"mdl-dialog__title\"},[_vm._v(_vm._s(_vm.$t('Solicitando aprovação de rota')))]):_c('div',{staticClass:\"mdl-dialog__title\"},[_c('center',[_c('i',{staticClass:\"material-icons warning error\"},[_vm._v(\"warning\")]),_c('br')]),_vm._v(\" \"),_c('h6',[_vm._v(_vm._s(_vm.$t('Solicitação de aprovação de rota demorando mais que o normal!')))])],1),_vm._v(\" \"),(!_vm.errorAproveRoute)?_c('div',{staticClass:\"mdl-dialog__content\"},[_c('div',{staticClass:\"tiny-loader\"}),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.$t('Aguarde')))])]):_c('div',{staticClass:\"mdl-dialog__content\"},[_c('button',{staticClass:\"mdl-button mdl-button--raised mld-button-small mdl-button--colored\",on:{\"click\":_vm.requestAproveRoute}},[_c('span',[_vm._v(_vm._s(_vm.$t('Tentar Novamente')))])]),_vm._v(\" \"),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.routeBlocked()),expression:\"routeBlocked()\"}],staticClass:\"mdl-button \",on:{\"click\":_vm.closeModal}},[_c('span',[_vm._v(_vm._s(_vm.$t('Cancelar')))])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{attrs:{\"id\":\"nav-icon\"}},[_c('span'),_vm._v(\" \"),_c('span'),_vm._v(\" \"),_c('span'),_vm._v(\" \"),_c('span')])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2bf4b45a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/tasks/ListTasks.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2bf4b45a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ListTasks.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2bf4b45a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./ListTasks.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ListTasks.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ListTasks.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2bf4b45a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ListTasks.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2bf4b45a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/tasks/ListTasks.vue\n// module id = null\n// module chunks = ","export function download (url, name) {\r\n  return new Promise((resolve, reject) => {\r\n    if (typeof window.rootFS != 'undefined' && window.rootFS != false && name) {\r\n      window.rootFS.getFile(\r\n        name, {\r\n          create: true,\r\n          exclusive: false\r\n        },\r\n        (fileEntry) => {\r\n          fileEntry.getMetadata(function (metadata) {\r\n            if (metadata.size == 0 ||\r\n              ((new Date().getTime() - metadata.modificationTime.getTime()) / 1000 / 60 / 60 / 24) >= 1) {\r\n              getFileFromUrl(url).then(result => {\r\n                fileEntry.createWriter(writer => {\r\n                  writer.onwrite = function (evt) {\r\n                    resolve(result)\r\n                  }\r\n                  writer.write(result)\r\n                })\r\n              }).catch(error => {\r\n                reject(error)\r\n              })\r\n            } else {\r\n              resolve(fileEntry)\r\n            }\r\n          },\r\n          function (error) {\r\n            reject(error)\r\n          })\r\n        },\r\n        function (error) {\r\n          reject(error)\r\n        }\r\n      )\r\n    } else {\r\n      // Just get content as a text\r\n      getFileFromUrl(url).then(result => {\r\n        resolve(result)\r\n      }).catch(error => {\r\n        reject(error)\r\n      })\r\n    }\r\n  })\r\n}\r\n\r\nfunction getFileFromUrl (url) {\r\n  return new Promise((resolve, reject) => {\r\n    var oReq = new XMLHttpRequest()\r\n    // Make sure you add the domain name to the Content-Security-Policy <meta> element.\r\n    oReq.open('GET', url, true)\r\n    // Define how you want the XHR data to come back\r\n    oReq.responseType = 'blob'\r\n    oReq.onload = function (oEvent) {\r\n      var blob = oReq.response // Note: not oReq.responseText\r\n      if (blob) {\r\n        // Or read the data with a FileReader\r\n        var reader = new FileReader()\r\n        reader.addEventListener('loadend', function () {\r\n          resolve(reader.result)\r\n        }, error => {\r\n          reject(error)\r\n        })\r\n        reader.readAsText(blob)\r\n      } else reject(blob)\r\n    }\r\n    oReq.send(null)\r\n  })\r\n}\r\n\r\nexport function loadFile (arquivo) {\r\n  return new Promise((resolve, reject) => {\r\n    window.requestFileSystem = window.requestFileSystem || window.webkitRequestFileSystem\r\n    window.requestFileSystem(1, 0, function onFileSystemSuccess (fileSystem) {\r\n      fileSystem.root.getFile(arquivo, null, function gotFileEntry (fileEntry) {\r\n        fileEntry.file(function (file) {\r\n          var reader = new FileReader()\r\n          reader.onloadend = function (evt) {\r\n            try {\r\n              let jsonDownload = JSON.parse(evt.target.result)\r\n              resolve(jsonDownload)\r\n            } catch (e) {\r\n              deleteFile(arquivo).then(result => {\r\n                reject(e)\r\n              })\r\n            }\r\n          }\r\n          reader.readAsText(file)\r\n        },\r\n        function (error) {\r\n          reject(error)\r\n        })\r\n      },\r\n      function (error) {\r\n        reject(error)\r\n      })\r\n    },\r\n    function (error) {\r\n      reject(error)\r\n    })\r\n  })\r\n}\r\nexport function deleteFile (arquivo) {\r\n  return new Promise((resolve, reject) => {\r\n    window.requestFileSystem = window.requestFileSystem || window.webkitRequestFileSystem\r\n    window.requestFileSystem(\r\n      1,\r\n      0,\r\n      function onFileSystemSuccess (fileSystem) {\r\n        fileSystem.root.getFile(\r\n          arquivo,\r\n          null,\r\n          function gotFileEntry (fileEntry) {\r\n            if (fileEntry.isFile) {\r\n              fileEntry.remove(\r\n                function (entry) {\r\n                  resolve(entry)\r\n                },\r\n                function (error) {\r\n                  reject(error)\r\n                })\r\n            }\r\n          },\r\n          function (error) {\r\n            reject(error)\r\n          })\r\n      },\r\n      function (error) {\r\n        reject(error)\r\n      })\r\n  })\r\n}\r\n\r\nexport function getFile (arquivo, callback) {\r\n  window.requestFileSystem = window.requestFileSystem || window.webkitRequestFileSystem\r\n  window.requestFileSystem(\r\n    1,\r\n    0,\r\n    function onFileSystemSuccess (fileSystem) {\r\n      fileSystem.root.getFile(\r\n        arquivo,\r\n        null,\r\n        function gotFileEntry (fileEntry) {\r\n          fileEntry.file(\r\n            function (file) {\r\n              var reader = new FileReader()\r\n              reader.onloadend = function (evt) {\r\n                console.log('Read as JSON ' + arquivo)\r\n                if (typeof callback == 'function') {\r\n                  callback(evt.target.result)\r\n                } else {\r\n                  window.jsonDownload = JSON.parse(evt.target.result)\r\n                }\r\n              }\r\n              reader.readAsText(file)\r\n            },\r\n            function (error) {\r\n              console.log(error)\r\n            }\r\n          )\r\n        },\r\n        function (error) {\r\n          console.log(error)\r\n        }\r\n      )\r\n    },\r\n    function (error) {\r\n      console.log(error)\r\n    }\r\n  )\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/http/download.js"],"sourceRoot":""}